[
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "data",
    "section": "",
    "text": "Data page, stay tuned!"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "code.html",
    "href": "code.html",
    "title": "LIST|ç»ç®¡ç±»å®è¯ç ”ç©¶å¸¸ç”¨ä»£ç å®ç°æ¸…å•",
    "section": "",
    "text": "è¿™é‡Œæ˜¯åœ¨å„ç§é¡¹ç›®ä¸­å®ç°è¿‡çš„é›¶é›¶ç¢ç¢åŠŸèƒ½çš„æ±‡æ€»ï¼Œä¸»è¦æ˜¯ä¸æ•°æ®åˆ†æã€è®¡é‡ç»Ÿè®¡ç›¸å…³çš„ Python ä»£ç ã€‚å¦‚æœèƒ½å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæˆ‘å¾ˆå¼€å¿ƒğŸ˜\n\n\nè®¡é‡ç»Ÿè®¡\n\näº‹ä»¶ç ”ç©¶æ³•ï¼šä¸€é”®è®¡ç®—ç´¯è®¡å¼‚å¸¸æ”¶ç›Šç‡ï¼Œè¾“å‡ºæè¿°æ€§ç»Ÿè®¡å’Œ t æ£€éªŒç»“æœ\nç†µå€¼æ³•\n\n\n\nç½‘ç»œçˆ¬è™«\n\nä½¿ç”¨ Selenium çˆ¬å–æ–°æµªè´¢ç» ESG è¯„çº§æŒ‡æ•°\nä½¿ç”¨å¤šçº¿ç¨‹çˆ¬å–å·¨æ½®èµ„è®¯ä¸Šå¸‚å…¬å¸å…¬å‘Š PDF æ–‡ä»¶"
  },
  {
    "objectID": "posts/2023-02-01-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-æ•°æ®æ¸…æ´—Part2/index.html",
    "href": "posts/2023-02-01-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-æ•°æ®æ¸…æ´—Part2/index.html",
    "title": "æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-æ•°æ®æ¸…æ´—Part2",
    "section": "",
    "text": "è¿™ç¯‡åšå®¢ï¼ˆè§†é¢‘ï¼‰è®°å½•åŒºå—é“¾æŠ€æœ¯æŠ•èµ„å…¬å‘Šæ•ˆåº”ç ”ç©¶æ ·æœ¬çš„æ•°æ®æ¸…æ´—è¿‡ç¨‹ï¼Œä¸»è¦å†…å®¹æ˜¯å‰”é™¤ä¸šç»©é¢„å‘Šã€åˆ†çº¢ã€æ”¶è´­å¹¶è´­ã€é‡ç»„ä»¥åŠå…¶ä»–çªå‘äº‹ä»¶å…¬å‘Šæ—¥è½åœ¨äº‹ä»¶çª—å£æœŸä¹‹å†…æ ·æœ¬å…¬å¸ã€‚ \n\nimport logging\nfrom datetime import date, timedelta\n\nimport numpy as np\nimport pandas as pd\nimport requests\n\nlogging.basicConfig(level=logging.INFO)\n\n\ndata = pd.read_csv('./data/tidyed_data.csv', converters={u'secCode':str})\n\n\ndata.head()\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\n\n\n\n\n0\n002152\nå¹¿ç”µè¿é€š\n9900003423\nå¹¿ç”µè¿é€šï¼š2016å¹´4æœˆ1æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-06\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n9ã€å…¬å¸æè¿‡æœ‰å‚¨å¤‡åŒºå—é“¾æŠ€æœ¯ï¼Œæ˜¯å¦å¯ä»¥ä»‹ç»ï¼Ÿ\n\n\n1\n002177\nå¾¡é“¶è‚¡ä»½\n9900003781\nå¾¡é“¶è‚¡ä»½ï¼š2016å¹´4æœˆ21æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-21\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n4ã€å…¬å¸åœ¨åŒºå—é“¾æŠ€æœ¯ä¸Šæœªæ¥æœ‰ä»€ä¹ˆè§„åˆ’ï¼Ÿ\n\n\n2\n300386\né£å¤©è¯šä¿¡\n9900023058\né£å¤©è¯šä¿¡ï¼š2016å¹´4æœˆ22æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-25\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\nå…¬å¸åœ¨åŒºå—é“¾éƒ¨åˆ†å¦‚ä½•å¸ƒå±€?\n\n\n3\n000997\næ–° å¤§ é™†\ngssz0000997\næ–° å¤§ é™†ï¼šè‘£äº‹ä¼šå…³äºæœ¬æ¬¡å‹Ÿé›†èµ„é‡‘ä½¿ç”¨çš„å¯è¡Œæ€§åˆ†æ\n2016-06-03\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\næ”¯ä»˜è¡Œä¸šæŠ€æœ¯åˆ›æ–°å’Œä¸šåŠ¡åˆ›æ–°ä¸æ–­æ¶Œç°ï¼ŒåŒ…æ‹¬ NFCã€æ¡ç ï¼ˆäºŒç»´ç ï¼‰æ”¯ä»˜ã€å¯ä¿¡æœåŠ¡å¹³å°ï¼ˆTSMï¼‰...\n\n\n4\n300423\né²äº¿é€š\n9900028812\né²äº¿é€šï¼šå…³äºæœ¬æ¬¡äº¤æ˜“å‰12ä¸ªæœˆå†…è´­ä¹°ã€å‡ºå”®èµ„äº§çš„è¯´æ˜\n2016-06-09\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nåŒæ—¶ï¼Œä¸Šå¸‚å…¬å¸æ‹Ÿé‡‡ç”¨å®šä»·å‘è¡Œçš„æ–¹å¼å‘çºªæ³•æ¸…ã€å­”å‰‘å¹³ã€å­™å¥‡é”‹ã€ç‹éº’è¯šå’Œä¸­ä¿¡å»ºæŠ•-æ•°è´æ³½åäººå·¥æ™º...\n\n\n\n\n\n\n\n\ndata.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 394 entries, 0 to 393\nData columns (total 7 columns):\n #   Column               Non-Null Count  Dtype \n---  ------               --------------  ----- \n 0   secCode              394 non-null    object\n 1   secName              394 non-null    object\n 2   orgId                394 non-null    object\n 3   announcementTitle    394 non-null    object\n 4   announcementTime     394 non-null    object\n 5   adjunctUrl           394 non-null    object\n 6   announcementContent  394 non-null    object\ndtypes: object(7)\nmemory usage: 21.7+ KB\n\n\n\ndef get_json(codedata, seDate):\n    \"\"\"è·å– json æ•°æ®\n\n    Args:\n        codedata (str): 'code,orgId'\n        seDate (str): '2019-05-03~2019-05-05'\n\n    Returns:\n        res.json(): json data\n    \"\"\"\n    url = 'http://www.cninfo.com.cn/new/hisAnnouncement/query'\n    headers = {\n        \"Accept-Encoding\": \"gzip\",\n        \"User-Agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36\",\n    }\n    \n    payload = {\n#       'stock': 'code,orgId',\n        'tabName': 'fulltext',\n        'pageSize': '30',\n        'pageNum': '1',\n        'column': 'szse',\n        'category': 'category_yjygjxz_szsh;category_qyfpxzcs_szsh;category_zf_szsh;category_jj_szsh;category_tbclts_szsh;category_tszlq_szsh;category_ndbg_szsh;category_bndbg_szsh;category_yjdbg_szsh;category_sjdbg_szsh;category_sf_szsh;category_pg_szsh;category_gszq_szsh;category_kzzq_szsh;category_gqjl_szsh;category_gqbd_szsh;category_cqdq_szsh;category_qtrz_szsh;category_zj_szsh;',\n        'plate': 'sz',\n#       'seDate': '2019-05-03~2019-05-28',\n        'isHLtitle': 'true',\n    }\n    payload['stock'] = codedata\n    payload['seDate'] = seDate\n    \n    try:\n        res = requests.post(url=url, headers=headers, params=payload)\n        return res.json()\n    except:\n        return\n\n\nget_json('300427,9900023902', '2019-05-07~2019-05-09')['totalAnnouncement']\n\n0\n\n\n\ndef filter_event(codedata, seDate):\n    data = get_json(codedata, seDate)\n    if data is not None:\n        if data['totalAnnouncement'] &gt; 0:\n            return False\n        return True\n    else:\n        logging.info(codedata)\n        return False\n\n\ncodedata = '300427,9900023902'\nseDate = '2019-05-07~2019-05-09'\nfilter_event(codedata, seDate)\n\nTrue\n\n\n\ndata.head()\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\n\n\n\n\n0\n002152\nå¹¿ç”µè¿é€š\n9900003423\nå¹¿ç”µè¿é€šï¼š2016å¹´4æœˆ1æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-06\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n9ã€å…¬å¸æè¿‡æœ‰å‚¨å¤‡åŒºå—é“¾æŠ€æœ¯ï¼Œæ˜¯å¦å¯ä»¥ä»‹ç»ï¼Ÿ\n\n\n1\n002177\nå¾¡é“¶è‚¡ä»½\n9900003781\nå¾¡é“¶è‚¡ä»½ï¼š2016å¹´4æœˆ21æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-21\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n4ã€å…¬å¸åœ¨åŒºå—é“¾æŠ€æœ¯ä¸Šæœªæ¥æœ‰ä»€ä¹ˆè§„åˆ’ï¼Ÿ\n\n\n2\n300386\né£å¤©è¯šä¿¡\n9900023058\né£å¤©è¯šä¿¡ï¼š2016å¹´4æœˆ22æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-25\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\nå…¬å¸åœ¨åŒºå—é“¾éƒ¨åˆ†å¦‚ä½•å¸ƒå±€?\n\n\n3\n000997\næ–° å¤§ é™†\ngssz0000997\næ–° å¤§ é™†ï¼šè‘£äº‹ä¼šå…³äºæœ¬æ¬¡å‹Ÿé›†èµ„é‡‘ä½¿ç”¨çš„å¯è¡Œæ€§åˆ†æ\n2016-06-03\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\næ”¯ä»˜è¡Œä¸šæŠ€æœ¯åˆ›æ–°å’Œä¸šåŠ¡åˆ›æ–°ä¸æ–­æ¶Œç°ï¼ŒåŒ…æ‹¬ NFCã€æ¡ç ï¼ˆäºŒç»´ç ï¼‰æ”¯ä»˜ã€å¯ä¿¡æœåŠ¡å¹³å°ï¼ˆTSMï¼‰...\n\n\n4\n300423\né²äº¿é€š\n9900028812\né²äº¿é€šï¼šå…³äºæœ¬æ¬¡äº¤æ˜“å‰12ä¸ªæœˆå†…è´­ä¹°ã€å‡ºå”®èµ„äº§çš„è¯´æ˜\n2016-06-09\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nåŒæ—¶ï¼Œä¸Šå¸‚å…¬å¸æ‹Ÿé‡‡ç”¨å®šä»·å‘è¡Œçš„æ–¹å¼å‘çºªæ³•æ¸…ã€å­”å‰‘å¹³ã€å­™å¥‡é”‹ã€ç‹éº’è¯šå’Œä¸­ä¿¡å»ºæŠ•-æ•°è´æ³½åäººå·¥æ™º...\n\n\n\n\n\n\n\n\nfinal_code = []\nfor code,orgId,time in zip(data.loc[:, 'secCode'], data.loc[:, 'orgId'], data.loc[:, 'announcementTime']):\n    codedata = code + ',' + orgId\n    # [-1,1]\n    start = (date.fromisoformat(time) - timedelta(days=1)).strftime('%Y-%m-%d')\n    end = (date.fromisoformat(time) + timedelta(days=1)).strftime('%Y-%m-%d')\n    sedate = start + '~' + end\n    if filter_event(codedata, seDate):\n        final_code.append(code)\n\n\nlen(final_code)\n\n330\n\n\n\ndef filter_code(c):\n    if c in final_code:\n        return True\n    return False\n\n\nfinal = data.loc[data.loc[:, 'secCode'].apply(lambda c: filter_code(c)), :]\n\n\nfinal\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\n\n\n\n\n0\n002152\nå¹¿ç”µè¿é€š\n9900003423\nå¹¿ç”µè¿é€šï¼š2016å¹´4æœˆ1æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-06\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n9ã€å…¬å¸æè¿‡æœ‰å‚¨å¤‡åŒºå—é“¾æŠ€æœ¯ï¼Œæ˜¯å¦å¯ä»¥ä»‹ç»ï¼Ÿ\n\n\n1\n002177\nå¾¡é“¶è‚¡ä»½\n9900003781\nå¾¡é“¶è‚¡ä»½ï¼š2016å¹´4æœˆ21æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-21\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n4ã€å…¬å¸åœ¨åŒºå—é“¾æŠ€æœ¯ä¸Šæœªæ¥æœ‰ä»€ä¹ˆè§„åˆ’ï¼Ÿ\n\n\n2\n300386\né£å¤©è¯šä¿¡\n9900023058\né£å¤©è¯šä¿¡ï¼š2016å¹´4æœˆ22æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-25\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\nå…¬å¸åœ¨åŒºå—é“¾éƒ¨åˆ†å¦‚ä½•å¸ƒå±€?\n\n\n4\n300423\né²äº¿é€š\n9900028812\né²äº¿é€šï¼šå…³äºæœ¬æ¬¡äº¤æ˜“å‰12ä¸ªæœˆå†…è´­ä¹°ã€å‡ºå”®èµ„äº§çš„è¯´æ˜\n2016-06-09\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nåŒæ—¶ï¼Œä¸Šå¸‚å…¬å¸æ‹Ÿé‡‡ç”¨å®šä»·å‘è¡Œçš„æ–¹å¼å‘çºªæ³•æ¸…ã€å­”å‰‘å¹³ã€å­™å¥‡é”‹ã€ç‹éº’è¯šå’Œä¸­ä¿¡å»ºæŠ•-æ•°è´æ³½åäººå·¥æ™º...\n\n\n5\n000961\nä¸­å—å»ºè®¾\ngssz0000961\nä¸­å—å»ºè®¾ï¼šå…³äºæœ¬å…¬å¸æŠ•èµ„ä¸Šæµ·æ‰¿æ³°ä¿¡æ¯ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸çš„è¿›å±•å…¬å‘Š\n2016-06-23\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nï¼Œä»¥åŒºå—é“¾æŠ€æœ¯å¤„ç†ç›å¨œèŠ±å›­ä¸åŒç‰ˆæœ¬çš„ä¸ªäººæ•°æ®ï¼Œå½¢æˆå¯¹æ•°æ®ä¿¡æ¯çš„å®‰å…¨ä¿æŠ¤ã€‚\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n388\n300133\nåç­–å½±è§†\n9900013428\nåç­–å½±è§†ï¼šå…³äºå…¨èµ„å­å…¬å¸å¢èµ„æ‰©è‚¡æš¨å…³è”äº¤æ˜“çš„å…¬å‘Š\n2021-12-17\nhttp://static.cninfo.com.cn/finalpage/2021-12-...\nå½±ä¸šä¸Šæµ·åŸºäºèŠ‚ç›®åº“æ­å»ºçš„æ­£ç‰ˆå½±è§†ç´ æåº“â€œåç­–æ–°è§†ç•Œâ€å·²è¿›å…¥æ­£å¼è¿è¥ï¼Œç›®å‰æ­£åœ¨æ¨è¿›åŸºäºåŒºå—é“¾æŠ€...\n\n\n389\n300235\næ–¹ç›´ç§‘æŠ€\n9900011849\næ–¹ç›´ç§‘æŠ€ï¼šå…³äºå¯¹æ·±åœ³è¯åˆ¸äº¤æ˜“æ‰€å…³æ³¨å‡½çš„å›å¤å…¬å‘Š\n2021-12-20\nhttp://static.cninfo.com.cn/finalpage/2021-12-...\nå…ƒå®‡å®™æ˜¯æ•´åˆå¤šç§æ–°æŠ€æœ¯è€Œäº§ç”Ÿçš„æ–°å‹è™šå®ç›¸èçš„äº’è”ç½‘åº”ç”¨å’Œç¤¾ä¼šå½¢æ€ï¼Œå®ƒåŸºäºæ‰©å±•ç°å®æŠ€æœ¯æä¾›æ²‰æµ¸...\n\n\n390\n300649\næ­å·å›­æ—\n9900023811\næ­å·å›­æ—ï¼šå…³äºæ”¶è´­å‚è‚¡å…¬å¸éƒ¨åˆ†è‚¡æƒçš„å…¬å‘Š\n2021-12-24\nhttp://static.cninfo.com.cn/finalpage/2021-12-...\nä¸€èˆ¬é¡¹ç›®ï¼šç½‘ç»œæŠ€æœ¯æœåŠ¡ï¼›ç‰©è”ç½‘æŠ€æœ¯æœåŠ¡ï¼›æŠ€æœ¯æœåŠ¡ã€æŠ€æœ¯å¼€å‘ã€æŠ€æœ¯å’¨è¯¢ã€æŠ€æœ¯äº¤æµã€æŠ€æœ¯è½¬è®©ã€æŠ€...\n\n\n391\n300533\nå†°å·ç½‘ç»œ\n9900027730\nå†°å·ç½‘ç»œï¼šå…³äºå…¨èµ„å­å…¬å¸è®¾ç«‹ä¸‰å®¶å­å…¬å¸å¹¶å®Œæˆå·¥å•†æ³¨å†Œç™»è®°çš„å…¬å‘Š\n2021-12-24\nhttp://static.cninfo.com.cn/finalpage/2021-12-...\näººå·¥æ™ºèƒ½é€šç”¨åº”ç”¨ç³»ç»Ÿï¼›æ™ºèƒ½æ§åˆ¶ç³»ç»Ÿé›†æˆï¼›é‡å­è®¡ç®—æŠ€æœ¯æœåŠ¡ï¼›ç”µç«ä¿¡æ¯ç§‘æŠ€ï¼›äº‘è®¡ç®—è£…å¤‡æŠ€æœ¯æœåŠ¡ï¼›...\n\n\n392\n301116\nç›Šå®¢é£Ÿå“\n9900028946\nç›Šå®¢é£Ÿå“ï¼šæ³•å¾‹æ„è§ä¹¦åŠè¡¥å……æ³•å¾‹æ„è§ä¹¦\n2021-12-27\nhttp://static.cninfo.com.cn/finalpage/2021-12-...\nä¸å«ç‰¹ç§è®¾å¤‡åˆ¶é€ ï¼‰ï¼›æ¶²æ°”å¯†å…ƒä»¶åŠç³»ç»Ÿåˆ¶é€ ï¼›å·¥ä¸šè‡ªåŠ¨æ§åˆ¶ç³»ç»Ÿè£…ç½®é”€å”®ï¼›ç‰©æ–™æ¬è¿è£…å¤‡é”€å”®ï¼›éå±…ä½...\n\n\n\n\n330 rows Ã— 7 columns\n\n\n\n\nfinal.to_csv('./data/final.csv', index=False, encoding='utf_8_sig')"
  },
  {
    "objectID": "posts/2024-09-13-Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°/index.html",
    "href": "posts/2024-09-13-Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°/index.html",
    "title": "Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°",
    "section": "",
    "text": "æœ€è¿‘æ¥åˆ°ä¸€ä¸ªé¡¹ç›®ï¼Œéœ€è¦è®¡ç®—å¤§çº¦ 20 ä¸‡ä¸ªäº‹ä»¶çš„ CARã€‚è¿™æ˜¯ä¸€ä¸ª CPU å¯†é›†å‹çš„ä»»åŠ¡ï¼Œå¹¶è¡Œè®¡ç®—å¯ä»¥å¤§å¤§æé«˜æ•ˆç‡ã€‚äºæ˜¯æˆ‘åˆé‡æ–°æ¡èµ·äº†è¿›ç¨‹ã€çº¿ç¨‹è¿™äº›æ¦‚å¿µğŸ˜’ æ¯æ¬¡éƒ½æ˜¯ç”¨çš„æ—¶å€™çœ‹çœ‹æ–‡æ¡£ï¼Œæ˜¯æ—¶å€™è¿›è¡Œä¸€ä¸ªç³»ç»Ÿæ€§çš„æ¢³ç†äº†ğŸ¤£"
  },
  {
    "objectID": "posts/2024-09-13-Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°/index.html#process-ç±»",
    "href": "posts/2024-09-13-Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°/index.html#process-ç±»",
    "title": "Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°",
    "section": "Process ç±»",
    "text": "Process ç±»\n\nimport os\nfrom multiprocessing import Process\nimport random\n\ndef task1(l: list) -&gt; list:\n    return [number**random.randint(0,3) for number in l] \n\ndef task2(l: list) -&gt; list:\n    print(f\"çˆ¶è¿›ç¨‹IDï¼š{os.getppid()}\") \n    print(f\"å·¥ä½œè¿›ç¨‹IDï¼š{os.getpid()}\")\n    return [number**random.randint(0,3) for number in l] \n\nif __name__ == \"__main__\":\n    print(f\"ä¸»è¿›ç¨‹IDï¼š{os.getpid()}\")\n    print(f\"ä¸»è¿›ç¨‹è¿è¡Œç»“æœï¼š{task1([2, 4, 6, 8])}\")\n    p = Process(target = task2, args=([1, 3, 5, 9],)) # åˆ›å»ºå­è¿›ç¨‹\n    p.start() # å¯åŠ¨è¿›ç¨‹\n    p.join() # é˜»å¡ä¸»è¿›ç¨‹ï¼Œç­‰å¾…å­è¿›ç¨‹æ‰§è¡Œå®Œæ¯•\n    print(\"å·¥ä½œä»»åŠ¡å…¨éƒ¨å®Œæˆ\")\n\nä¸»è¿›ç¨‹IDï¼š2632\nä¸»è¿›ç¨‹è¿è¡Œç»“æœï¼š[8, 1, 216, 1]\nçˆ¶è¿›ç¨‹IDï¼š2632\nå·¥ä½œè¿›ç¨‹IDï¼š25460\nå­è¿›ç¨‹æ˜¯å¦è¿è¡Œï¼šTrue\nå·¥ä½œä»»åŠ¡å…¨éƒ¨å®Œæˆ\n\n\nä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨ Process ç±»åˆ›å»ºäº†ä¸€ä¸ªå­è¿›ç¨‹ã€‚åˆ›å»ºå­è¿›ç¨‹æ—¶ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªæ‰§è¡Œå‡½æ•°å’Œå‡½æ•°çš„å‚æ•°ã€‚é€šè¿‡ os.getppid() å¯ä»¥æŸ¥çœ‹çˆ¶è¿›ç¨‹ IDï¼Œå¯ä»¥å‘ç°å­è¿›ç¨‹çš„çˆ¶è¿›ç¨‹å°±æ˜¯æˆ‘ä»¬çš„ä¸»è¿›ç¨‹ã€‚start() æ–¹æ³•ç”¨äºå¯åŠ¨å­è¿›ç¨‹ï¼Œjoin() æ–¹æ³•ä¼šé˜»å¡ä¸»è¿›ç¨‹ï¼Œç›´åˆ°å­è¿›ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œåç»­ä»£ç æ‰ä¼šè¿è¡Œã€‚\nå†è§‚å¯Ÿä¸€ä¸‹ä¸Šé¢çš„ä»£ç ï¼Œå‡½æ•° task2 æœ‰è¿”å›å€¼ï¼Œä½†å­è¿›ç¨‹é»˜è®¤ä¸ä¼šè¿”å›å€¼ç»™ä¸»è¿›ç¨‹ï¼Œå› ä¸ºæ¯ä¸ªè¿›ç¨‹æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ã€‚è¦è·å–å­è¿›ç¨‹çš„è¿”å›å€¼ï¼Œå¯ä»¥é€šè¿‡ Pool ç±»æ¥å®ç°ã€‚Pool ç±»ä¹Ÿå¯ä»¥ç”¨äºæ‰¹é‡åˆ›å»ºå­è¿›ç¨‹ã€‚"
  },
  {
    "objectID": "posts/2024-09-13-Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°/index.html#pool-ç±»",
    "href": "posts/2024-09-13-Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°/index.html#pool-ç±»",
    "title": "Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°",
    "section": "Pool ç±»",
    "text": "Pool ç±»\nPool æ˜¯ä¸€ä¸ªé«˜å±‚æ¬¡çš„ APIï¼Œç”¨äºç®¡ç†å¤šä¸ªè¿›ç¨‹ï¼Œå¹¶ä¸”å¯ä»¥æ–¹ä¾¿åœ°è·å–æ¯ä¸ªå­è¿›ç¨‹çš„è¿”å›å€¼ã€‚Pool ç±»ä¸­æœ€å¸¸ç”¨çš„æ˜¯ map() å’Œ apply_async() æ–¹æ³•ã€‚å®ƒä»¬çš„ä¸»è¦åŠŸèƒ½éƒ½æ˜¯ç”¨äºåˆ†å‘ä»»åŠ¡åˆ°è¿›ç¨‹æ± ä¸­çš„å¤šä¸ªè¿›ç¨‹å¹¶è·å–ç»“æœï¼Œä½†å®ƒä»¬çš„è¡Œä¸ºæ–¹å¼ã€é€‚ç”¨åœºæ™¯å’Œè¿”å›ç»“æœçš„æ–¹å¼æœ‰æ‰€ä¸åŒã€‚\n\nmap()\nmap() æ–¹æ³•æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œå…¶è¡Œä¸ºä¸å†…ç½®çš„ map() å‡½æ•°éå¸¸ç›¸ä¼¼ã€‚å®ƒå°†ä¸€ä¸ªå‡½æ•°åº”ç”¨åˆ°ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡çš„æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶åœ¨æ‰€æœ‰ä»»åŠ¡å®Œæˆåä¸€æ¬¡æ€§è¿”å›ç»“æœåˆ—è¡¨ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œé€šè¿‡ç»™ Pool ç±»ä¼ å…¥éœ€è¦åˆ›å»ºçš„å­è¿›ç¨‹æ•°é‡ï¼ˆé»˜è®¤æ˜¯ os.cpu_count()ï¼‰æ¥åˆ›å»ºè¿›ç¨‹æ± ã€‚map() ä¼šç­‰å¾…æ‰€æœ‰è¿›ç¨‹å®Œæˆåä¸€æ¬¡æ€§è¿”å›ç»“æœã€‚\n\nfrom multiprocessing import Pool\nimport random\nimport time\n\ndef task(x):\n    print(f\"è¿›ç¨‹{ os.getpid() }å¯åŠ¨ã€‚ã€‚ã€‚\\n\")\n    start = time.time()\n    time.sleep(random.randint(1, 3))\n    end = time.time()\n    print(f\"è¿›ç¨‹{ os.getpid() }è€—æ—¶{end-start}ç§’\\n\")\n    return x * x\n\nif __name__ == \"__main__\":\n    with Pool(processes=3) as pool:\n        # å‘è¿›ç¨‹æ± æäº¤ä»»åŠ¡ï¼Œå¹¶è·å–è¿”å›å€¼\n        results = pool.map(task, [1, 2, 3, 4])\n        print(results)\n        print(\"æ‰€æœ‰ä»»åŠ¡æ‰§è¡Œç»“æŸ\")\n\nè¿›ç¨‹45175å¯åŠ¨ã€‚ã€‚ã€‚\nè¿›ç¨‹45177å¯åŠ¨ã€‚ã€‚ã€‚\nè¿›ç¨‹45176å¯åŠ¨ã€‚ã€‚ã€‚\n\n\n\nè¿›ç¨‹45176è€—æ—¶1.0004842281341553ç§’\n\nè¿›ç¨‹45176å¯åŠ¨ã€‚ã€‚ã€‚\n\nè¿›ç¨‹45175è€—æ—¶3.0004098415374756ç§’\nè¿›ç¨‹45177è€—æ—¶3.000214099884033ç§’\n\n\nè¿›ç¨‹45176è€—æ—¶3.0003042221069336ç§’\n\n[1, 4, 9, 16]\næ‰€æœ‰ä»»åŠ¡æ‰§è¡Œç»“æŸ\n\n\nè§‚å¯Ÿè¾“å‡ºç»“æœå¯ä»¥å‘ç°ï¼Œmap() å°†è¾“å…¥çš„å¯è¿­ä»£å¯¹è±¡ä»»åŠ¡ä¾æ¬¡åˆ†å‘ç»™è¿›ç¨‹æ± ä¸­çš„è¿›ç¨‹ï¼Œå¹¶ä¸”ä¼šé˜»å¡ä¸»è¿›ç¨‹ç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚æ€»ç»“ä¸€ä¸‹ map() çš„ç‰¹ç‚¹ï¼š\n\nåŒæ­¥æ‰§è¡Œï¼šä¸»è¿›ç¨‹ä¼šç­‰å¾…æ‰€æœ‰å­è¿›ç¨‹æ‰§è¡Œå®Œæˆåï¼Œæ‰ç»§ç»­æ‰§è¡Œåç»­ä»£ç ã€‚\né¡ºåºè¿”å›ï¼šç»“æœæŒ‰ç…§è¾“å…¥é¡ºåºè¿”å›ï¼Œå’Œè¾“å…¥é¡ºåºä¿æŒä¸€è‡´ã€‚\né€‚ç”¨äºæ‰¹é‡ä»»åŠ¡ï¼šæœ‰ä¸€ç»„ä»»åŠ¡éœ€è¦å¹¶è¡Œå¤„ç†ï¼Œå¹¶ä¸”å¸Œæœ›ä¸€æ¬¡æ€§è·å–æ‰€æœ‰ç»“æœã€‚\n\n\n\napply_async()\nä¸ map() ä¸åŒï¼Œapply_async() æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œå®ƒå¯ä»¥è®©ä¸»è¿›ç¨‹ç»§ç»­æ‰§è¡Œè€Œä¸å¿…ç­‰å¾…å­è¿›ç¨‹å®Œæˆã€‚apply_async() è¿”å›çš„æ˜¯ä¸€ä¸ª AsyncResult å¯¹è±¡ï¼Œé€šè¿‡ get() æ–¹æ³•å¯ä»¥è·å–ä»»åŠ¡çš„æ‰§è¡Œç»“æœã€‚\n\nfrom multiprocessing import Pool\nimport random\nimport time\n\ndef task(x):\n    print(f\"è¿›ç¨‹{ os.getpid() }å¯åŠ¨ã€‚ã€‚ã€‚\\n\")\n    start = time.time()\n    time.sleep(random.randint(1, 3))\n    end = time.time()\n    print(f\"è¿›ç¨‹{ os.getpid() }è€—æ—¶{end-start}ç§’\\n\")\n    return x*x\n\nif __name__ == \"__main__\":\n    result_objs = []\n    with Pool(processes=3) as pool:\n        for n in [1, 2, 3, 4]:\n            result = pool.apply_async(task, (n,))\n            result_objs.append(result)\n        # ä¸»è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡    \n        print(f\"ä¸»è¿›ç¨‹ ID æ˜¯ï¼š{os.getpid()}\")\n        # é€šè¿‡ result.get() è·å–å­è¿›ç¨‹çš„è¿”å›å€¼\n        results = [result.get() for result in result_objs]\n        print(results)\n        print(\"ä»»åŠ¡æ‰§è¡Œç»“æŸ\")\n\nè¿›ç¨‹49116å¯åŠ¨ã€‚ã€‚ã€‚\nè¿›ç¨‹49118å¯åŠ¨ã€‚ã€‚ã€‚\nè¿›ç¨‹49117å¯åŠ¨ã€‚ã€‚ã€‚\n\n\n\nä¸»è¿›ç¨‹ ID æ˜¯ï¼š2632\nè¿›ç¨‹49116è€—æ—¶2.0006251335144043ç§’\nè¿›ç¨‹49117è€—æ—¶2.000253438949585ç§’\n\n\nè¿›ç¨‹49116å¯åŠ¨ã€‚ã€‚ã€‚\n\nè¿›ç¨‹49118è€—æ—¶3.0007407665252686ç§’\n\nè¿›ç¨‹49116è€—æ—¶2.000547170639038ç§’\n\n[1, 4, 9, 16]\nä»»åŠ¡æ‰§è¡Œç»“æŸ\n\n\nåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä½¿ç”¨ apply_async() æ¥å¼‚æ­¥æ‰§è¡Œä»»åŠ¡ï¼Œå­è¿›ç¨‹è¿è¡Œä¸ä¼šé˜»å¡ä¸»è¿›ç¨‹ã€‚æ€»ç»“ä¸€ä¸‹ apply_async çš„ç‰¹ç‚¹ï¼š\n\nå¼‚æ­¥æ‰§è¡Œï¼šä¸»è¿›ç¨‹ä¸ä¼šç­‰å¾…ä»»åŠ¡å®Œæˆï¼Œå¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–æ“ä½œã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥é€šè¿‡ AsyncResult.get() æ–¹æ³•è·å–ä»»åŠ¡ç»“æœã€‚\nç»“æœä¸æŒ‰é¡ºåºè¿”å›ï¼šç”±äºæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œå¤šä¸ªä»»åŠ¡å¯ä»¥å¹¶å‘è¿è¡Œï¼Œç»“æœé¡ºåºä¸è¾“å…¥é¡ºåºä¸ä¸€å®šä¿æŒä¸€è‡´ã€‚\né€‚ç”¨äºç‹¬ç«‹çš„å¼‚æ­¥ä»»åŠ¡ï¼šéå¸¸é€‚åˆéœ€è¦åœ¨åå°å¹¶è¡Œå¤„ç†å¤šä¸ªç‹¬ç«‹ä»»åŠ¡ï¼Œå¹¶ä¸”ä¸»è¿›ç¨‹éœ€è¦åœ¨å¤„ç†å…¶ä»–ä»»åŠ¡æ—¶é€æ­¥è·å–ç»“æœçš„æƒ…å†µã€‚"
  },
  {
    "objectID": "posts/2024-09-13-Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°/index.html#è¿›ç¨‹é—´é€šä¿¡",
    "href": "posts/2024-09-13-Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°/index.html#è¿›ç¨‹é—´é€šä¿¡",
    "title": "Pythonä¸­çš„å¤šè¿›ç¨‹å®ç°",
    "section": "è¿›ç¨‹é—´é€šä¿¡",
    "text": "è¿›ç¨‹é—´é€šä¿¡\nmultiprocessing æ¨¡å—æä¾›äº†å¤šç§æ–¹å¼å®ç°è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰ï¼ŒåŒ…æ‹¬é˜Ÿåˆ—ï¼ˆQueueï¼‰ã€ç®¡é“ï¼ˆPipeï¼‰ã€Valueã€Array å’Œ Manager ç­‰ç­‰ã€‚å…¶ä¸­é˜Ÿåˆ—å’Œç®¡é“ä½¿ç”¨ç®€å•ã€çµæ´»ï¼Œä¹Ÿæ˜¯å®˜æ–¹æ–‡æ¡£æ¨èçš„è¿›ç¨‹é—´é€šä¿¡å®ç°æ–¹æ³•ã€‚\n\nQueue\nQueue æ˜¯ multiprocessing æ¨¡å—ä¸­æä¾›çš„ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ï¼Œå…è®¸å¤šä¸ªè¿›ç¨‹å®‰å…¨åœ°ä¼ é€’æ¶ˆæ¯ã€‚å®ƒå®ç°äº†å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„æ•°æ®ç»“æ„ï¼Œéå¸¸é€‚åˆéœ€è¦åœ¨å¤šä¸ªè¿›ç¨‹ä¹‹é—´å…±äº«æ•°æ®çš„åœºæ™¯ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Queue ç±»æ¥åˆ›å»ºé˜Ÿåˆ—å®ä¾‹ï¼š\n\nfrom multiprocessing import Queue\n\nq = Queue(maxsize=5)\n\nq.put(\"Hello world!\")\nprint(q.get())\n\nHello world!\n\n\nä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä½¿ç”¨ Queue ç±»åˆ›å»ºäº†ä¸€ä¸ªé˜Ÿåˆ—å®ä¾‹ï¼Œmaxsize å‚æ•°ç”¨æ¥æ§åˆ¶é˜Ÿåˆ—çš„å¤§å°ï¼Œé»˜è®¤æ— é™åˆ¶ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ put æ–¹æ³•å°†æ•°æ®æ”¾å…¥é˜Ÿåˆ—ï¼Œä½¿ç”¨ get æ–¹æ³•ä»é˜Ÿåˆ—ä¸­è·å–æ•°æ®ã€‚\nput() å’Œ get() æ–¹æ³•çš„é»˜è®¤è¡Œä¸ºæ˜¯é˜»å¡çš„ã€‚å¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œput() ä¼šç­‰å¾…ï¼Œç›´åˆ°æœ‰ç©ºé—´å¯ç”¨ï¼›å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œget() ä¼šç­‰å¾…ï¼Œç›´åˆ°æœ‰æ•°æ®å¯ç”¨ã€‚æˆ‘ä»¬çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š\n\nimport time\nfrom multiprocessing import Process, Queue\n\ndef worker(q):\n    for i in range(5):\n        time.sleep(1)\n        q.put(f\"Messege{i} from worker.\")\n\nif __name__ == '__main__':\n    q = Queue(maxsize=3)\n    p = Process(target=worker, args=(q,))\n\n    p.start()\n    for _ in range(5):\n        print(q.get())\n\n    p.join()\n\nMessege0 from worker.\nMessege1 from worker.\nMessege2 from worker.\nMessege3 from worker.\nMessege4 from worker.\n\n\nå¯ä»¥é€šè¿‡è®¾ç½® block=False å‚æ•°æ¥å®ç°éé˜»å¡æ“ä½œï¼ŒåŒæ—¶æŠ›å‡ºæ ‡å‡†åº“ queue æ¨¡å—ä¸­çš„ queue.Empty å’Œ queue.Full å¼‚å¸¸ä»¥æŒ‡ç¤ºè¶…æ—¶ã€‚æ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š\n\nimport time\nfrom multiprocessing import Process, Queue\nfrom queue import Empty, Full\n\ndef worker(q):\n    for i in range(5):\n        try:\n            # éé˜»å¡æ”¾å…¥\n            q.put(f\"Messege{i} from worker.\", block=False)\n        except Full:\n            print(\"Queue is full, waiting ...\", flush=True)\n\nif __name__ == '__main__':\n    q = Queue(maxsize=3)\n    p = Process(target=worker, args=(q,))\n\n    p.start()\n    for _ in range(5):\n        try:\n            # éé˜»å¡å–å‡º\n            print(q.get(block=False))\n        except Empty:\n            print(\"Queue is empty.\", flush=True)\n\n    p.join()\n\nQueue is empty.\nQueue is empty.\nQueue is full, waiting ...\nMessege0 from worker.\nMessege1 from worker.\nMessege2 from worker.\n\n\næ€»ç»“ä¸€ä¸‹ï¼ŒQueue çš„ç‰¹æ€§å¦‚ä¸‹ï¼š\n\nçº¿ç¨‹å®‰å…¨ï¼šQueue å†…éƒ¨å®ç°äº†é”æœºåˆ¶ï¼Œå¯ä»¥å®‰å…¨åœ°åœ¨å¤šä¸ªè¿›ç¨‹é—´å…±äº«ï¼Œé¿å…æ•°æ®ç«äº‰ã€‚\né˜»å¡ä¸éé˜»å¡ï¼šå¯ä»¥é€‰æ‹©é˜»å¡æˆ–éé˜»å¡æ–¹å¼æ¥æ¥æ”¶æˆ–å‘é€æ¶ˆæ¯ã€‚\nçµæ´»æ€§ï¼šQueue ä¸­å¯ä»¥æ”¾å…¥ä»»ä½•å¯ä»¥è¢« pickle åºåˆ—åŒ–çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹ã€åˆ—è¡¨ã€å­—å…¸ç­‰ã€‚\n\n\n\nPipe\nPipe æ˜¯ multiprocessing æ¨¡å—ä¸­æä¾›çš„ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ï¼Œå…è®¸ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´é€šè¿‡ä¸€ä¸ªåŒå‘çš„ç®¡é“è¿›è¡Œæ•°æ®äº¤æ¢ã€‚å®ƒéå¸¸é€‚åˆéœ€è¦ä¸¤ä¸ªè¿›ç¨‹ç›´æ¥é€šä¿¡çš„åœºæ™¯ï¼Œä½¿ç”¨ç®€å•ä¸”é«˜æ•ˆã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Pipe ç±»æ¥åˆ›å»ºè¿æ¥å®ä¾‹ï¼š\n\nimport multiprocessing\n\nparent_conn, child_conn = multiprocessing.Pipe()\n\nåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œparent_conn å’Œ child_conn æ˜¯é€šè¿‡ multiprocessing.Pipe() åˆ›å»ºçš„ä¸¤ä¸ªè¿æ¥å¯¹è±¡ï¼Œç”¨äºå®ç°è¿›ç¨‹é—´çš„é€šä¿¡ã€‚å…¶ä¸­ï¼š\n\nparent_conn ä»£è¡¨ç®¡é“çš„â€œçˆ¶â€ç«¯ï¼Œé€šå¸¸ç”¨äºä¸»è¿›ç¨‹ã€‚ä¸»è¿›ç¨‹å¯ä»¥é€šè¿‡ parent_conn æ¥æ¥æ”¶å­è¿›ç¨‹å‘é€çš„æ•°æ®ï¼Œä½¿ç”¨ recv() æ–¹æ³•ã€‚\nchild_conn ä»£è¡¨ç®¡é“çš„â€œå­â€ç«¯ï¼Œé€šå¸¸ç”¨äºå­è¿›ç¨‹ã€‚å­è¿›ç¨‹å¯ä»¥é€šè¿‡ child_conn å‘é€æ•°æ®åˆ°ä¸»è¿›ç¨‹ï¼Œä½¿ç”¨ send() æ–¹æ³•ã€‚\n\nè¿™ä¸¤ä¸ªè¿æ¥æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå°½ç®¡å®ƒä»¬è¿æ¥åœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªç®¡é“ï¼Œä½†å®ƒä»¬å¯ä»¥åœ¨ä¸åŒçš„è¿›ç¨‹ä¸­ç‹¬ç«‹ä½¿ç”¨ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š\n\nimport multiprocessing\nimport time\n\ndef worker(pipe_conn):\n    pipe_conn.send(\"Hello from worker!\")\n    time.sleep(5)\n    pipe_conn.send(\"Another messege from worker.\")\n    pipe_conn.close() # å…³é—­é“¾æ¥\n\nif __name__ == \"__main__\":\n    parent_conn, child_conn = multiprocessing.Pipe()\n    # åˆ›å»ºå¹¶å¯åŠ¨å­è¿›ç¨‹\n    p = multiprocessing.Process(target=worker, args=(child_conn,))\n    p.start()\n    # ä¸»è¿›ç¨‹æ¥æ”¶æ¶ˆæ¯\n    print(parent_conn.recv())\n    print(parent_conn.recv())\n    p.join()\n\nHello from worker!\nAnother messege from worker.\n\n\nåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå­è¿›ç¨‹å¯åŠ¨æ‰§è¡Œï¼Œå‘ç®¡é“å‘é€ä¿¡æ¯ â€œHello from worker!â€ï¼Œç„¶å sleepï¼Œä¸»è¿›ç¨‹è·å–ä¿¡æ¯æ‰“å°å‡º â€œHello from worker!â€ï¼Œç„¶åé˜»å¡ã€‚5 ç§’åå­è¿›ç¨‹å†æ¬¡å‘é€ä¿¡æ¯ï¼Œä¸»è¿›ç¨‹æ¥å—æ¶ˆæ¯æ‰“å°å‡º â€œAnother messege from worker.â€ã€‚\nå¯ä»¥å‘ç°ï¼Œç®¡é“ä¸­æ¥æ”¶å’Œå‘é€æ“ä½œé»˜è®¤æ˜¯é˜»å¡çš„ï¼Œæ„å‘³ç€å¦‚æœæ²¡æœ‰æ•°æ®å¯è¯»ï¼Œæ¥æ”¶æ“ä½œä¼šç­‰å¾…ï¼Œç›´åˆ°æœ‰æ•°æ®åˆ°æ¥ã€‚ä¸è¿‡æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½® timeout å‚æ•°æ¥å¤„ç†é˜»å¡æƒ…å†µï¼Œæˆ–è€…ä½¿ç”¨ poll() æ–¹æ³•æ¥æ£€æŸ¥æ•°æ®æ˜¯å¦å¯è¯»ã€‚\n\nimport multiprocessing\nimport time\n\ndef worker(pipe_conn):\n    pipe_conn.send(\"Hello from worker!\")\n    time.sleep(10)\n    pipe_conn.send(\"Messege after delay.\")\n    pipe_conn.close() # å…³é—­é“¾æ¥\n\nif __name__ == \"__main__\":\n    parent_conn, child_conn = multiprocessing.Pipe()\n    # åˆ›å»ºå¹¶å¯åŠ¨å­è¿›ç¨‹\n    p = multiprocessing.Process(target=worker, args=(child_conn,))\n    p.start()\n    # ä¸»è¿›ç¨‹æ¥æ”¶æ¶ˆæ¯\n    while 1:\n        if parent_conn.poll(timeout=1):  # æ£€æŸ¥æ˜¯å¦æœ‰æ•°æ®å¯è¯»\n            print(parent_conn.recv())\n        else:\n            print(\"No message received within timeout\")\n            break\n    p.join()\n\nHello from worker!\nNo message received within timeout\n\n\nä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä½¿ç”¨ poll æ–¹æ³•å¯¹ç®¡é“ä¸­çš„æ•°æ®è¿›è¡Œåˆ¤æ–­ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰æ•°æ®å¯è¯»ï¼Œä»è€Œé¿å…äº†ä¸»è¿›ç¨‹é˜»å¡ã€‚\næ€»ç»“ä¸€ä¸‹ï¼ŒPipe çš„ç‰¹æ€§å¦‚ä¸‹ï¼š\n\nåŒå‘é€šä¿¡ï¼šé€šè¿‡ç®¡é“çš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œå¯ä»¥å®ç°åŒå‘æ•°æ®ä¼ è¾“ã€‚å½“ä¸¤ä¸ªè¿›ç¨‹éœ€è¦é¢‘ç¹äº¤æ¢æ•°æ®æ—¶ï¼ŒPipe æ˜¯ä¸€ä¸ªç†æƒ³çš„é€‰æ‹©\næ¥æ”¶å’Œå‘é€æ“ä½œé»˜è®¤æ˜¯é˜»å¡çš„ï¼Œæ„å‘³ç€å¦‚æœæ²¡æœ‰æ•°æ®å¯è¯»ï¼Œæ¥æ”¶æ“ä½œä¼šç­‰å¾…ï¼Œç›´åˆ°æœ‰æ•°æ®åˆ°æ¥ã€‚\nå¯¹äºå°é‡æ•°æ®çš„ä¼ è¾“ï¼ŒPipe æä¾›äº†è¾ƒä½çš„å»¶è¿Ÿå’Œè¾ƒé«˜çš„ä¼ è¾“é€Ÿåº¦ã€‚"
  },
  {
    "objectID": "posts/2023-01-30-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-å…¬å‘Šçˆ¬å–/index.html",
    "href": "posts/2023-01-30-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-å…¬å‘Šçˆ¬å–/index.html",
    "title": "æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-å…¬å‘Šçˆ¬å–",
    "section": "",
    "text": "è¿™ç¯‡åšå®¢ï¼ˆè§†é¢‘ï¼‰è®°å½•ä»å·¨æ½®èµ„è®¯çˆ¬å–åŒºå—é“¾æŠ€æœ¯æŠ•èµ„ç›¸å…³çš„å…¬å‘Šæ•°æ®ã€‚ \n\nimport logging\nimport time\n\nimport numpy as np\nimport pandas as pd\nimport requests\n\nfrom concurrent.futures import ThreadPoolExecutor\n\n\ndef get_json(pagenum, s):\n    \"\"\"è·å– json æ•°æ®\n\n    Args:\n        pagenum (str): page number\n        s (requests.Session): Session object\n\n    Returns:\n        res.json(): json data\n    \"\"\"\n    url = 'http://www.cninfo.com.cn/new/fulltextSearch/full?'\n    \n    headers = {\n        \"Accept-Encoding\": \"gzip\",\n        \"User-Agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36\",\n        \"Connection\": \"keep-alive\",\n    }\n    \n    payload = {\n        'searchkey': 'åŒºå—é“¾',\n        'sdate': '2009-01-01',\n        'edate': '2022-01-01',\n        'isfulltext': 'true',\n        'sortName': 'pubdate',\n        'sortType': 'asc',\n        'type': 'shj',\n    }\n    \n    payload['pageNum'] = str(pagenum)\n    \n    try:\n        res = s.get(url, headers=headers, params=payload)\n    except Exception as e:\n        logging.warning(e)\n    \n\n    return res.json()\n\n\nwith requests.Session() as s:\n    page_one = pd.DataFrame(get_json(1, s)['announcements'])\n\n\npage_one.head()\n\n\n\n\n\n\n\n\nid\nsecCode\nsecName\norgId\nannouncementId\nannouncementTitle\nannouncementTime\nadjunctUrl\nadjunctSize\nadjunctType\nstorageTime\ncolumnId\npageColumn\nannouncementType\nassociateAnnouncement\nimportant\nbatchNum\nannouncementContent\norgName\nannouncementTypeName\n\n\n\n\n0\nNone\n000631\né¡ºå‘æ’ä¸š\ngssz0000631\n49624621\n*ST å…°å®ï¼šé‡å¤§èµ„äº§å‡ºå”®ã€å‘è¡Œè‚¡ä»½è´­ä¹°èµ„äº§æš¨å…³è”äº¤æ˜“æŠ¥å‘Šä¹¦ï¼ˆä¿®è®¢ç¨¿ï¼‰\n1235773830000\nfinalpage/2009-02-28/49624621.PDF\n1749\nPDF\nNone\n01030101||010612\nSZZB\n01010501||01010701||010112||01170110\nNone\nNone\nNone\nï¼ˆäºŒï¼‰å…¬å¸ä¸šç»©æŒç»­ä¸‹æ»‘ï¼Œä¸”æ— æ”¹å–„è¿¹è±¡ ç”±äºä¸ªåˆ«é“¶è¡Œå‘ç°å…¬å¸èµ„é‡‘&lt;em&gt;é“¾&lt;/em&gt;ç´§å¼ ï¼Œé€æ­¥...\nNone\nNone\n\n\n1\nNone\n600596\næ–°å®‰è‚¡ä»½\ngssh0600596\n49988949\næ–°å®‰è‚¡ä»½ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1236637800000\nfinalpage/2009-03-10/49988949.PDF\n1711\nPDF\nNone\n01030103||01030404||010612||010613\nSHZB\n01010501||010113||01030101\nNone\nNone\nNone\n3.æ–°å®‰åŒ…è£…å…¬å¸æ¬è¿äº‹é¡¹ å› æ–°å®‰æ±Ÿæ¡¥ä¸œ&lt;em&gt;åŒºå—&lt;/em&gt;æ—§åŸæ”¹é€ ï¼Œæ–°å®‰åŒ…è£…å…¬å¸äºæœ¬æœŸä»è€...\nNone\nNone\n\n\n2\nNone\n600267\næµ·æ­£è¯ä¸š\ngssh0600267\n50367093\næµ·æ­£è¯ä¸šï¼š2008å¹´å¹´åº¦è‚¡ä¸œå¤§ä¼šä¼šè®®èµ„æ–™\n1237501800000\nfinalpage/2009-03-20/50367093.PDF\n346\nPDF\nNone\n01030103||010612\nSHZB\n01010501||010113||011906\nNone\nNone\nNone\n100.00% 141,278 100.00% 115,132 100.00% å…¬å¸å‡­å€ŸåŸæ–™...\nNone\nNone\n\n\n3\nNone\n002244\næ»¨æ±Ÿé›†å›¢\n9900004730\n50327309\næ»¨æ±Ÿé›†å›¢ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1237501800000\nfinalpage/2009-03-20/50327309.PDF\n867\nPDF\nNone\n01010302||01010306||01010410||01010411||010301...\nSZZB\n01010503||010112||010114||01030101\nNone\nNone\nNone\næ±Ÿå¹²ç§‘æŠ€ç»æµå›­åŒºåœ°å—å¼€å‘åè®®ä¹¦ã€‹ï¼ˆæ±Ÿç§‘å›­åå­—ã€2006ã€‘035 å·ï¼‰ï¼Œçº¦å®šå°±â€œS08ã€09ã€...\nNone\nNone\n\n\n4\nNone\n000301\nä¸œæ–¹ç››è™¹\ngssz0000301\n50432137\nä¸œæ–¹å¸‚åœºï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1237847400000\nfinalpage/2009-03-24/50432137.PDF\n369\nPDF\nNone\n01030101||01030402||010612||010613\nSZZB\n01010501||010112||01030101\nNone\nNone\nNone\nå…¬å¸å°†é‡‡å–æªæ–½è¿›ä¸€æ­¥å®Œå–„äº§ä¸š&lt;em&gt;é“¾&lt;/em&gt;ï¼Œç»§ç»­å‡å°‘å…³è”äº¤æ˜“ã€‚\nNone\nNone\n\n\n\n\n\n\n\n\ncolumn = page_one.columns\n\n\ndef get_data_array(pagenum, s):\n    announcements_list = get_json(pagenum, s)['announcements']\n    return pd.DataFrame(announcements_list).values\n\n\npages = range(1, 1106)\nres =  []\nwith ThreadPoolExecutor(max_workers=10) as pool:\n    with requests.Session() as s:\n        futures = [pool.submit(get_data_array, pagenum, s) for pagenum in pages]\n        for future in futures:\n            res.extend(future.result())\n\n\nres_df = pd.DataFrame(res, columns=column)\n\n\nres_df.head()\n\n\n\n\n\n\n\n\nid\nsecCode\nsecName\norgId\nannouncementId\nannouncementTitle\nannouncementTime\nadjunctUrl\nadjunctSize\nadjunctType\nstorageTime\ncolumnId\npageColumn\nannouncementType\nassociateAnnouncement\nimportant\nbatchNum\nannouncementContent\norgName\nannouncementTypeName\n\n\n\n\n0\nNone\n000631\né¡ºå‘æ’ä¸š\ngssz0000631\n49624621\n*ST å…°å®ï¼šé‡å¤§èµ„äº§å‡ºå”®ã€å‘è¡Œè‚¡ä»½è´­ä¹°èµ„äº§æš¨å…³è”äº¤æ˜“æŠ¥å‘Šä¹¦ï¼ˆä¿®è®¢ç¨¿ï¼‰\n1235773830000\nfinalpage/2009-02-28/49624621.PDF\n1749\nPDF\nNone\n01030101||010612\nSZZB\n01010501||01010701||010112||01170110\nNone\nNone\nNone\nï¼ˆäºŒï¼‰å…¬å¸ä¸šç»©æŒç»­ä¸‹æ»‘ï¼Œä¸”æ— æ”¹å–„è¿¹è±¡ ç”±äºä¸ªåˆ«é“¶è¡Œå‘ç°å…¬å¸èµ„é‡‘&lt;em&gt;é“¾&lt;/em&gt;ç´§å¼ ï¼Œé€æ­¥...\nNone\nNone\n\n\n1\nNone\n600596\næ–°å®‰è‚¡ä»½\ngssh0600596\n49988949\næ–°å®‰è‚¡ä»½ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1236637800000\nfinalpage/2009-03-10/49988949.PDF\n1711\nPDF\nNone\n01030103||01030404||010612||010613\nSHZB\n01010501||010113||01030101\nNone\nNone\nNone\n3.æ–°å®‰åŒ…è£…å…¬å¸æ¬è¿äº‹é¡¹ å› æ–°å®‰æ±Ÿæ¡¥ä¸œ&lt;em&gt;åŒºå—&lt;/em&gt;æ—§åŸæ”¹é€ ï¼Œæ–°å®‰åŒ…è£…å…¬å¸äºæœ¬æœŸä»è€...\nNone\nNone\n\n\n2\nNone\n600267\næµ·æ­£è¯ä¸š\ngssh0600267\n50367093\næµ·æ­£è¯ä¸šï¼š2008å¹´å¹´åº¦è‚¡ä¸œå¤§ä¼šä¼šè®®èµ„æ–™\n1237501800000\nfinalpage/2009-03-20/50367093.PDF\n346\nPDF\nNone\n01030103||010612\nSHZB\n01010501||010113||011906\nNone\nNone\nNone\n100.00% 141,278 100.00% 115,132 100.00% å…¬å¸å‡­å€ŸåŸæ–™...\nNone\nNone\n\n\n3\nNone\n002244\næ»¨æ±Ÿé›†å›¢\n9900004730\n50327309\næ»¨æ±Ÿé›†å›¢ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1237501800000\nfinalpage/2009-03-20/50327309.PDF\n867\nPDF\nNone\n01010302||01010306||01010410||01010411||010301...\nSZZB\n01010503||010112||010114||01030101\nNone\nNone\nNone\næ±Ÿå¹²ç§‘æŠ€ç»æµå›­åŒºåœ°å—å¼€å‘åè®®ä¹¦ã€‹ï¼ˆæ±Ÿç§‘å›­åå­—ã€2006ã€‘035 å·ï¼‰ï¼Œçº¦å®šå°±â€œS08ã€09ã€...\nNone\nNone\n\n\n4\nNone\n000301\nä¸œæ–¹ç››è™¹\ngssz0000301\n50432137\nä¸œæ–¹å¸‚åœºï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1237847400000\nfinalpage/2009-03-24/50432137.PDF\n369\nPDF\nNone\n01030101||01030402||010612||010613\nSZZB\n01010501||010112||01030101\nNone\nNone\nNone\nå…¬å¸å°†é‡‡å–æªæ–½è¿›ä¸€æ­¥å®Œå–„äº§ä¸š&lt;em&gt;é“¾&lt;/em&gt;ï¼Œç»§ç»­å‡å°‘å…³è”äº¤æ˜“ã€‚\nNone\nNone\n\n\n\n\n\n\n\n\nres_df.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 11050 entries, 0 to 11049\nData columns (total 20 columns):\n #   Column                 Non-Null Count  Dtype \n---  ------                 --------------  ----- \n 0   id                     0 non-null      object\n 1   secCode                11050 non-null  object\n 2   secName                11050 non-null  object\n 3   orgId                  11050 non-null  object\n 4   announcementId         11050 non-null  object\n 5   announcementTitle      11050 non-null  object\n 6   announcementTime       11050 non-null  int64 \n 7   adjunctUrl             11050 non-null  object\n 8   adjunctSize            11050 non-null  int64 \n 9   adjunctType            11050 non-null  object\n 10  storageTime            0 non-null      object\n 11  columnId               11050 non-null  object\n 12  pageColumn             11050 non-null  object\n 13  announcementType       11050 non-null  object\n 14  associateAnnouncement  910 non-null    object\n 15  important              0 non-null      object\n 16  batchNum               0 non-null      object\n 17  announcementContent    11050 non-null  object\n 18  orgName                0 non-null      object\n 19  announcementTypeName   0 non-null      object\ndtypes: int64(2), object(18)\nmemory usage: 1.7+ MB\n\n\n\nraw_data = res_df.drop(\n    columns=['id', 'announcementId', 'adjunctSize', 'adjunctType', 'storageTime', 'columnId', 'pageColumn',\n             'announcementType', 'associateAnnouncement', 'important', 'batchNum', 'orgName', 'announcementTypeName'],\n)\n\n\nraw_data\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\n\n\n\n\n0\n000631\né¡ºå‘æ’ä¸š\ngssz0000631\n*ST å…°å®ï¼šé‡å¤§èµ„äº§å‡ºå”®ã€å‘è¡Œè‚¡ä»½è´­ä¹°èµ„äº§æš¨å…³è”äº¤æ˜“æŠ¥å‘Šä¹¦ï¼ˆä¿®è®¢ç¨¿ï¼‰\n1235773830000\nfinalpage/2009-02-28/49624621.PDF\nï¼ˆäºŒï¼‰å…¬å¸ä¸šç»©æŒç»­ä¸‹æ»‘ï¼Œä¸”æ— æ”¹å–„è¿¹è±¡ ç”±äºä¸ªåˆ«é“¶è¡Œå‘ç°å…¬å¸èµ„é‡‘&lt;em&gt;é“¾&lt;/em&gt;ç´§å¼ ï¼Œé€æ­¥...\n\n\n1\n600596\næ–°å®‰è‚¡ä»½\ngssh0600596\næ–°å®‰è‚¡ä»½ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1236637800000\nfinalpage/2009-03-10/49988949.PDF\n3.æ–°å®‰åŒ…è£…å…¬å¸æ¬è¿äº‹é¡¹ å› æ–°å®‰æ±Ÿæ¡¥ä¸œ&lt;em&gt;åŒºå—&lt;/em&gt;æ—§åŸæ”¹é€ ï¼Œæ–°å®‰åŒ…è£…å…¬å¸äºæœ¬æœŸä»è€...\n\n\n2\n600267\næµ·æ­£è¯ä¸š\ngssh0600267\næµ·æ­£è¯ä¸šï¼š2008å¹´å¹´åº¦è‚¡ä¸œå¤§ä¼šä¼šè®®èµ„æ–™\n1237501800000\nfinalpage/2009-03-20/50367093.PDF\n100.00% 141,278 100.00% 115,132 100.00% å…¬å¸å‡­å€ŸåŸæ–™...\n\n\n3\n002244\næ»¨æ±Ÿé›†å›¢\n9900004730\næ»¨æ±Ÿé›†å›¢ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1237501800000\nfinalpage/2009-03-20/50327309.PDF\næ±Ÿå¹²ç§‘æŠ€ç»æµå›­åŒºåœ°å—å¼€å‘åè®®ä¹¦ã€‹ï¼ˆæ±Ÿç§‘å›­åå­—ã€2006ã€‘035 å·ï¼‰ï¼Œçº¦å®šå°±â€œS08ã€09ã€...\n\n\n4\n000301\nä¸œæ–¹ç››è™¹\ngssz0000301\nä¸œæ–¹å¸‚åœºï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1237847400000\nfinalpage/2009-03-24/50432137.PDF\nå…¬å¸å°†é‡‡å–æªæ–½è¿›ä¸€æ­¥å®Œå–„äº§ä¸š&lt;em&gt;é“¾&lt;/em&gt;ï¼Œç»§ç»­å‡å°‘å…³è”äº¤æ˜“ã€‚\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n11045\n600382\n*STå¹¿ç \ngssh0600382\n*STå¹¿ç ï¼šè¥¿éƒ¨è¯åˆ¸è‚¡ä»½æœ‰é™å…¬å¸å…³äºå¹¿ä¸œæ˜ç é›†å›¢è‚¡ä»½æœ‰é™å…¬å¸é‡å¤§èµ„äº§å‡ºå”®åŠè´­ä¹°èµ„äº§æš¨å…³è”äº¤æ˜“...\n1640707200000\nfinalpage/2021-12-29/1212047512.PDF\nã€æ¢çŸ¿æƒã€é‡‡çŸ¿æƒè§„å®šæ–¹é¢ï¼Œç›¸å…³æ³•å¾‹æ³•è§„ä¸»è¦æœ‰ã€Šä¸­åäººæ°‘å…±å’Œå›½çŸ¿äº§èµ„æºæ³•ã€‹åŠå…¶å®æ–½ç»†åˆ™ã€ã€ŠçŸ¿äº§...\n\n\n11046\n300164\né€šæºçŸ³æ²¹\n9900016228\né€šæºçŸ³æ²¹ï¼šå…³äº2021å¹´ä»¥ç®€æ˜“ç¨‹åºå‘ç‰¹å®šå¯¹è±¡å‘è¡Œè‚¡ç¥¨å‹Ÿé›†èµ„é‡‘ä½¿ç”¨å¯è¡Œæ€§åˆ†ææŠ¥å‘Šï¼ˆä¿®è®¢ç¨¿ï¼‰\n1640776515000\nfinalpage/2021-12-29/1212055672.PDF\nå…¬å¸æ˜¯ä»¥æ²¹æ°”ç”°å¢äº§ä¸ºæ ¸å¿ƒçš„æ²¹æœä¼ä¸šï¼Œä¸šåŠ¡æ¶µç›–é’»äº•ã€å®šå‘ã€å®Œäº•å‹è£‚ã€æµ‹äº•ã€å°„å­”ã€å¸¦å‹ä½œä¸šã€è¿ç»­...\n\n\n11047\n300164\né€šæºçŸ³æ²¹\n9900016228\né€šæºçŸ³æ²¹ï¼šå…³äº2021å¹´ä»¥ç®€æ˜“ç¨‹åºå‘ç‰¹å®šå¯¹è±¡å‘è¡Œè‚¡ç¥¨æ–¹æ¡ˆè®ºè¯åˆ†ææŠ¥å‘Šï¼ˆä¿®è®¢ç¨¿ï¼‰\n1640776515000\nfinalpage/2021-12-29/1212055670.PDF\nå…¬å¸æ˜¯ä»¥æ²¹æ°”ç”°å¢äº§ä¸ºæ ¸å¿ƒçš„å›½é™…æ²¹æœä¼ä¸šï¼Œä¸šåŠ¡æ¶µç›–é’»äº•ã€å®šå‘ã€å®Œäº•å‹è£‚ã€æµ‹äº•ã€å°„å­”ã€å¸¦å‹ä½œä¸šã€...\n\n\n11048\n300164\né€šæºçŸ³æ²¹\n9900016228\né€šæºçŸ³æ²¹ï¼š2021å¹´ä»¥ç®€æ˜“ç¨‹åºå‘ç‰¹å®šå¯¹è±¡å‘è¡Œè‚¡ç¥¨é¢„æ¡ˆï¼ˆä¿®è®¢ç¨¿ï¼‰\n1640776516000\nfinalpage/2021-12-29/1212055680.PDF\nå…¬å¸æ˜¯ä»¥æ²¹æ°”ç”°å¢äº§ä¸ºæ ¸å¿ƒçš„æ²¹æœä¼ä¸šï¼Œä¸šåŠ¡æ¶µç›–é’»äº•ã€å®šå‘ã€å®Œäº•å‹è£‚ã€æµ‹äº•ã€å°„å­”ã€å¸¦å‹ä½œä¸šã€è¿ç»­...\n\n\n11049\n300605\næ’é”‹ä¿¡æ¯\n9900030876\næ’é”‹ä¿¡æ¯ï¼šå‘ä¸ç‰¹å®šå¯¹è±¡å‘è¡Œå¯è½¬æ¢å…¬å¸å€ºåˆ¸ä¹‹å‘è¡Œä¿èä¹¦\n1640780703000\nfinalpage/2021-12-29/1212056530.PDF\nï¼ˆäºŒï¼‰æŠ€æœ¯åˆ›æ–°é£é™© ç›®å‰ä¸­å›½å¤„äºäº’è”ç½‘ã€ç‰©è”ç½‘ã€å¤§æ•°æ®ã€äººå·¥æ™ºèƒ½ã€&lt;em&gt;åŒºå—&lt;/em&gt;&lt;e...\n\n\n\n\n11050 rows Ã— 7 columns\n\n\n\n\n# å»é™¤ announcementTitle å’Œ announcementContent é‡Œçš„ &lt;em&gt; æ ‡ç­¾\ndef drop_em(c): \n    return c.replace('&lt;em&gt;', '').replace('&lt;/em&gt;', '')\n\ndata_drop_em = raw_data.copy()\ndata_drop_em.loc[:, 'announcementTitle'] = data_drop_em.loc[:, 'announcementTitle'].apply(lambda c : drop_em(c))\ndata_drop_em.loc[:, 'announcementContent'] = data_drop_em.loc[:, 'announcementContent'].apply(lambda c : drop_em(c))\n\n\ndata_drop_em.head()\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\n\n\n\n\n0\n000631\né¡ºå‘æ’ä¸š\ngssz0000631\n*ST å…°å®ï¼šé‡å¤§èµ„äº§å‡ºå”®ã€å‘è¡Œè‚¡ä»½è´­ä¹°èµ„äº§æš¨å…³è”äº¤æ˜“æŠ¥å‘Šä¹¦ï¼ˆä¿®è®¢ç¨¿ï¼‰\n1235773830000\nfinalpage/2009-02-28/49624621.PDF\nï¼ˆäºŒï¼‰å…¬å¸ä¸šç»©æŒç»­ä¸‹æ»‘ï¼Œä¸”æ— æ”¹å–„è¿¹è±¡ ç”±äºä¸ªåˆ«é“¶è¡Œå‘ç°å…¬å¸èµ„é‡‘é“¾ç´§å¼ ï¼Œé€æ­¥åœæ­¢è½¬è´·å¹¶æ”¶ç¼©é“¶æ ¹...\n\n\n1\n600596\næ–°å®‰è‚¡ä»½\ngssh0600596\næ–°å®‰è‚¡ä»½ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1236637800000\nfinalpage/2009-03-10/49988949.PDF\n3.æ–°å®‰åŒ…è£…å…¬å¸æ¬è¿äº‹é¡¹ å› æ–°å®‰æ±Ÿæ¡¥ä¸œåŒºå—æ—§åŸæ”¹é€ ï¼Œæ–°å®‰åŒ…è£…å…¬å¸äºæœ¬æœŸä»è€å‚åŒºï¼ˆæ–°å®‰æ±Ÿè¡—é“æ¡¥...\n\n\n2\n600267\næµ·æ­£è¯ä¸š\ngssh0600267\næµ·æ­£è¯ä¸šï¼š2008å¹´å¹´åº¦è‚¡ä¸œå¤§ä¼šä¼šè®®èµ„æ–™\n1237501800000\nfinalpage/2009-03-20/50367093.PDF\n100.00% 141,278 100.00% 115,132 100.00% å…¬å¸å‡­å€ŸåŸæ–™...\n\n\n3\n002244\næ»¨æ±Ÿé›†å›¢\n9900004730\næ»¨æ±Ÿé›†å›¢ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1237501800000\nfinalpage/2009-03-20/50327309.PDF\næ±Ÿå¹²ç§‘æŠ€ç»æµå›­åŒºåœ°å—å¼€å‘åè®®ä¹¦ã€‹ï¼ˆæ±Ÿç§‘å›­åå­—ã€2006ã€‘035 å·ï¼‰ï¼Œçº¦å®šå°±â€œS08ã€09ã€...\n\n\n4\n000301\nä¸œæ–¹ç››è™¹\ngssz0000301\nä¸œæ–¹å¸‚åœºï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1237847400000\nfinalpage/2009-03-24/50432137.PDF\nå…¬å¸å°†é‡‡å–æªæ–½è¿›ä¸€æ­¥å®Œå–„äº§ä¸šé“¾ï¼Œç»§ç»­å‡å°‘å…³è”äº¤æ˜“ã€‚\n\n\n\n\n\n\n\n\n# å°†æ—¶é—´æˆ³è½¬åŒ–ä¸ºæ—¥æœŸ\ndef transform_date(timeStamp):\n    timeStamp = int(str(timeStamp)[:-3])\n    timeArray = time.localtime(timeStamp)\n    return time.strftime(\"%Y-%m-%d\", timeArray)\n\ndata_time_transformed = data_drop_em.copy()\ndata_time_transformed.loc[:, 'announcementTime'] = data_time_transformed.loc[:, 'announcementTime'].apply(lambda c: transform_date(c))\ndata_time_transformed.head()\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\n\n\n\n\n0\n000631\né¡ºå‘æ’ä¸š\ngssz0000631\n*ST å…°å®ï¼šé‡å¤§èµ„äº§å‡ºå”®ã€å‘è¡Œè‚¡ä»½è´­ä¹°èµ„äº§æš¨å…³è”äº¤æ˜“æŠ¥å‘Šä¹¦ï¼ˆä¿®è®¢ç¨¿ï¼‰\n2009-02-28\nfinalpage/2009-02-28/49624621.PDF\nï¼ˆäºŒï¼‰å…¬å¸ä¸šç»©æŒç»­ä¸‹æ»‘ï¼Œä¸”æ— æ”¹å–„è¿¹è±¡ ç”±äºä¸ªåˆ«é“¶è¡Œå‘ç°å…¬å¸èµ„é‡‘é“¾ç´§å¼ ï¼Œé€æ­¥åœæ­¢è½¬è´·å¹¶æ”¶ç¼©é“¶æ ¹...\n\n\n1\n600596\næ–°å®‰è‚¡ä»½\ngssh0600596\næ–°å®‰è‚¡ä»½ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n2009-03-10\nfinalpage/2009-03-10/49988949.PDF\n3.æ–°å®‰åŒ…è£…å…¬å¸æ¬è¿äº‹é¡¹ å› æ–°å®‰æ±Ÿæ¡¥ä¸œåŒºå—æ—§åŸæ”¹é€ ï¼Œæ–°å®‰åŒ…è£…å…¬å¸äºæœ¬æœŸä»è€å‚åŒºï¼ˆæ–°å®‰æ±Ÿè¡—é“æ¡¥...\n\n\n2\n600267\næµ·æ­£è¯ä¸š\ngssh0600267\næµ·æ­£è¯ä¸šï¼š2008å¹´å¹´åº¦è‚¡ä¸œå¤§ä¼šä¼šè®®èµ„æ–™\n2009-03-20\nfinalpage/2009-03-20/50367093.PDF\n100.00% 141,278 100.00% 115,132 100.00% å…¬å¸å‡­å€ŸåŸæ–™...\n\n\n3\n002244\næ»¨æ±Ÿé›†å›¢\n9900004730\næ»¨æ±Ÿé›†å›¢ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n2009-03-20\nfinalpage/2009-03-20/50327309.PDF\næ±Ÿå¹²ç§‘æŠ€ç»æµå›­åŒºåœ°å—å¼€å‘åè®®ä¹¦ã€‹ï¼ˆæ±Ÿç§‘å›­åå­—ã€2006ã€‘035 å·ï¼‰ï¼Œçº¦å®šå°±â€œS08ã€09ã€...\n\n\n4\n000301\nä¸œæ–¹ç››è™¹\ngssz0000301\nä¸œæ–¹å¸‚åœºï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n2009-03-24\nfinalpage/2009-03-24/50432137.PDF\nå…¬å¸å°†é‡‡å–æªæ–½è¿›ä¸€æ­¥å®Œå–„äº§ä¸šé“¾ï¼Œç»§ç»­å‡å°‘å…³è”äº¤æ˜“ã€‚\n\n\n\n\n\n\n\n\n# æ‹¼æ¥å…¬å‘Š url\ndef url_join(c):\n    return ''.join(['http://static.cninfo.com.cn/', c])\n\ndata_url_joined = data_time_transformed.copy()\ndata_url_joined.loc[:, 'adjunctUrl'] = data_url_joined.loc[:, 'adjunctUrl'].apply(lambda c: url_join(c))\ndata_url_joined.head()\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\n\n\n\n\n0\n000631\né¡ºå‘æ’ä¸š\ngssz0000631\n*ST å…°å®ï¼šé‡å¤§èµ„äº§å‡ºå”®ã€å‘è¡Œè‚¡ä»½è´­ä¹°èµ„äº§æš¨å…³è”äº¤æ˜“æŠ¥å‘Šä¹¦ï¼ˆä¿®è®¢ç¨¿ï¼‰\n2009-02-28\nhttp://static.cninfo.com.cn/finalpage/2009-02-...\nï¼ˆäºŒï¼‰å…¬å¸ä¸šç»©æŒç»­ä¸‹æ»‘ï¼Œä¸”æ— æ”¹å–„è¿¹è±¡ ç”±äºä¸ªåˆ«é“¶è¡Œå‘ç°å…¬å¸èµ„é‡‘é“¾ç´§å¼ ï¼Œé€æ­¥åœæ­¢è½¬è´·å¹¶æ”¶ç¼©é“¶æ ¹...\n\n\n1\n600596\næ–°å®‰è‚¡ä»½\ngssh0600596\næ–°å®‰è‚¡ä»½ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n2009-03-10\nhttp://static.cninfo.com.cn/finalpage/2009-03-...\n3.æ–°å®‰åŒ…è£…å…¬å¸æ¬è¿äº‹é¡¹ å› æ–°å®‰æ±Ÿæ¡¥ä¸œåŒºå—æ—§åŸæ”¹é€ ï¼Œæ–°å®‰åŒ…è£…å…¬å¸äºæœ¬æœŸä»è€å‚åŒºï¼ˆæ–°å®‰æ±Ÿè¡—é“æ¡¥...\n\n\n2\n600267\næµ·æ­£è¯ä¸š\ngssh0600267\næµ·æ­£è¯ä¸šï¼š2008å¹´å¹´åº¦è‚¡ä¸œå¤§ä¼šä¼šè®®èµ„æ–™\n2009-03-20\nhttp://static.cninfo.com.cn/finalpage/2009-03-...\n100.00% 141,278 100.00% 115,132 100.00% å…¬å¸å‡­å€ŸåŸæ–™...\n\n\n3\n002244\næ»¨æ±Ÿé›†å›¢\n9900004730\næ»¨æ±Ÿé›†å›¢ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n2009-03-20\nhttp://static.cninfo.com.cn/finalpage/2009-03-...\næ±Ÿå¹²ç§‘æŠ€ç»æµå›­åŒºåœ°å—å¼€å‘åè®®ä¹¦ã€‹ï¼ˆæ±Ÿç§‘å›­åå­—ã€2006ã€‘035 å·ï¼‰ï¼Œçº¦å®šå°±â€œS08ã€09ã€...\n\n\n4\n000301\nä¸œæ–¹ç››è™¹\ngssz0000301\nä¸œæ–¹å¸‚åœºï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n2009-03-24\nhttp://static.cninfo.com.cn/finalpage/2009-03-...\nå…¬å¸å°†é‡‡å–æªæ–½è¿›ä¸€æ­¥å®Œå–„äº§ä¸šé“¾ï¼Œç»§ç»­å‡å°‘å…³è”äº¤æ˜“ã€‚\n\n\n\n\n\n\n\n\ndata_url_joined.to_csv('./data/raw_data.csv', index=False, encoding='utf_8_sig')"
  },
  {
    "objectID": "posts/2024-10-02-è®¡ç®—20ä¸‡ä¸ªæ ·æœ¬çš„CAR/index.html",
    "href": "posts/2024-10-02-è®¡ç®—20ä¸‡ä¸ªæ ·æœ¬çš„CAR/index.html",
    "title": "è®¡ç®—20ä¸‡ä¸ªæ ·æœ¬çš„CAR",
    "section": "",
    "text": "è®¡ç®— 20 ä¸‡ä¸ªäº‹ä»¶æ ·æœ¬çš„ CARï¼Œæ€è·¯æ˜¯å°† 20 ä¸‡ä¸ªäº‹ä»¶æ ·æœ¬åˆ‡åˆ†æˆ 1000 ä¸ª batchï¼Œç„¶åé‡‡ç”¨å¤šè¿›ç¨‹å¹¶è¡Œè®¡ç®—ã€‚è®¡ç®—è¿‡ç¨‹ä½¿ç”¨åˆ°äº†ä¹‹å‰åšå®¢ä»‹ç»è¿‡çš„ eventstudy è„šæœ¬ã€‚å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š\n\nimport numpy as np\nimport pandas as pd\nimport eventstudy\nimport multiprocessing\nfrom tqdm import tqdm\n\n# è¯»å–ä¸ªè‚¡å†å²å›æŠ¥ç‡æ•°æ®\ndaily_stock_returns = pd.read_csv(\n    \"./result/æ—¥ä¸ªè‚¡å›æŠ¥ç‡.csv\", dtype={\"ticker\": str}\n)\n\n# è¯»å– ff ä¸‰å› å­æ•°æ®\nfamafrench_factors = pd.read_csv(\n    \"./result/famafrench_factors.csv\"\n)\n\n# è¯»å–äº‹ä»¶æ ·æœ¬æ•°æ®\nsample_famafrench = pd.read_csv(\n    \"./result/sample_famafrench.csv\", dtype={\"ticker\": str}\n)\n\n# åˆ‡åˆ† dataframe å‡½æ•°\ndef get_batches(df: pd.DataFrame, num_splits: int) -&gt; list:\n    \"\"\"å°†ä¸€ä¸ª DataFrame åˆ‡åˆ†ä¸ºç»™å®šæ•°é‡çš„å­ DataFrame\n    Args:\n        df (pd.DataFrame): å¾…åˆ‡åˆ† DataFrame\n        num_splits (int): åˆ‡åˆ†æˆå¤šå°‘ä¸ªå­ DataFrame \n        \n    Returns:\n        list: å­ DataFrame åˆ—è¡¨\n    \"\"\" \n    batch_array_list = np.array_split(df.values, num_splits)\n    \n    return [pd.DataFrame(batch_array, columns=df.columns) for batch_array in batch_array_list]\n\nes_famafrench_list = [\n    eventstudy.EventStudy(\n        sample,\n        \"FamaFrench\",\n        famafrench_factors,\n        daily_stock_returns,\n        0,\n        2,\n        20,\n        220,)\n    for sample in get_batches(sample_famafrench, 1000)\n]\n\ndef process_es(es, progress_queue):\n    result = es.get_result(progress=False)\n    # ä»»åŠ¡å®Œæˆåå‘è¿›åº¦é˜Ÿåˆ—å‘é€æ¶ˆæ¯\n    progress_queue.put(1)\n    return result[\"sample_cars\"]\n\ndef track_progress(progress_queue, total_tasks):\n    with tqdm(total=total_tasks) as pbar:\n        for _ in range(total_tasks):\n            progress_queue.get()\n            # æ‰‹åŠ¨æ›´æ–°è¿›åº¦æ¡\n            pbar.update(1)\n\nif __name__ == \"__main__\":\n    # åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—\n    # multiprocessing.Manager().Queue() é˜Ÿåˆ—å¯ç”¨äºä¸åŒè¿›ç¨‹é—´çš„é€šä¿¡\n    manager = multiprocessing.Manager()\n    progress_queue = manager.Queue()\n    \n    # è·å–ä»»åŠ¡æ•°é‡\n    total_tasks = len(es_famafrench_list)\n    # å¯åŠ¨è¿›åº¦è·Ÿè¸ªè¿›ç¨‹\n    progress_process = multiprocessing.Process(\n        target=track_progress, args=(progress_queue, total_tasks)\n    )\n    progress_process.start()\n    \n    with multiprocessing.Pool(processes=4) as pool:\n         # ä½¿ç”¨ pool.apply_async å¼‚æ­¥å¤„ç† DataFrame åˆ—è¡¨ä¸­çš„æ¯ä¸ª DataFrame\n        results = [\n            pool.apply_async(process_es, (es, progress_queue)) for es in es_famafrench_list\n        ]\n        # è·å–æ¯ä¸ªå¼‚æ­¥ä»»åŠ¡çš„ç»“æœ\n        results = [r.get() for r in results]\n    \n    # ç­‰å¾…è¿›åº¦è·Ÿè¸ªè¿›ç¨‹å®Œæˆ\n    progress_process.join()\n    \n    final = pd.concat(results, axis=0)\n    final.to_csv(\"./result/car_famafrench_model.csv\")"
  },
  {
    "objectID": "posts/2023-01-27-çˆ¬è™«è¸©å‘-ConnectionResetError-10054/index.html",
    "href": "posts/2023-01-27-çˆ¬è™«è¸©å‘-ConnectionResetError-10054/index.html",
    "title": "çˆ¬è™«è¸©å‘-ConnectionResetError(100504)",
    "section": "",
    "text": "åœ¨çˆ¬å·¨æ½®èµ„è®¯å…¬å‘Šæ•°æ®æ—¶é‡åˆ°æŠ¥é”™ï¼š"
  },
  {
    "objectID": "posts/2023-01-27-çˆ¬è™«è¸©å‘-ConnectionResetError-10054/index.html#åŸå§‹ä»£ç ",
    "href": "posts/2023-01-27-çˆ¬è™«è¸©å‘-ConnectionResetError-10054/index.html#åŸå§‹ä»£ç ",
    "title": "çˆ¬è™«è¸©å‘-ConnectionResetError(100504)",
    "section": "1 åŸå§‹ä»£ç ",
    "text": "1 åŸå§‹ä»£ç \n\nimport logging\nimport time\n\nimport pandas as pd\nimport requests\nfrom tqdm import tqdm\n\n\ndef get_json(pagenum):\n    url = 'http://www.cninfo.com.cn/new/fulltextSearch/full?'\n    \n    headers = {\n        \"Accept-Encoding\": \"gzip\",\n        \"User-Agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36\",\n    }\n    \n    payload = {\n        'searchkey': 'åŒºå—é“¾',\n        'sdate': '2009-01-01',\n        'edate': '2022-12-31',\n        'isfulltext': 'true',\n        'sortName': 'pubdate',\n        'sortType': 'asc',\n        'type': 'shj',\n    }\n    \n    payload['pageNum'] = str(pagenum)\n    \n    try:\n        res = requests.get(url, headers=headers, params=payload)\n#         res.close()\n    except Exception as e:\n        logging.warning(e)\n        \n    return res.json()\n\n\n# æŸ¥çœ‹ç¬¬ä¸€é¡µæ•°æ®\npd.DataFrame(get_json(1)['announcements']).head()\n\n\n\n\n\n\n\n\nid\nsecCode\nsecName\norgId\nannouncementId\nannouncementTitle\nannouncementTime\nadjunctUrl\nadjunctSize\nadjunctType\nstorageTime\ncolumnId\npageColumn\nannouncementType\nassociateAnnouncement\nimportant\nbatchNum\nannouncementContent\norgName\nannouncementTypeName\n\n\n\n\n0\nNone\n000631\né¡ºå‘æ’ä¸š\ngssz0000631\n49624621\n*ST å…°å®ï¼šé‡å¤§èµ„äº§å‡ºå”®ã€å‘è¡Œè‚¡ä»½è´­ä¹°èµ„äº§æš¨å…³è”äº¤æ˜“æŠ¥å‘Šä¹¦ï¼ˆä¿®è®¢ç¨¿ï¼‰\n1235773830000\nfinalpage/2009-02-28/49624621.PDF\n1749\nPDF\nNone\n01030101||010612\nSZZB\n01010501||01010701||010112||01170110\nNone\nNone\nNone\nï¼ˆäºŒï¼‰å…¬å¸ä¸šç»©æŒç»­ä¸‹æ»‘ï¼Œä¸”æ— æ”¹å–„è¿¹è±¡ ç”±äºä¸ªåˆ«é“¶è¡Œå‘ç°å…¬å¸èµ„é‡‘&lt;em&gt;é“¾&lt;/em&gt;ç´§å¼ ï¼Œé€æ­¥...\nNone\nNone\n\n\n1\nNone\n600596\næ–°å®‰è‚¡ä»½\ngssh0600596\n49988949\næ–°å®‰è‚¡ä»½ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1236637800000\nfinalpage/2009-03-10/49988949.PDF\n1711\nPDF\nNone\n01030103||01030404||010612||010613\nSHZB\n01010501||010113||01030101\nNone\nNone\nNone\n3.æ–°å®‰åŒ…è£…å…¬å¸æ¬è¿äº‹é¡¹ å› æ–°å®‰æ±Ÿæ¡¥ä¸œ&lt;em&gt;åŒºå—&lt;/em&gt;æ—§åŸæ”¹é€ ï¼Œæ–°å®‰åŒ…è£…å…¬å¸äºæœ¬æœŸä»è€...\nNone\nNone\n\n\n2\nNone\n600267\næµ·æ­£è¯ä¸š\ngssh0600267\n50367093\næµ·æ­£è¯ä¸šï¼š2008å¹´å¹´åº¦è‚¡ä¸œå¤§ä¼šä¼šè®®èµ„æ–™\n1237501800000\nfinalpage/2009-03-20/50367093.PDF\n346\nPDF\nNone\n01030103||010612\nSHZB\n01010501||010113||011906\nNone\nNone\nNone\n100.00% 141,278 100.00% 115,132 100.00% å…¬å¸å‡­å€ŸåŸæ–™...\nNone\nNone\n\n\n3\nNone\n002244\næ»¨æ±Ÿé›†å›¢\n9900004730\n50327309\næ»¨æ±Ÿé›†å›¢ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1237501800000\nfinalpage/2009-03-20/50327309.PDF\n867\nPDF\nNone\n01010302||01010306||01010410||01010411||010301...\nSZZB\n01010503||010112||010114||01030101\nNone\nNone\nNone\næ±Ÿå¹²ç§‘æŠ€ç»æµå›­åŒºåœ°å—å¼€å‘åè®®ä¹¦ã€‹ï¼ˆæ±Ÿç§‘å›­åå­—ã€2006ã€‘035 å·ï¼‰ï¼Œçº¦å®šå°±â€œS08ã€09ã€...\nNone\nNone\n\n\n4\nNone\n000301\nä¸œæ–¹ç››è™¹\ngssz0000301\n50432137\nä¸œæ–¹å¸‚åœºï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n1237847400000\nfinalpage/2009-03-24/50432137.PDF\n369\nPDF\nNone\n01030101||01030402||010612||010613\nSZZB\n01010501||010112||01030101\nNone\nNone\nNone\nå…¬å¸å°†é‡‡å–æªæ–½è¿›ä¸€æ­¥å®Œå–„äº§ä¸š&lt;em&gt;é“¾&lt;/em&gt;ï¼Œç»§ç»­å‡å°‘å…³è”äº¤æ˜“ã€‚\nNone\nNone\n\n\n\n\n\n\n\n\n# è·å–åˆ—å\ncolumn = pd.DataFrame(get_json(1)['announcements']).columns\n\n\n# è·å–æ¯é¡µæ•°æ®ï¼ˆDataFrameï¼‰æ ¼å¼\ndef get_df_data(pagenum):\n    announcements_list = get_json(pagenum)['announcements']\n    return pd.DataFrame(announcements_list)\n\n\ndef all_data(pagenum, res):\n    df_data = get_df_data(pagenum)\n    if len(df_data) &gt; 0:\n        res.extend(df_data.values)\n\n\nres = []\nfor page in tqdm(range(1, 500)):\n    all_data(page, res)\n\n 24%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                                | 119/499 [00:26&lt;01:34,  4.03it/s]WARNING:root:('Connection aborted.', ConnectionResetError(10054, 'An existing connection was forcibly closed by the remote host', None, 10054, None))\n 24%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                                | 119/499 [00:36&lt;01:56,  3.28it/s]\n\n\n\n---------------------------------------------------------------------------\nUnboundLocalError                         Traceback (most recent call last)\n~\\AppData\\Local\\Temp/ipykernel_20364/2801816917.py in &lt;module&gt;\n      1 res = []\n      2 for page in tqdm(range(1, 500)):\n----&gt; 3     all_data(page, res)\n\n~\\AppData\\Local\\Temp/ipykernel_20364/1866910109.py in all_data(pagenum, res)\n      1 def all_data(pagenum, res):\n----&gt; 2     df_data = get_df_data(pagenum)\n      3     if len(df_data) &gt; 0:\n      4         res.extend(df_data.values)\n\n~\\AppData\\Local\\Temp/ipykernel_20364/1464953047.py in get_df_data(pagenum)\n      1 # è·å–æ¯é¡µæ•°æ®ï¼ˆDataFrameï¼‰æ ¼å¼\n      2 def get_df_data(pagenum):\n----&gt; 3     announcements_list = get_json(pagenum)['announcements']\n      4     return pd.DataFrame(announcements_list)\n\n~\\AppData\\Local\\Temp/ipykernel_20364/565530397.py in get_json(pagenum)\n     26         logging.warning(e)\n     27 \n---&gt; 28     return res.json()\n\nUnboundLocalError: local variable 'res' referenced before assignment\n\n\n\næ ¹æ®é”™è¯¯æç¤ºï¼Œè¿æ¥è¢«è¿œç¨‹ä¸»æœºå¼ºåˆ¶å…³é—­äº†ï¼Œ get_json å‡½æ•°ä¸­ï¼Œrequests.get æœªæˆåŠŸè·å–å“åº”æŠ¥æ–‡ï¼Œæ•… return res.json() æŠ¥é”™ UnboundLocalErrorã€‚"
  },
  {
    "objectID": "posts/2023-01-27-çˆ¬è™«è¸©å‘-ConnectionResetError-10054/index.html#æ•…éšœåˆ†æ",
    "href": "posts/2023-01-27-çˆ¬è™«è¸©å‘-ConnectionResetError-10054/index.html#æ•…éšœåˆ†æ",
    "title": "çˆ¬è™«è¸©å‘-ConnectionResetError(100504)",
    "section": "2 æ•…éšœåˆ†æ",
    "text": "2 æ•…éšœåˆ†æ\nè°·æ­Œäº†ä¸€ä¸‹ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§è§£é‡Šï¼š\n\næœåŠ¡å™¨-å®¢æˆ·ç«¯è¶…æ—¶åˆ†æ­§\n\n\nThis can be caused by the two sides of the connection disagreeing over whether the connection timed out or not during a keepalive. (Your code tries to reused the connection just as the server is closing it because it has been idle for too long.) You should basically just retry the operation over a new connection. (Iâ€™m surprised your library doesnâ€™t do this automatically.)\n\nä»£ç å°è¯•å¤ç”¨æ—§çš„ TCP è¿æ¥ï¼Œä½†æœåŠ¡å™¨è®¤ä¸ºè¯¥è¿æ¥é—²ç½®å¤ªä¹…ï¼Œå·²ç»å…ˆè¡Œå…³é—­äº†è¯¥è¿æ¥ã€‚å¯¹äºè¿™ä¸ªè§£é‡Šï¼Œæˆ‘æŸ¥çœ‹äº†ä¸€ä¸‹ requests çš„æ–‡æ¡£ï¼Œå‘ç°æ¯ä¸€æ¬¡ requests.get è¯·æ±‚ï¼Œéƒ½æ˜¯è°ƒç”¨äº† requests.request('GET', url, **kwargs) æ–¹æ³•ï¼Œè€Œè¯¥æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼š\ndef request(method, url, **kwargs):\n    # By using the 'with' statement we are sure the session is closed, thus we\n    # avoid leaving sockets open which can trigger a ResourceWarning in some\n    # cases, and look like a memory leak in others.\n    with sessions.Session() as session:\n        return session.request(method=method, url=url, **kwargs)\nå¯ä»¥å‘ç°ï¼Œäº‹å®ä¸Šæ¯ä¸€æ¬¡ get è¯·æ±‚éƒ½æ˜¯çŸ­è¿æ¥ï¼Œå› ä¸º requests.request æ–¹æ³•ä½¿ç”¨ with è¯­å¥ä¼šè‡ªåŠ¨å…³é—­ sessionã€‚äº‹å®ä¸Šï¼Œå¦‚æœåœ¨ requests ä¸­è¦å®ç°é•¿è¿æ¥åº”è¯¥ä½¿ç”¨ Session å¯¹è±¡ã€‚é‚£ä¹ˆï¼Œæ—¢ç„¶æ¯æ¬¡è°ƒç”¨ get æ–¹æ³•éƒ½ä¼šå…³é—­è¿æ¥ï¼Œä¹Ÿå°±ä¸å­˜åœ¨æœåŠ¡å™¨-å®¢æˆ·ç«¯è¶…æ—¶åˆ†æ­§çš„é—®é¢˜äº†ã€‚\næœ‰å›ç­”å»ºè®®ä½¿ç”¨ res.close()ï¼Œæ—¢ç„¶ requests.request æ–¹æ³•ä½¿ç”¨ with è¯­å¥è‡ªåŠ¨å…³é—­ sessionï¼ŒåŸåˆ™ä¸Šæˆ‘ä»¬åº”è¯¥ä¸ç”¨æ˜¾ç¤ºè°ƒç”¨ res.close()ã€‚äº‹å®ä¸Šï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿæ˜¯è¿™ä¹ˆå»ºè®®çš„ã€‚\n\nclose(): Releases the connection back to the pool. Once this method has been called the underlying raw object must not be accessed again. Note: Should not normally need to be called explicitly.\n\n\nè¢«æœåŠ¡å™¨è¯†åˆ«ä¸ºæ¶æ„è®¿é—®\n\n\nThe web server actively rejected your connection. Thatâ€™s usually because it is congested, has rate limiting or thinks that you are launching a denial of service attack. If you get this from a server, you should sleep a bit before trying again. In fact, if you donâ€™t sleep before retry, you are a denial of service attack. The polite thing to do is implement a progressive sleep of, say, (1,2,4,8,16,32) seconds.\n\nç”±äºè¯·æ±‚å¤ªé¢‘ç¹ï¼Œè¢«æœåŠ¡å™¨è¯†åˆ«ä¸ºæ¶æ„è®¿é—®ï¼Œå› æ­¤å¼ºåˆ¶æ–­å¼€è¿æ¥ã€‚å°è¯•åœ¨è¯·æ±‚å time.sleep(random.random()*2)ï¼Œæœ‰æ”¹å–„ï¼Œä½†è¯·æ±‚ä¸€æ®µæ—¶é—´åï¼Œè¿æ¥ä»ä¼šæ–­å¼€ã€‚"
  },
  {
    "objectID": "posts/2023-01-27-çˆ¬è™«è¸©å‘-ConnectionResetError-10054/index.html#è§£å†³æ–¹æ³•",
    "href": "posts/2023-01-27-çˆ¬è™«è¸©å‘-ConnectionResetError-10054/index.html#è§£å†³æ–¹æ³•",
    "title": "çˆ¬è™«è¸©å‘-ConnectionResetError(100504)",
    "section": "3 è§£å†³æ–¹æ³•",
    "text": "3 è§£å†³æ–¹æ³•\næ ¹æ®æ•…éšœåˆ†æï¼Œåˆ¤æ–­æ˜¯è¢«æœåŠ¡å™¨è¯†åˆ«ä¸ºæ¶æ„è®¿é—®ã€‚è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨ Session å¯¹è±¡ï¼Œé€šè¿‡å¤ç”¨ TCP è¿æ¥ï¼Œä»è€Œå‡å°‘åˆ›å»º/å…³é—­å¤šä¸ª TCP è¿æ¥çš„å¼€é”€ï¼ˆåŒ…æ‹¬å“åº”æ—¶é—´ã€CPU èµ„æºã€å‡å°‘æ‹¥å µç­‰ï¼‰ï¼ŒåŒæ—¶æå‡çˆ¬è™«ä»£ç çš„æ€§èƒ½ã€‚\n\ndef get_json(pagenum, s):\n    url = 'http://www.cninfo.com.cn/new/fulltextSearch/full?'\n    \n    headers = {\n        \"Accept-Encoding\": \"gzip\",\n        \"User-Agent\": \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36\",\n        \"Connection\": \"keep-alive\",\n    }\n    \n    payload = {\n        'searchkey': 'åŒºå—é“¾',\n        'sdate': '2009-01-01',\n        'edate': '2022-12-31',\n        'isfulltext': 'true',\n        'sortName': 'pubdate',\n        'sortType': 'asc',\n        'type': 'shj',\n    }\n    \n    payload['pageNum'] = str(pagenum)\n    \n    try:\n        res = s.get(url, headers=headers, params=payload)\n    except Exception as e:\n        logging.warning(e)\n        \n    return res.json()\n\n\ndef get_df_data(pagenum, s):\n    announcements_list = get_json(pagenum, s)['announcements']\n    return pd.DataFrame(announcements_list)\n\n\ndef all_data(pagenum, s, res):\n    df_data = get_df_data(pagenum, s)\n    if len(df_data) &gt; 0:\n        res.extend(df_data.values)\n\n\nres = []\nwith requests.Session() as s:\n    for page in tqdm(range(1, 500)):\n        all_data(page, s, res)\n\n100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 499/499 [01:27&lt;00:00,  5.71it/s]"
  },
  {
    "objectID": "posts/2023-01-27-çˆ¬è™«è¸©å‘-ConnectionResetError-10054/index.html#å‚è€ƒèµ„æ–™",
    "href": "posts/2023-01-27-çˆ¬è™«è¸©å‘-ConnectionResetError-10054/index.html#å‚è€ƒèµ„æ–™",
    "title": "çˆ¬è™«è¸©å‘-ConnectionResetError(100504)",
    "section": "å‚è€ƒèµ„æ–™",
    "text": "å‚è€ƒèµ„æ–™\n\nHttpâ€”â€”Keep-Alive æœºåˆ¶\nå›¾è§£ HTTP 2.7ï¼šæŒä¹…è¿æ¥èŠ‚çœé€šä¿¡é‡\nhttps://stackoverflow.com/questions/27333671/how-to-solve-the-10054-error\nhttps://stackoverflow.com/questions/8814802/python-errno-10054-an-existing-connection-was-forcibly-closed-by-the-remote-h"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html",
    "href": "posts/2020-02-03-golang-learning-notes/index.html",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "",
    "text": "è¿™ç¯‡åšå®¢è®°å½• Golang çš„å­¦ä¹ ç¬”è®°ã€‚"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#æ•°ç»„çš„å®šä¹‰",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#æ•°ç»„çš„å®šä¹‰",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "1.1 æ•°ç»„çš„å®šä¹‰",
    "text": "1.1 æ•°ç»„çš„å®šä¹‰\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    // ä½¿ç”¨varå…³é”®å­—å®šä¹‰\n    var a1 [4]int\n    fmt.Println(a1)\n    // ---&gt; [0 0 0 0]\n\n    var a2 = [4]int{}\n    fmt.Println(a2)\n    // ---&gt; [0 0 0 0]\n\n    // ä½¿ç”¨{}ä¼ å…¥å€¼\n    var a3 = [4]int{9, 5, 2, 7}\n    fmt.Println(a3)\n    // ---&gt; [9 5 2 7]\n\n    // ä½¿ç”¨...ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ¨æ–­æ•°ç»„çš„é•¿åº¦\n    a4 := [...]int{9, 5, 2, 7}\n    fmt.Println(a4, len(a4), cap(a4))\n    // ---&gt; [9 5 2 7] 4 4\n\n    // ä½¿ç”¨ï¼šæŒ‡æ˜ä¼ å…¥å€¼çš„ç´¢å¼•ä½ç½®\n    a5 := [...]string{1:\"Luffy\", 4:\"Hancock\"}\n    fmt.Println(a5)\n    // ---&gt; [ Luffy   Hancock]\n\n    a5[0] = \"Nami\"\n    fmt.Println(a5)\n    // ---&gt; [Nami Luffy   Hancock]\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#æ•°ç»„çš„è®¿é—®",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#æ•°ç»„çš„è®¿é—®",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "1.2 æ•°ç»„çš„è®¿é—®",
    "text": "1.2 æ•°ç»„çš„è®¿é—®\næ•°ç»„é€šè¿‡ä¸‹æ ‡ç´¢å¼•æ¥è®¿é—®ï¼Œè¯­æ³•ä¸ python ç±»ä¼¼ã€‚\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    a5 := [...]int{9, 5, 2, 7}\n    fmt.Printf(\"%p, %v\\n\", &a5, a5)\n    // ---&gt; 0xc0000ae000, [9 5 2 7]\n\n    a5[0] = 100\n    fmt.Printf(\"%p, %v\\n\", &a5, a5)\n    // ---&gt; 0xc0000ae000, [100 5 2 7]\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#æ•°ç»„çš„éå†",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#æ•°ç»„çš„éå†",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "1.3 æ•°ç»„çš„éå†",
    "text": "1.3 æ•°ç»„çš„éå†\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    a6 := [...]string {\"Luffy\", \"Zoro\", \"Hancock\", \"Nami\", \"Robin\"}\n\n    for i:=0; i&lt;len(a6); i++ {\n        fmt.Println(a6[i])\n    }\n    // ---&gt; Luffy\n    // ---&gt; Zoro\n    // ---&gt; Hancock\n    // ---&gt; Nami\n    // ---&gt; Robin\n\n    // ä½¿ç”¨range\n    for i,v := range a6 {\n        fmt.Println(i, v)\n    }\n    // ---&gt; 0 Luffy\n    // ---&gt; 1 Zoro\n    // ---&gt; 2 Hancock\n    // ---&gt; 3 Nami\n    // ---&gt; 4 Robin\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#å¤šç»´æ•°ç»„",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#å¤šç»´æ•°ç»„",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "1.4 å¤šç»´æ•°ç»„",
    "text": "1.4 å¤šç»´æ•°ç»„\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    a7 := [3][4]int{{1, 2, 3, 4}, {5, 6, 7, 8}, {9, 10, 11, 12}}\n    fmt.Println(a7)\n    // ---&gt; [[1 2 3 4] [5 6 7 8] [9 10 11 12]]\n\n    a8 := [2][3][4]int{\n        {{1, 2, 3, 4}, {5, 6, 7, 8}, {9, 10, 11, 12}},\n        {{13, 14, 15, 16}, {17, 18, 19, 20}, {21, 22, 23, 24}},\n    }\n    fmt.Println(a8)\n    // ---&gt; [[[1 2 3 4] [5 6 7 8] [9 10 11 12]]\n    // ---&gt; [[13 14 15 16] [17 18 19 20] [21 22 23 24]]]\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#åˆ‡ç‰‡çš„å®šä¹‰",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#åˆ‡ç‰‡çš„å®šä¹‰",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "2.1 åˆ‡ç‰‡çš„å®šä¹‰",
    "text": "2.1 åˆ‡ç‰‡çš„å®šä¹‰\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n\n    var s1 []int\n    fmt.Printf(\"%T, %v\\n\", s1, s1)\n    fmt.Println(len(s1), cap(s1)) // æ‰“å°é•¿åº¦å’Œå®¹é‡\n    // ---&gt; []int, []\n    // ---&gt; 0 0\n\n    var s2 = []int{1, 2, 3, 4, 5}\n    fmt.Printf(\"%T, %v\\n\", s2, s2)\n    fmt.Println(len(s2), cap(s2))\n    // ---&gt; []int, [1 2 3 4 5]\n    // ---&gt; 5 5\n\n    s3 := make([]int, 3, 5)\n    fmt.Println(s3, len(s3), cap(s3))\n    // ---&gt; [0 0 0] 3 5\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#åˆ‡ç‰‡çš„è®¿é—®",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#åˆ‡ç‰‡çš„è®¿é—®",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "2.2 åˆ‡ç‰‡çš„è®¿é—®",
    "text": "2.2 åˆ‡ç‰‡çš„è®¿é—®\n\nå½“å‘åˆ‡ç‰‡ä¸­æ·»åŠ æ•°æ®æ—¶ï¼Œè‹¥æ·»åŠ çš„æ•°é‡æ€»å’Œè¶…è¿‡åˆ‡ç‰‡çš„å®¹é‡ï¼Œåˆ‡ç‰‡ä¼šè‡ªåŠ¨æ‰©å®¹ï¼Œä¸”å®¹é‡æˆå€å¢åŠ \nåˆ‡ç‰‡æ‰©å®¹æœ¬è´¨æ˜¯æŒ‡å‘äº†ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼ŒåŸæ¥çš„æ•°ç»„è¢«ç³»ç»Ÿè‡ªåŠ¨å›æ”¶\n\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n\n    s1 := make([]int, 0, 4)\n    fmt.Printf(\"%v, %p\\n\", s1, s1)\n    fmt.Printf(\"length:%d, capacity:%d\\n\", len(s1), cap(s1))\n    // ---&gt; [], 0xc0000b2000\n    // ---&gt; length:0, capacity:4\n\n    s1 = append(s1, 1, 2)\n    fmt.Printf(\"%v, %p\\n\", s1, s1)\n    fmt.Printf(\"length:%d, capacity:%d\\n\", len(s1), cap(s1))\n    // ---&gt; [1 2], 0xc0000b2000\n    // ---&gt; length:2, capacity:4\n    // æ·»åŠ å…ƒç´ æœªè¶…è¿‡å®¹é‡ï¼Œå†…å­˜åœ°å€ä¸å˜ï¼Œä¾ç„¶æ˜¯åŸæ¥çš„æ•°ç»„\n\n    s1 = append(s1, 3, 4, 5)\n    fmt.Printf(\"%v, %p\\n\", s1, s1)\n    fmt.Printf(\"length:%d, capacity:%d\\n\", len(s1), cap(s1))\n    // ---&gt; [1 2 3 4 5], 0xc0000b6000\n    // ---&gt; length:5, capacity:8\n    // æ·»åŠ å…ƒç´ è¶…è¿‡å®¹é‡ï¼Œåˆ‡ç‰‡æŒ‡å‘æ–°çš„æ•°ç»„ï¼Œå®¹é‡æˆå€å¢åŠ \n\n}\nä»æ•°ç»„åˆ›å»ºåˆ‡ç‰‡ç±»ä¼¼ python çš„åˆ‡ç‰‡æ“ä½œï¼Œä½¿ç”¨ [a:b]ï¼Œå‰é—­åå¼€ã€‚\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n\n    s1 := [8]int{1, 2, 3, 4, 5, 6, 7, 8}\n    s2 := s1[:]\n    fmt.Printf(\"%v, %pï¼Œ %p\\n\", s2, &s1, s2)\n    fmt.Println(len(s2), cap(s2))\n    // ---&gt; [1 2 3 4 5 6 7 8], 0xc0000ae000ï¼Œ 0xc0000ae000\n    // ---&gt; 8 8\n\n    s3 := s1[0:3]\n    fmt.Printf(\"%v, %p, %p\\n\", s3, &s1, s3)\n    fmt.Println(len(s3), cap(s3))\n    // ---&gt; [1 2 3], 0xc0000ae000, 0xc0000ae000\n    // ---&gt; 3 8\n\n    s4 := s1[3:6]\n    fmt.Printf(\"%v, %p, %p\\n\", s4, &s1, s4)\n    fmt.Println(len(s4), cap(s4))\n    // ---&gt; [4 5 6], 0xc0000ae000, 0xc0000ae018\n    // ---&gt; 3 5\n    // åˆ‡ç‰‡çš„é•¿åº¦å³ä¸ºæˆªå–çš„æ•°ç»„çš„é•¿åº¦ï¼Œå®¹é‡æ˜¯ä»æˆªå–èµ·å§‹ä½ç½®åˆ°æ•°ç»„æœ«å°¾çš„é•¿åº¦\n    // æ•°ç»„çš„åœ°å€æ˜¯æ•°ç»„ä¸­é¦–ä¸ªå…ƒç´ çš„åœ°å€ï¼Œs4ç”±äºæˆªå–çš„èµ·å§‹ç´¢å¼•ä¸º3ï¼Œæ‰€ä»¥s4çš„åœ°å€ä¸s1ä¸åŒ\n}\nåˆ‡ç‰‡æœ¬è´¨ä¸Šæ˜¯ä¸€ç§ç‰¹æ®Šçš„æŒ‡é’ˆï¼Œå­˜å‚¨çš„æ˜¯åº•å±‚æ•°ç»„çš„åœ°å€ã€‚\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n\n    s1 := [8]int{1, 2, 3, 4, 5, 6, 7, 8}\n    s2 := s1[:6]\n    s1[0] = 100\n    fmt.Printf(\"%p, %p\\n\", &s1, s2)\n    fmt.Println(s1, s2)\n    // ---&gt; 0xc00001e140, 0xc00001e140\n    // ---&gt; [100 2 3 4 5 6 7 8] [100 2 3 4 5 6]\n    // åˆ‡ç‰‡æŒ‡å‘åº•å±‚æ•°ç»„ï¼Œåº•å±‚æ•°ç»„æ”¹å˜ï¼Œåˆ‡ç‰‡ç›¸åº”æ”¹å˜\n\n    s2[3] = 50\n    fmt.Printf(\"%p, %p\\n\", &s1, s2)\n    fmt.Println(s1, s2)\n    // ---&gt; 0xc00001e140, 0xc00001e140\n    // ---&gt; [100 2 3 50 5 6 7 8] [100 2 3 50 5 6]\n    // åˆ‡ç‰‡æ”¹å˜ï¼Œä¹Ÿä¼šå¯¼è‡´åº•å±‚æ•°ç»„æ”¹å˜\n\n    s2 = append(s2, 25)\n    fmt.Printf(\"%p, %p\\n\", &s1, s2)\n    fmt.Println(s1, s2)\n    // ---&gt; 0xc00001e140, 0xc00001e140\n    // ---&gt; [100 2 3 50 5 6 25 8] [100 2 3 50 5 6 25]\n\n}\nåˆ‡ç‰‡æ˜¯å¼•ç”¨ç±»å‹ã€‚\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n\n    s1 := []int{1, 2, 3, 4}\n    s2 := s1\n    fmt.Println(s1, s2)\n    fmt.Printf(\"s1åº•å±‚æ•°ç»„çš„åœ°å€:%p, s1çš„åœ°å€:%p\\n\", &s1, s1)\n    fmt.Printf(\"s2åº•å±‚æ•°ç»„çš„åœ°å€:%p, s2çš„åœ°å€:%p\\n\", &s2, s2)\n    // ---&gt; [1 2 3 4] [1 2 3 4]\n    // ---&gt; s1åº•å±‚æ•°ç»„çš„åœ°å€:0xc00000c060, s1çš„åœ°å€:0xc0000144a0\n    // ---&gt; s2åº•å±‚æ•°ç»„çš„åœ°å€:0xc00000c080, s2çš„åœ°å€:0xc0000144a0\n    // s1ï¼Œs2æŒ‡å‘åŒä¸€ä¸ªåº•å±‚æ•°ç»„\n\n    s1[0] = 100\n    fmt.Println(s1, s2)\n    fmt.Printf(\"s1åº•å±‚æ•°ç»„çš„åœ°å€:%p, s1çš„åœ°å€:%p\\n\", &s1, s1)\n    fmt.Printf(\"s2åº•å±‚æ•°ç»„çš„åœ°å€:%p, s2çš„åœ°å€:%p\\n\", &s2, s2)\n    // ---&gt; [100 2 3 4] [100 2 3 4]\n    // ---&gt; s1åº•å±‚æ•°ç»„çš„åœ°å€:0xc00000c060, s1çš„åœ°å€:0xc0000144a0\n    // ---&gt; s2åº•å±‚æ•°ç»„çš„åœ°å€:0xc00000c080, s2çš„åœ°å€:0xc0000144a0\n    // æ”¹å˜s1ï¼Œs2åŒæ—¶ä¹Ÿä¼šæ”¹å˜\n\n    s2[3] = 50\n    fmt.Println(s1, s2)\n    fmt.Printf(\"s1åº•å±‚æ•°ç»„çš„åœ°å€:%p, s1çš„åœ°å€:%p\\n\", &s1, s1)\n    fmt.Printf(\"s2åº•å±‚æ•°ç»„çš„åœ°å€:%p, s2çš„åœ°å€:%p\\n\", &s2, s2)\n    // ---&gt; [100 2 3 50] [100 2 3 50]\n    // ---&gt; s1åº•å±‚æ•°ç»„çš„åœ°å€:0xc00000c060, s1çš„åœ°å€:0xc0000144a0\n    // ---&gt; s2åº•å±‚æ•°ç»„çš„åœ°å€:0xc00000c080, s2çš„åœ°å€:0xc0000144a0\n    // æ”¹å˜s2ï¼Œs1åŒæ—¶ä¹Ÿä¼šæ”¹å˜\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#map-çš„å®šä¹‰",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#map-çš„å®šä¹‰",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "3.1 map çš„å®šä¹‰",
    "text": "3.1 map çš„å®šä¹‰\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    var m1 map[string]int\n    fmt.Printf(\"%T, %v\\n\", m1, m1)\n    // ---&gt; map[string]int, map[]\n    // è¿™ç§å®šä¹‰æ–¹å¼ï¼Œm1å¹¶æœªåˆå§‹åŒ–ï¼Œæ˜¯nilç±»å‹ï¼Œä¸èƒ½ç›´æ¥èµ‹å€¼\n    m1[\"Jay\"] = 1\n    // ---&gt; panic: assignment to entry in nil map\n\n    var m2 = map[string]int{\"Jay\": 1, \"Edison\": 2, \"Luffy\": 3}\n    fmt.Printf(\"%T, %v\\n\", m2, m2)\n    // ---&gt; map[string]int, map[Edison:2 Jay:1 Luffy:3]\n\n    m3 := map[string]int{\"Jay\": 1, \"Edison\": 2, \"Luffy\": 3}\n    fmt.Printf(\"%T, %v\\n\", m3, m3)\n    // ---&gt; map[string]int, map[Edison:2 Jay:1 Luffy:3]\n\n    // ä½¿ç”¨makeå‡½æ•°\n    m4 := make(map[string]int)\n    fmt.Printf(\"%T, %v\\n\", m4, m4)\n    // ---&gt; map[string]int, map[]\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#map-çš„è®¿é—®",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#map-çš„è®¿é—®",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "3.2 map çš„è®¿é—®",
    "text": "3.2 map çš„è®¿é—®\nmap ä½¿ç”¨ key è¿›è¡Œè®¿é—®ä¸èµ‹å€¼\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    m5 := make(map[int]string)\n    m5[1] = \"Jay\"\n    m5[2] = \"Edison\"\n    m5[3] = \"Luffy\"\n    m5[4] = \"Perl\"\n    m5[5] = \"Mads\"\n    m5[6] = \"Joker\"\n    fmt.Println(m5)\n    // map[1:Jay 2:Edison 3:Luffy 4:Perl 5:Mads 6:Joker]\n\n    fmt.Println(m5[3])\n    // Luffy\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#map-çš„éå†",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#map-çš„éå†",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "3.3 map çš„éå†",
    "text": "3.3 map çš„éå†\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    m6 := map[string]string{\"name\":\"Luffy\", \"sex\":\"male\", \"age\":\"18\", \"address\":\"East blue\"}\n    for k,v := range m6 {\n        fmt.Printf(\"%s : %s\\n\", k, v)\n    }\n}\n// ---&gt; name : Luffy\n// ---&gt; sex : male\n// ---&gt; age : 18\n// ---&gt; address : East blue"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#æŒ‡é’ˆçš„å®šä¹‰",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#æŒ‡é’ˆçš„å®šä¹‰",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "4.1 æŒ‡é’ˆçš„å®šä¹‰",
    "text": "4.1 æŒ‡é’ˆçš„å®šä¹‰\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    var p1 *[4]int\n    fmt.Println(p1)\n    // ---&gt; &lt;nil&gt; // &lt;nil&gt;è¡¨ç¤ºç©ºæŒ‡é’ˆ\n    a := [4]int{1, 2, 3, 4}\n    p1 = &a // &ä¸ºå–åœ°å€ç¬¦\n    fmt.Println(p1)\n    // ---&gt; &[1 2 3 4]\n    fmt.Printf(\"%p, %p\\n\", p1, &p1) // ç¬¬ä¸€ä¸ªå ä½ç¬¦è¡¨ç¤ºp1ä¿å­˜çš„åœ°å€ï¼Œç¬¬äºŒä¸ªå ä½ç¬¦è¡¨ç¤ºp1è‡ªèº«çš„åœ°å€\n    // ---&gt; 0xc0000b0000, 0xc0000a8018\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#æŒ‡é’ˆçš„è®¿é—®",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#æŒ‡é’ˆçš„è®¿é—®",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "4.2 æŒ‡é’ˆçš„è®¿é—®",
    "text": "4.2 æŒ‡é’ˆçš„è®¿é—®\ngo è¯­è¨€ä¸­ä½¿ç”¨ * æ¥å–æŒ‡é’ˆæ‰€ä¿å­˜çš„å†…å­˜åœ°å€æŒ‡å‘çš„å˜é‡å€¼ã€‚\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    var p2 *[4]string\n    a2 := [4]string {\"Luffy\", \"Hancock\", \"Zoro\", \"Nami\"}\n\n    p2 = &a2\n    fmt.Println(*p2)\n    // ---&gt; [Luffy Hancock Zoro Nami]\n\n    (*p2)[0] = \"Robin\"\n    fmt.Println(p2)\n    // ---&gt; &[Robin Hancock Zoro Nami]\n    fmt.Println(a2)\n    // ---&gt; [Robin Hancock Zoro Nami]\n\n    p2[2] = \"Shanks\" // ç®€åŒ–å†™æ³•\n    fmt.Println(p2)\n    // ---&gt; &[Robin Hancock Shanks Nami]\n    fmt.Println(a2)\n    // ---&gt; [Robin Hancock Shanks Nami]\n\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#æŒ‡é’ˆçš„æŒ‡é’ˆ",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#æŒ‡é’ˆçš„æŒ‡é’ˆ",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "4.3 æŒ‡é’ˆçš„æŒ‡é’ˆ",
    "text": "4.3 æŒ‡é’ˆçš„æŒ‡é’ˆ\næŒ‡é’ˆçš„æŒ‡é’ˆï¼Œé¡¾åæ€ä¹‰ï¼Œè¯¥æŒ‡é’ˆä¸­ä¿å­˜çš„æ˜¯å¦ä¸€ä¸ªæŒ‡é’ˆçš„åœ°å€ã€‚\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    var ptr *[4]int\n    var pptr **[4]int\n\n    a := [4]int{1, 2, 3, 4}\n    ptr = &a\n    pptr = &ptr\n\n    fmt.Println(a)\n    // ---&gt; [1 2 3 4]\n    fmt.Println(ptr, *ptr)\n    // ---&gt; &[1 2 3 4] [1 2 3 4]\n    fmt.Println(pptr, *pptr)\n    // ---&gt; 0xc0000a8018 &[1 2 3 4]\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#å‡½æ•°çš„å®šä¹‰",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#å‡½æ•°çš„å®šä¹‰",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "5.1 å‡½æ•°çš„å®šä¹‰",
    "text": "5.1 å‡½æ•°çš„å®šä¹‰\nfunc funcName(p1 type, p2 type)(v1 type, v2 type) {\n    // å‡½æ•°ä½“\n    return v1, v2\n}\n\n// eg:\nfunc add(num1, num2 int)int {\n    return num1+num2\n}\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n    fmt.Printf(\"%T, %p\\n\", print, print)\n    // ---&gt; func(), 0x48eb50 // å‡½æ•°ä½“çš„åœ°å€\n\n    var x func()\n    x = print // å°†printçš„å€¼ï¼ˆå‡½æ•°ä½“çš„åœ°å€ï¼‰èµ‹å€¼ç»™x\n    x()\n    // ---&gt; Nami is alse good!\n}\n\nfunc print() {\n    fmt.Println(\"Nami is alse good!\")\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#å‡½æ•°çš„å‚æ•°",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#å‡½æ•°çš„å‚æ•°",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "5.2 å‡½æ•°çš„å‚æ•°",
    "text": "5.2 å‡½æ•°çš„å‚æ•°\n\n5.2.1 å¯å˜å‚æ•°\n\nå¯å˜å‚æ•°æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåˆ‡ç‰‡\nåœ¨å‚æ•°åˆ—è¡¨ä¸­ï¼Œå¯å˜å‚æ•°åº”æ”¾åœ¨æœ€å\nå¯å˜å‚æ•°è‡³å¤šåªèƒ½æœ‰ä¸€ä¸ª\n\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n    add1()\n    // ---&gt; []int\n    // å¯å˜å‚æ•°å®è´¨ä¸Šæ˜¯ä¸€ä¸ªslice\n\n    s := []int{1, 2, 3, 4, 5, 6}\n    x := add2(s...) // ä½¿ç”¨...æå–sliceä¸­çš„å…ƒç´ \n    fmt.Println(x)\n    // ---&gt; 21\n}\n\nfunc add1(num ...int) {\n    fmt.Printf(\"%T\\n\", num)\n}\n\nfunc add2(num ...int) int {\n    sum := 0\n    for _, v := range num {\n        sum = sum + v\n    }\n\n    return sum\n}\n\n\n5.2.2 å‚æ•°ä¼ é€’\nå€¼ä¼ é€’ï¼Œå€¼ä¼ é€’ä¼ é€’çš„æ˜¯å‚æ•°çš„å‰¯æœ¬ã€‚å€¼ç±»å‹çš„æ•°æ®é»˜è®¤éƒ½æ˜¯å€¼ä¼ é€’ï¼šåŸºæœ¬æ•°æ®ç±»å‹ã€arrayã€structã€‚\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n    arr := [4]int{1, 2, 3, 4}\n    fmt.Printf(\"%p, %v\\n\", &arr, arr)\n    // ---&gt; 0xc0000ae000, [1 2 3 4]\n\n    change(arr)\n    // ---&gt; 0xc0000ae060\n    // ---&gt; [10000 2 3 4]\n\n    fmt.Println(arr)\n    // ---&gt; [1 2 3 4]\n}\n\nfunc change(a [4]int) {\n    fmt.Printf(\"%p\\n\", &a)\n    a[0] = 10000\n    fmt.Println(a)\n}\nå¼•ç”¨ä¼ é€’ï¼Œå¼•ç”¨ä¼ é€’ä¼ é€’çš„æ˜¯å‚æ•°çš„åœ°å€ã€‚å¼•ç”¨ç±»å‹çš„æ•°æ®é»˜è®¤éƒ½æ˜¯å¼•ç”¨ä¼ é€’ï¼šsliceã€mapã€chanã€‚\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n    slice := []int{1, 2, 3, 4}\n    fmt.Println(slice)\n    // ---&gt; [1 2 3 4]\n\n    change(slice)\n    // ---&gt; [10000 2 3 4]\n\n    fmt.Println(slice)\n    // ---&gt; [10000 2 3 4]\n}\n\nfunc change(s []int) {\n    s[0] = 10000\n    fmt.Println(s)\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#é€’å½’å‡½æ•°",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#é€’å½’å‡½æ•°",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "5.3 é€’å½’å‡½æ•°",
    "text": "5.3 é€’å½’å‡½æ•°\nfunc fibonacci(n int) int {\n    if n == 1 || n == 2 {\n        return 1\n    }\n    return fibonacci(n-1) + fibonacci(n-2)\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#defer-è¯­å¥",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#defer-è¯­å¥",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "5.4 defer è¯­å¥",
    "text": "5.4 defer è¯­å¥\ndefer è¯­å¥å¯ä»¥ç”¨æ¥å»¶è¿Ÿä¸€ä¸ªå‡½æ•°æˆ–è€…æ–¹æ³•çš„æ‰§è¡Œã€‚å½“å­˜åœ¨å¤šä¸ªå»¶è¿Ÿè°ƒç”¨æ—¶ï¼Œå®ƒä»¬è¢«æ·»åŠ åˆ°ä¸€ä¸ªå †æ ˆä¸­ï¼Œéµå¾ªåè¿›å…ˆå‡ºçš„åŸåˆ™æ‰§è¡Œã€‚\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n    defer print()\n    defer print2()\n    fmt.Println(\"Hancock is good!\")\n    // ---&gt; Hancock is good!\n    // ---&gt; Robin is good! // LIFO\n    // ---&gt; Nami is also good!\n}\n\nfunc print() {\n    fmt.Println(\"Nami is also good!\")\n}\n\nfunc print2() {\n    fmt.Println(\"Robin is good!\")\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#åŒ¿åå‡½æ•°",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#åŒ¿åå‡½æ•°",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "5.5 åŒ¿åå‡½æ•°",
    "text": "5.5 åŒ¿åå‡½æ•°\n\nåŒ¿åå‡½æ•°å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œä¹Ÿå«å›è°ƒå‡½æ•°\nåŒ¿åå‡½æ•°å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œä¹Ÿå«é—­åŒ…ç»“æ„\n\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n    func () {\n        fmt.Println(\"Hancock!\")\n    }()\n    // ---&gt; Hancock!\n\n    fun1 := func () {\n        fmt.Println(\"Nami!\")\n    }\n    fun1()\n    // ---&gt; Nami!\n\n    // å¸¦å‚æ•°ä¸è¿”å›å€¼çš„åŒ¿åå‡½æ•°\n    res := func (a, b int) int {\n        return a+b\n    }(1, 2)\n    fmt.Println(res)\n    // ---&gt; 3\n}\nä½œä¸ºä¸€ä¸ªå‡½æ•°å‚æ•°çš„å‡½æ•°å°±å«åšå›è°ƒå‡½æ•°ã€‚\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n    res := opr(1, 2, add)\n    fmt.Println(res)\n    // ---&gt; 3\n}\n\nfunc add(a, b int) int {\n    return a + b\n}\n\nfunc opr(a, b int, fun func(int,int)int) int {\n    return fun(a, b)\n}\nä½¿ç”¨åŒ¿åå‡½æ•°ä½œä¸ºå›è°ƒå‡½æ•°ã€‚\npackage main\n\nimport \"fmt\"\n\nfunc main() {\n    add := func(a, b int) int {\n        return a + b\n    }\n    res := opr(1, 2, add)\n    fmt.Println(res)\n    // ---&gt; 3\n\n    res2 := opr(1, 2, func(a, b int) int {\n        return a + b\n    })\n    fmt.Println(res2)\n    // ---&gt; 3\n}\n\nfunc opr(a, b int, fun func(int, int) int) int {\n    return fun(a, b)\n}\nä¸€ä¸ªå¤–å±‚å‡½æ•°æœ‰å†…å±‚å‡½æ•°ï¼Œå†…å±‚å‡½æ•°ä¼šæ“ä½œå¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼ˆå¤–å±‚å‡½æ•°çš„å‚æ•°ï¼Œæˆ–è€…å¤–å±‚å‡½æ•°å®šä¹‰çš„å±€éƒ¨å˜é‡ï¼‰ï¼Œå¹¶ä¸”è¯¥å¤–å±‚å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯è¿™ä¸ªå†…å±‚å‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå†…å±‚å‡½æ•°å’Œå¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡å°±ç»Ÿç§°ä¸ºé—­åŒ…ç»“æ„ã€‚\né—­åŒ…ä¸­å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¼šå‘ç”Ÿæ”¹å˜ã€‚æ­£å¸¸çš„å±€éƒ¨å˜é‡ä¼šéšç€å¤–å±‚å‡½æ•°çš„è°ƒç”¨è€Œåˆ›å»ºï¼Œéšç€å¤–å±‚å‡½æ•°çš„ç»“æŸè€Œé”€æ¯ã€‚ä½†æ˜¯é—­åŒ…ç»“æ„ä¸­å¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡ä¸ä¼šéšç€å¤–å±‚å‡½æ•°çš„ç»“æŸè€Œé”€æ¯ï¼Œå› ä¸ºå†…å±‚å‡½æ•°è¿˜è¦ç»§ç»­ä½¿ç”¨ã€‚\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    fmt.Printf(\"%p\\n\", increment)\n    // ---&gt; 0x48f0f0 // å‡½æ•°åæ‰€æŒ‡å‘çš„å‡½æ•°ä½“çš„åœ°å€\n    res1 := increment()\n    fmt.Printf(\"%p, %p\\n\", res1, &res1)\n    // ---&gt; 0x48f190, 0xc00000e030 // å†…å±‚å‡½æ•°ä½“çš„åœ°å€ï¼Œ res1å˜é‡çš„åœ°å€\n    fmt.Println(res1())\n    // ---&gt; 1\n    fmt.Println(res1())\n    // ---&gt; 2\n    fmt.Println(res1())\n    // ---&gt; 3\n\n    res2 := increment()\n    fmt.Println(res2())\n    // ---&gt; 1\n    fmt.Println(res2())\n    // ---&gt; 2\n\n    fmt.Println(res1())\n    // ---&gt; 4\n\n    var fun func() func() int\n    fun = increment\n    fmt.Printf(\"%p\\n\", fun)\n    // ---&gt; 0x48f0f0\n    fmt.Printf(\"%p\\n\", &fun)\n    // ---&gt; 0xc00000e038\n\n    fun2 := increment\n    fmt.Printf(\"%p\\n\", fun2)\n    // ---&gt; 0x48f0f0\n    fmt.Printf(\"%p\\n\", &fun2)\n    // ---&gt; 0xc00000e040\n\n}\n\nfunc increment() func() int {\n    i := 0 //è¿™ä¸ªå¤–å±‚å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œæ˜¯å†…å±‚å‡½æ•°çš„å…¨å±€å˜é‡\n    return func() int {\n        i++\n        return i\n    }\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#ç»“æ„ä½“çš„å®šä¹‰",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#ç»“æ„ä½“çš„å®šä¹‰",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "6.1 ç»“æ„ä½“çš„å®šä¹‰",
    "text": "6.1 ç»“æ„ä½“çš„å®šä¹‰\n// ç»“æ„ä½“ä½¿ç”¨typeå’Œstructå…³é”®å­—æ¥è¿›è¡Œå£°æ˜\ntype Person struct {\n    name string\n    sex string\n    age int\n    address string\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#ç»“æ„ä½“çš„åˆå§‹åŒ–ä¸è®¿é—®",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#ç»“æ„ä½“çš„åˆå§‹åŒ–ä¸è®¿é—®",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "6.2 ç»“æ„ä½“çš„åˆå§‹åŒ–ä¸è®¿é—®",
    "text": "6.2 ç»“æ„ä½“çš„åˆå§‹åŒ–ä¸è®¿é—®\n// ç»“æ„ä½“ä½¿ç”¨.æ“ä½œç¬¦æ¥è¿›è¡Œè®¿é—®\n// ä½¿ç”¨varå…³é”®å­—åˆå§‹åŒ–\nvar P1 Person\np1.name = \"Jay\"\np1.sex = \"male\"\np1.age = \"41\"\np1.address = \"Taibei\"\n\n// ç±»ä¼¼ç®€çŸ­å£°æ˜\np2 := Person{}\np2.name = \"Zoro\"\np2.sex = \"male\"\np2.age = \"20\"\np2.address = \"East Blue\"\n\n// æŒ‰ç…§field:valueçš„æ–¹å¼æä¾›åˆå§‹åŒ–çš„å€¼\np3 := Person{\n    name ï¼š \"Luffy\",\n    sex ï¼š \"male\",\n    age ï¼š 18,\n    address : \"East Blue\",\n}\n\n// æŒ‰ç…§é¡ºåºæä¾›åˆå§‹åŒ–çš„å€¼\np4 := Person{\"Hancock\", \"female\", 29, \"East Blue\"}\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    p1 := Person{\n        name:    \"Hancock\",\n        sex:     \"female\",\n        age:     29,\n        address: \"East Blue\",\n    }\n\n    fmt.Println(p1)\n    // ---&gt; {Hancock female 29 East Blue}\n    // ç»“æ„ä½“ä½¿ç”¨.æ“ä½œç¬¦æ¥è¿›è¡Œè®¿é—®\n    p1.age = 31\n    fmt.Println(p1)\n    // ---&gt; {Hancock female 31 East Blue}\n}\n\ntype Person struct {\n    name    string\n    sex     string\n    age     int\n    address string\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#ç»“æ„ä½“æŒ‡é’ˆ",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#ç»“æ„ä½“æŒ‡é’ˆ",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "6.3 ç»“æ„ä½“æŒ‡é’ˆ",
    "text": "6.3 ç»“æ„ä½“æŒ‡é’ˆ\npackage main\n\nimport(\n    \"fmt\"\n)\n\nfunc main() {\n    p1 := Person {\n        name : \"Hancock\",\n        sex : \"female\",\n        age : 29,\n        address : \"East Blue\",\n    }\n\n    var pp1 *Person\n    pp1 = &p1\n    fmt.Printf(\"%p, %T\\n\", pp1, pp1)\n    // ---&gt; 0xc0000240c0, *main.Person\n    fmt.Println(*pp1)\n    // ---&gt; {Hancock female 29 East Blue}\n\n    // ä½¿ç”¨æŒ‡é’ˆä¿®æ”¹æ•°æ®\n    (*pp1).name = \"Nami\"\n    fmt.Println(pp1, p1)\n    // ---&gt; &{Nami female 29 East Blue} {Nami female 29 East Blue}\n    // ç®€å†™\n    pp1.name = \"Robin\"\n    fmt.Println(pp1, p1)\n    // ---&gt; &{Robin female 29 East Blue} {Robin female 29 East Blue}\n\n    // ä½¿ç”¨newå‡½æ•°åˆ›å»ºæŒ‡é’ˆ\n    // newå‡½æ•°æŒ‡å‘äº†æ–°å¼€è¾Ÿçš„å†…å­˜ç©ºé—´ï¼Œé‡Œé¢å­˜å‚¨çš„æ˜¯0å€¼\n    pp2 := new(Person)\n    fmt.Printf(\"%T\\n\", pp2)\n    // ---&gt; *main.Person\n    fmt.Println(pp2)\n    // ---&gt; &{  0 }\n\n    pp2.name = \"Luffy\"\n    pp2.sex = \"male\"\n    pp2.age = 18\n    pp2.address = \"East Blue\"\n    fmt.Println(pp2)\n    // ---&gt; &{Luffy male 18 East Blue}\n}\n\ntype Person struct {\n    name string\n    sex string\n    age int\n    address string\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#åŒ¿åç»“æ„ä½“ä¸åŒ¿åå­—æ®µ",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#åŒ¿åç»“æ„ä½“ä¸åŒ¿åå­—æ®µ",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "6.4 åŒ¿åç»“æ„ä½“ä¸åŒ¿åå­—æ®µ",
    "text": "6.4 åŒ¿åç»“æ„ä½“ä¸åŒ¿åå­—æ®µ\npackage main\n\nimport(\n    \"fmt\"\n)\n\nfunc main() {\n    // åŒ¿åç»“æ„ä½“\n    p1 := struct {\n        name string\n        sex string\n        age int\n        address string\n    } {\n        name : \"Hancock\",\n        sex : \"female\",\n        age : 29,\n        address : \"East Blue\",\n    }\n    fmt.Println(p1)\n    // ---&gt; {Hancock female 29 East Blue}\n\n    // ç»“æ„ä½“ä½¿ç”¨åŒ¿åå­—æ®µæ—¶ï¼Œé»˜è®¤ä½¿ç”¨å­—æ®µç±»å‹ä½œä¸ºfieldï¼Œå› æ­¤å­—æ®µç±»å‹ä¸èƒ½é‡å¤\n    p2 := Person {\"Hancock\", 29}\n    fmt.Println(p2)\n    // ---&gt; {Hancock 29}\n    fmt.Println(p2.string)\n    // ---&gt; Hancock\n\n    // åŒæ—¶ä½¿ç”¨åŒ¿åç»“æ„ä½“å’ŒåŒ¿åå­—æ®µ\n    p3 := struct {\n        string\n        int\n    } {\n        \"Hancock\",\n        29,\n    }\n    fmt.Println(p3)\n    // ---&gt; {Hancock 29}\n    fmt.Println(p3.string)\n    // ---&gt; Hancock\n}\n\ntype Person struct {\n    string\n    int\n}"
  },
  {
    "objectID": "posts/2020-02-03-golang-learning-notes/index.html#ç»“æ„ä½“åµŒå¥—",
    "href": "posts/2020-02-03-golang-learning-notes/index.html#ç»“æ„ä½“åµŒå¥—",
    "title": "Golangå­¦ä¹ ç¬”è®°",
    "section": "6.5 ç»“æ„ä½“åµŒå¥—",
    "text": "6.5 ç»“æ„ä½“åµŒå¥—\npackage main\n\nimport(\n    \"fmt\"\n)\n\nfunc main() {\n    p1 := Person {\n        name : Name {\n            firstName : \"Hancock\",\n            lastName : \"Boa\",\n        },\n        sex : \"female\",\n        age : 29,\n        address : \"East Blue\",\n    }\n\n    fmt.Printf(\"å§“ï¼š%sï¼Œåï¼š%sï¼Œæ€§åˆ«ï¼š%sï¼Œå¹´é¾„ï¼š%dï¼Œåœ°å€ï¼š%s\\n\", p1.name.lastName, p1.name.firstName, p1.sex, p1.age, p1.address)\n    // ---&gt; å§“ï¼šBoaï¼Œåï¼šHancockï¼Œæ€§åˆ«ï¼šfemaleï¼Œå¹´é¾„ï¼š29ï¼Œåœ°å€ï¼šEast Blue\n}\n\ntype Name struct {\n    firstName string\n    lastName string\n}\n\ntype Person struct {\n    name Name\n    sex string\n    age int\n    address string\n}\nç”±äºç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼Œå› æ­¤åœ¨åµŒå¥—æ—¶ä¹Ÿå¯ä»¥é€‰æ‹©åµŒå¥—ç»“æ„ä½“æŒ‡é’ˆï¼Œå¯ä»¥ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ï¼ŒåŒæ—¶èŠ‚çœå†…å­˜ã€‚\npackage main\n\nimport(\n    \"fmt\"\n)\n\nfunc main() {\n    n1 := Name {\n        firstName : \"Hancock\",\n        lastName : \"Boa\",\n    }\n\n    p1 := Person {\n        name : &n1,\n        sex : \"female\",\n        age : 29,\n        address : \"East Blue\",\n    }\n\n    fmt.Printf(\"å§“ï¼š%sï¼Œåï¼š%sï¼Œæ€§åˆ«ï¼š%sï¼Œå¹´é¾„ï¼š%dï¼Œåœ°å€ï¼š%s\\n\", p1.name.lastName, p1.name.firstName, p1.sex, p1.age, p1.address)\n    // ---&gt; å§“ï¼šBoaï¼Œåï¼šHancockï¼Œæ€§åˆ«ï¼šfemaleï¼Œå¹´é¾„ï¼š29ï¼Œåœ°å€ï¼šEast Blue\n\n    p1.name.lastName = \"Monkey D\"\n    fmt.Println(n1)\n    // ä¿®æ”¹p1ï¼Œn1åŒæ—¶æ”¹å˜ï¼Œæ•°æ®ä¿æŒä¸€è‡´\n    // ---&gt; {Hancock Monkey D}\n}\n\ntype Name struct {\n    firstName string\n    lastName string\n}\n\ntype Person struct {\n    name *Name // ä¼ å…¥æŒ‡é’ˆ\n    sex string\n    age int\n    address string\n}\nå‡å¦‚è¯´ç»“æ„ä½“ä¸­åŒæ—¶åŒ…å«åŒ¿åå­—æ®µä¸éåŒ¿åå­—æ®µï¼Œç‰¹åˆ«çš„ï¼Œå½“åŒ¿åå­—æ®µä¸ºæŒ‡é’ˆæ—¶ï¼Œåœ¨å®ä¾‹åŒ–ç»“æ„ä½“æ—¶è¦ç»™åŒ¿åå­—æ®µåŠ ä¸Šå­—æ®µåï¼Œä¸”è¯¥å­—æ®µåå°±æ˜¯æŒ‡é’ˆå¯¹åº”çš„ç±»å‹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ mixture of field:value and value initializers ã€‚\npackage main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    hancock := Person{\n        name:   \"Hancock\",\n        age:    29,\n        gender: \"female\",\n    }\n    var han *Person = &hancock\n    hanworker := Worker{\n        Person: han, // è¦ç”¨æŒ‡é’ˆå¯¹åº”çš„ç±»å‹ä½œä¸ºå­—æ®µå\n        skill:  \"bj\",\n        salary: 200,\n    }\n\n    fmt.Println(hanworker)\n}\n\ntype Person struct {\n    name   string\n    age    int\n    gender string\n}\n\ntype Worker struct {\n    *Person\n    skill  string\n    salary int\n}"
  },
  {
    "objectID": "posts/2023-11-09-Pygraphvizå®‰è£…è®°å½•/index.html",
    "href": "posts/2023-11-09-Pygraphvizå®‰è£…è®°å½•/index.html",
    "title": "Pygraphvizå®‰è£…è®°å½•",
    "section": "",
    "text": "è¿™æ˜¯ä¸€æ¬¡å¤±è´¥çš„å®‰è£…è®°å½•ã€‚èµ·å› æ˜¯æˆ‘æƒ³è¯•ä¸€ä¸‹ pybaobabdtï¼Œè€Œ pybaobabdt éœ€è¦å®‰è£… Pygraphvizã€‚ç½‘ä¸Šå¤§éƒ¨åˆ†èµ„æ–™éƒ½æ˜¯ä½¿ç”¨ Christoph Gohlke æä¾›çš„ whl æ–‡ä»¶è¿›è¡Œæœ¬åœ°å®‰è£…ï¼Œè€Œæˆ‘çš„ Python ç‰ˆæœ¬æ˜¯ 3.11ï¼Œæ²¡æœ‰ç›¸åº”çš„ whl æ–‡ä»¶ï¼Œäºæ˜¯æˆ‘æ‰“ç®—å‚è€ƒå®˜æ–¹æ–‡æ¡£ä½¿ç”¨ pip è¿›è¡Œå®‰è£…ã€‚æ­¤åˆ»ï¼Œæˆ‘è¿˜ä¸çŸ¥é“è¿™ä¸ªå†³å®šæ„å‘³ç€ä»€ä¹ˆ:)\n\nåœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œâ€œwheelâ€ æ˜¯ä¸€ä¸ªç‰¹å®šçš„ Python åŒ…å‘å¸ƒæ ¼å¼ï¼Œé€šå¸¸ç”¨äº Python åŒ…çš„åˆ†å‘å’Œå®‰è£…ã€‚Wheel æ–‡ä»¶é€šå¸¸åŒ…å«äº†å·²ç»ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶ä»£ç ï¼Œä»¥åŠä¸ç‰¹å®šæ“ä½œç³»ç»Ÿå’Œ Python ç‰ˆæœ¬å…¼å®¹çš„ç›¸å…³æ–‡ä»¶ï¼Œä»¥ä¾¿æ›´å¿«åœ°å®‰è£… Python åŒ…ï¼Œè€Œæ— éœ€è¿›è¡Œç¼–è¯‘ã€‚\nWheel æ–‡ä»¶çš„ä¸»è¦ä¼˜åŠ¿åœ¨äºå®ƒä»¬å¯ä»¥èŠ‚çœæ—¶é—´ï¼Œå› ä¸ºå®ƒä»¬ä¸éœ€è¦åœ¨å®‰è£…æ—¶è¿›è¡Œç¼–è¯‘ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶ä»£ç ï¼Œå› æ­¤å®‰è£…é€Ÿåº¦æ›´å¿«ã€‚è¿™å¯¹äºå¤§å‹é¡¹ç›®å’Œä¾èµ–å¤æ‚çš„ Python åŒ…éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸éœ€è¦è¾ƒé•¿æ—¶é—´æ¥ç¼–è¯‘ã€‚ Wheel æ–‡ä»¶é€šå¸¸ä»¥ â€œ.whlâ€ æ‰©å±•åç»“å°¾ï¼Œä¾‹å¦‚ â€œmypackage-1.0-py3-none-any.whlâ€ï¼Œå…¶ä¸­ â€œmypackageâ€ æ˜¯åŒ…çš„åç§°ï¼Œâ€œ1.0â€ æ˜¯ç‰ˆæœ¬å·ï¼Œâ€œpy3â€ è¡¨ç¤ºå…¼å®¹çš„ Python ç‰ˆæœ¬ï¼Œâ€œnoneâ€ è¡¨ç¤ºä¸æ“ä½œç³»ç»Ÿæ— å…³ï¼Œâ€œanyâ€ è¡¨ç¤ºé€‚ç”¨äºä»»ä½•æ“ä½œç³»ç»Ÿã€‚\nPython çš„åŒ…ç®¡ç†å·¥å…· pip æ”¯æŒä» wheel æ–‡ä»¶å®‰è£… Python åŒ…ï¼Œå› æ­¤å¼€å‘è€…å¯ä»¥æ›´è½»æ¾åœ°å°†å…¶åŒ…åˆ†å‘ç»™å…¶ä»–ç”¨æˆ·ï¼Œå¹¶ç¡®ä¿å…¼å®¹æ€§å’Œå®‰è£…é€Ÿåº¦ã€‚é€šå¸¸ï¼Œå½“ä½ ä½¿ç”¨ pip å®‰è£… Python åŒ…æ—¶ï¼Œå®ƒä¼šé¦–å…ˆå°è¯•ä½¿ç”¨ wheel æ–‡ä»¶ï¼Œå¦‚æœå¯ç”¨çš„è¯ï¼Œä»¥æé«˜å®‰è£…æ•ˆç‡ã€‚å¦‚æœæ²¡æœ‰å¯ç”¨çš„ wheel æ–‡ä»¶ï¼Œpip å°†ä½¿ç”¨æºä»£ç è¿›è¡Œå®‰è£…ï¼Œéœ€è¦ç¼–è¯‘å¹¶æ„å»ºåŒ…ã€‚ â€”â€” ChatGPT\n\næ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œåœ¨ windows ç³»ç»Ÿä¸Šå®‰è£… Pygraphvizï¼Œé¦–å…ˆéœ€è¦æ‰‹åŠ¨ä¸‹è½½å®‰è£… Graphvizï¼Œå¹¶å°† Graphviz æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ã€‚\n\nGraphvizæ˜¯ä¸€ä¸ªå¼€æºçš„å›¾å½¢å¯è§†åŒ–å·¥å…·ï¼Œç”¨äºç»˜åˆ¶å„ç§ç±»å‹çš„å›¾å½¢ï¼Œå¦‚æœ‰å‘å›¾ã€æ— å‘å›¾å’Œæ ‘ã€‚å®ƒæä¾›äº†ä¸€ç§ç®€å•çš„æè¿°å›¾å½¢çš„è¯­è¨€ï¼ˆé€šå¸¸æ˜¯DOTè¯­è¨€ï¼‰ï¼Œé€šè¿‡è¿™ç§è¯­è¨€ï¼Œä½ å¯ä»¥æŒ‡å®šå›¾å½¢çš„èŠ‚ç‚¹ã€è¾¹å’Œå¸ƒå±€ç­‰å±æ€§ã€‚Graphvizä¼šå°†è¿™äº›æè¿°è½¬æ¢ä¸ºå¯è§†åŒ–å›¾å½¢ã€‚å®ƒæ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼ï¼ŒåŒ…æ‹¬PNGã€PDFã€SVGç­‰ã€‚Graphvizæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å·¥å…·ï¼Œä¸ç›´æ¥ä¸Pythonå…³è”ã€‚\n\nå…¶æ¬¡ï¼Œéœ€è¦ä¸‹è½½å®‰è£… Visual C/C++ã€‚ç„¶åä½¿ç”¨ pip è¿›è¡Œå®‰è£…ï¼š\npython -m pip install --use-pep517 `\n              --config-setting=\"--global-option=build_ext\" `\n              --config-setting=\"--global-option=\"-IC:\\ProgramFiles\\Graphviz\\include\" `\n              --config-setting=\"--global-option=\"-LC:\\ProgramFiles\\Graphviz\\lib\" `\n              pygraphviz\nç„¶åæ”¶è·å¦‚ä¸‹æŠ¥é”™ï¼š\npygraphviz/graphviz_wrap.c(3020): fatal error C1083: æ— æ³•æ‰“å¼€åŒ…æ‹¬æ–‡ä»¶: â€œgraphviz/cgraph.hâ€: No such file or directory\nåœ¨ C:\\Program Files\\Graphviz\\include\\graphviz\\ ä¸‹ç¡®å®å¯ä»¥æ‰¾åˆ° cgraph.h è¿™ä¸ªæ–‡ä»¶ã€‚è¿™ä¸ªæŠ¥é”™æŸ¥é˜…äº†å¾ˆå¤šèµ„æ–™ï¼Œéƒ½æ— æ³•è§£å†³ï¼Œå‡ ä¸ªå°æ—¶è¿‡å»äº†ï¼Œåœ¨ Medium ä¸Šçœ‹åˆ°äº†ä¸€ç¯‡æ–‡ç«  Trying to install pygraphviz on windows is a real painï¼ŒçœŸæ˜¯è¯´å‡ºäº†æˆ‘çš„å¿ƒå£°:(\næœ€åæ— å¥ˆé€‰æ‹©äº†åœ¨ WSL2 ä¸Šå®‰è£…ã€‚åœ¨ WSL2 Ubuntu18.04 ä¸Šå®‰è£…å°±ç®€å•å¤šäº†ï¼Œè™½ç„¶ä¹Ÿå‡ºç°äº†æŠ¥é”™ï¼š\nERROR: Could not build wheels for pygraphviz, which is required to install pyproject.toml-based projects\næ ¹æ®ä¸€ç¯‡æ•™ç¨‹ä¹Ÿå¾ˆå®¹æ˜“å°±è§£å†³äº†:)\n\nå‚è€ƒèµ„æ–™\n\nhttps://pygraphviz.github.io/documentation/stable/install.html\nhttps://www.lfd.uci.edu/~gohlke/pythonlibs/\nhttps://github.com/pygraphviz/pygraphviz/issues/155\nhttps://medium.com/@notokesporketokas/trying-to-install-pygraphviz-on-windows-is-a-real-pain-82502752365b\nhttps://bobbyhadz.com/blog/python-could-not-build-wheels-for-which-use-pep-517"
  },
  {
    "objectID": "posts/2023-01-13-çˆ¬å–æ–°æµªè´¢ç»ESGè¯„çº§æŒ‡æ•°/index.html",
    "href": "posts/2023-01-13-çˆ¬å–æ–°æµªè´¢ç»ESGè¯„çº§æŒ‡æ•°/index.html",
    "title": "çˆ¬å–æ–°æµªè´¢ç»ESGè¯„çº§æŒ‡æ•°",
    "section": "",
    "text": "æ–°æµªè´¢ç»çš„ ESG è¯„çº§æŒ‡æ•°é¡µé¢åˆ†é¡µåˆ©ç”¨äº† JS è¿›è¡ŒåŠ¨æ€æ¸²æŸ“ï¼Œå› ä¸ºæ•°æ®é‡ä¸å¤§ï¼Œå°±åˆ©ç”¨ Selenium æ¥çˆ¬å–ã€‚ \n\nfrom selenium import webdriver\nfrom selenium.webdriver import ChromeOptions\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.support.wait import WebDriverWait\nfrom selenium.common.exceptions import StaleElementReferenceException\n\nimport time\nimport logging\nimport pandas as pd\n\nfrom tqdm import tqdm\n\næˆ‘ä»¬åˆ©ç”¨ CSS é€‰æ‹©å™¨æ¥è§£ææ‰€éœ€æ•°æ®ï¼Œç„¶åæ¨¡æ‹Ÿç‚¹å‡»ä¸‹ä¸€é¡µï¼Œå¾ªç¯è§£æã€‚\nè¿™é‡Œå­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œç‚¹å‡»ä¸‹ä¸€é¡µåï¼ŒJS æ¸²æŸ“éœ€è¦æ—¶é—´ï¼Œé¡µé¢å¯èƒ½è¿˜åœ¨åŠ è½½ï¼Œè¿™æ—¶å€™ browser.find_elements() ä¼šæŠ¥é”™ StaleElementReferenceExceptionã€‚ä¸€ä¸ªé€‰æ‹©æ˜¯åœ¨æ¯æ¬¡è§£ææ•°æ®å‰åšä¸€ä¸ªåˆ¤æ–­ï¼Œåˆ¤æ–­æ‰€éœ€æ•°æ®æ˜¯å¦å·²ç»åŠ è½½å‡ºæ¥äº†ã€‚è€Œç”±äºç½‘ç«™æ²¡æœ‰åçˆ¬æªæ–½ï¼Œå¦ä¸€ä¸ªé€‰æ‹©æ˜¯æš´åŠ›å¾ªç¯ï¼Œç›´åˆ°é¡µé¢åŠ è½½å‡ºæ¥ã€‚\n\ndef parse_data(page):\n    while True:\n        try:\n            # use CSS selectors to locate the data\n            lft_list = [\n                element.text for element in browser.find_elements(\n                    By.CSS_SELECTOR, '#lft-name-list i'\n                )\n            ]\n            esg_score = [\n                element.text for element in browser.find_elements(\n                    By.CSS_SELECTOR, 'div[data-key=\"esg_score\"] li'\n                )\n            ]\n            env_score = [\n                element.text for element in browser.find_elements(\n                    By.CSS_SELECTOR, 'div[data-key=\"env_score\"] li'\n                )\n            ]\n            social_score = [\n                element.text for element in browser.find_elements(\n                    By.CSS_SELECTOR, 'div[data-key=\"social_score\"] li'\n                )\n            ]\n            governance_score = [\n                element.text for element in browser.find_elements(\n                    By.CSS_SELECTOR, 'div[data-key=\"governance_score\"] li'\n                )\n            ]\n\n            data_dic = {\n                    \"lft_list\" : lft_list,\n                    \"esg_score\" : esg_score,\n                    \"env_score\" : env_score,\n                    \"social_score\" : social_score,\n                    \"governance_score\" : governance_score,\n            }\n            \n            if page &lt; 510:\n            # locate the next page button and click\n                button = browser.find_element(By.CSS_SELECTOR, '.pages-rt')\n                button.click()\n            else:\n                pass\n        except Exception as e:\n            # waiting 0.2s for page refresh if the Exception is StaleElementReferenceException,\n            if isinstance(e, StaleElementReferenceException):\n                time.sleep(0.2)\n            else:\n                logging.warning(e)\n                break\n        else:\n            break\n    \n    return data_dic  \n\n\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(asctime)s - %(levelname)s: %(message)s'\n)\n\n# basic settings for headless browser and anti-detection\noption = ChromeOptions()\noption.add_argument('--headless')\noption.add_experimental_option('excludeSwitches', ['enable-automation'])\noption.add_experimental_option('useAutomationExtension', False)\n\nbrowser = webdriver.Chrome(options=option)\nbrowser.execute_cdp_cmd(\n    'Page.addScriptToEvaluateOnNewDocument', {\n    'source': 'Object.defineProperty(navigator, \"webdriver\", {get: () =&gt; undefined})'\n})\n\n{'identifier': '2'}\n\n\n\nwait = WebDriverWait(browser, 5)\nres = []\n\ntry:\n    browser.get('https://finance.sina.com.cn/esg/grade.shtml')\n    wait.until(\n        EC.visibility_of_all_elements_located((By.CSS_SELECTOR, '.lft-bodylist'))\n    )\nexcept Exception as e:\n    logging.warning(e)\n    \nfor page in tqdm(range(1, 511)):\n    data_dic = parse_data(page)\n    res.append(data_dic)\nelse:\n    browser.close()\n    browser.quit()\n\n2023-01-14 20:13:53,283 - WARNING: Message: \n\n100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 510/510 [14:00&lt;00:00,  1.65s/it]\n\n\n\nESG = pd.DataFrame(\n    columns=['lft_list', 'esg_score', 'env_score', 'social_score', 'governance_score']\n)\nfor data_df in [pd.DataFrame(data_dic) for data_dic in res]:\n    ESG = ESG.append(data_df)\n\n\nESG.head(5).append(ESG.tail(5))\n\n\n\n\n\n\n\n\nlft_list\nesg_score\nenv_score\nsocial_score\ngovernance_score\n\n\n\n\n0\né…’é¬¼é…’\n15.3(D)\n3.4(D-)\n10.3(D)\n38.9(C)\n\n\n1\nè€æ–¯ç³»ç»Ÿ\n61.4(B)\n38.9(C)\n60.2(B)\n69.3(B+)\n\n\n2\nSunCoke Energy\n60.6(B)\n68.9(B+)\n56.6(B-)\n55.1(B-)\n\n\n3\næ™®å°”æ–¯ç›ç‰¹\n31.5(C-)\n8.9(D)\n40.8(C)\n41.6(C)\n\n\n4\næ–°åŸå‘å±•\n53.3(B-)\n30.3(C-)\n43.6(C+)\n86.1(A)\n\n\n6\nåèƒ½å›½é™…ç”µåŠ›è‚¡ä»½\n51.1(B-)\n61.2(B)\n41.1(C)\n46.7(C+)\n\n\n7\nå®‰å¾½çš–é€šé«˜é€Ÿå…¬è·¯\n44.7(C+)\n51.2(B-)\n41.1(C)\n43.4(C+)\n\n\n8\næ°‘ç”Ÿé“¶è¡Œ\n47.4(C+)\n37.0(C)\n71.4(B+)\n18.3(D+)\n\n\n9\nä¸­è¿œæµ·èƒ½\n57.1(B-)\n61.1(B)\n38.7(C)\n78.8(A-)\n\n\n0\nä¸­å›½çŸ³æ²¹åŒ–å·¥è‚¡ä»½\n58.8(B)\n69.9(B+)\n50.3(B-)\n57.9(B-)\n\n\n\n\n\n\n\n\nESG.to_csv('ESG.csv', index=False)"
  },
  {
    "objectID": "posts/2023-12-23-Numpyä¸­çš„randomè¯¦è§£/index.html",
    "href": "posts/2023-12-23-Numpyä¸­çš„randomè¯¦è§£/index.html",
    "title": "Numpyä¸­çš„randomæ¨¡å—è¯¦è§£",
    "section": "",
    "text": "In a sense, there is no such things as a random number. For example, is 2 a random number? Rather, we speak of a sequence of independent random numbers with a specified distribution. -Donald Knuth\nç¼–å†™ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šç”¨åˆ°éšæœºæ•°ï¼Œæ¯”å¦‚çˆ¬è™«æ—¶éšæœº Sleepã€éšæœºä» UA æ± ä¸­é€‰æ‹© UAã€æ¨¡æ‹Ÿæ·è‰²å­ç­‰ç­‰ã€‚é‚£ä¹ˆè®¡ç®—æœºå¦‚ä½•ç”Ÿæˆéšæœºæ•°å‘¢ï¼Ÿ\nä¸€ç§æ–¹å¼æ˜¯é€šè¿‡æ¥å—å¤–éƒ¨è¾“å…¥ï¼Œç»§æ‰¿å¤–éƒ¨çš„éšæœºæ€§ï¼Œæ¯”å¦‚ç›–é©è®¡æ•°å™¨ã€‚è¿™ç§æ–¹å¼å­˜åœ¨ä¸€äº›ç¼ºç‚¹ã€‚é¦–å…ˆæ˜¯éœ€è¦å¤–éƒ¨ç¡¬ä»¶è®¾å¤‡ï¼Œå…¶æ¬¡æ”¶é›†åˆ†æå¤–éƒ¨æ•°æ®å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œæœ€å…³é”®çš„æ˜¯éšæœºæ•°å¤§æ¦‚ç‡æ— æ³•å¤ç°ï¼Œè¿™å¯¹äºç¨‹åºè°ƒè¯•æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ã€‚\nç¬¬äºŒç§æ–¹å¼æ˜¯ä½¿ç”¨ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼ˆPRNGï¼‰ç®—æ³•ã€‚æ¯”å¦‚ Python çš„ random æ¨¡å—ä½¿ç”¨é©¬ç‰¹å¡ç‰¹æ—‹è½¬ç®—æ³•ï¼ˆMersenne Twisterï¼‰ç”Ÿæˆéšæœºæ•°ã€‚é©¬ç‰¹å¡ç‰¹æ—‹è½¬ç®—æ³•åŸºäºçº¿æ€§åŒä½™ç”Ÿæˆå™¨ï¼Œè¢«å¹¿æ³›ä½¿ç”¨åœ¨å„ç±»éšæœºæ•°ç”Ÿæˆå™¨ä¸­ï¼Œä½†è¯¥ç®—æ³•æœ‰ä¸€ä¸ªç¡®å®šçš„å‘¨æœŸï¼Œå¹¶ä¸”éœ€è¦å¤§é‡çš„è®¡ç®—èµ„æºã€‚å› æ­¤è‡ªç‰ˆæœ¬ 1.17 ä»¥æ¥ï¼ŒNumPy ä½¿ç”¨æ›´é«˜æ•ˆçš„ç½®æ¢åŒä½™ç”Ÿæˆå™¨-64ï¼ˆPCG64ï¼‰ç®—æ³•ã€‚PCG64 ç®—æ³•çš„å‘¨æœŸæ€§æ›´é•¿ï¼Œäº§ç”Ÿçš„æ•°å­—æ›´éš¾ä»¥é¢„æµ‹ï¼Œç”Ÿæˆé€Ÿåº¦æ›´å¿«ä¸”éœ€è¦æ›´å°‘çš„èµ„æºã€‚"
  },
  {
    "objectID": "posts/2023-12-23-Numpyä¸­çš„randomè¯¦è§£/index.html#simple-random-data",
    "href": "posts/2023-12-23-Numpyä¸­çš„randomè¯¦è§£/index.html#simple-random-data",
    "title": "Numpyä¸­çš„randomæ¨¡å—è¯¦è§£",
    "section": "Simple random data",
    "text": "Simple random data\n\nrandom\nrandom.Generator.random(size=None, dtype=np.float64, out=None)\nåˆ›å»ºä¸€ä¸ªç»™å®šå½¢çŠ¶çš„æ•°ç»„ï¼Œå¹¶ç”¨ [0,1) å‡åŒ€åˆ†å¸ƒçš„éšæœºæ ·æœ¬å¡«å……å®ƒã€‚\n\nrng.random()\n\n0.22733602246716966\n\n\n\nrng.random((3, 4))\n\narray([[0.31675834, 0.79736546, 0.67625467, 0.39110955],\n       [0.33281393, 0.59830875, 0.18673419, 0.67275604],\n       [0.94180287, 0.24824571, 0.94888115, 0.66723745]])\n\n\n\n\nintegers\nrandom.Generator.integers(low, high=None, size=None, dtype=np.int64, endpoint=False)\nåˆ›å»ºä¸€ä¸ªç»™å®šå½¢çŠ¶çš„æ•°ç»„ï¼Œå¹¶ç”¨ä» lowï¼ˆåŒ…å«ï¼‰åˆ° highï¼ˆä¸åŒ…å«ï¼‰ä¹‹é—´â€œç¦»æ•£å‡åˆ†â€åˆ†å¸ƒçš„éšæœºæ•´æ•°å¡«å……å®ƒï¼›å¦‚æœ endpoint=Trueï¼Œåˆ™ç”¨ä» lowï¼ˆåŒ…å«ï¼‰åˆ° highï¼ˆåŒ…å«ï¼‰ä¹‹é—´çš„éšæœºæ•´æ•°è¿›è¡Œå¡«å……ã€‚\n\nrng.integers(low=2, high=10, size=(3, 4))\n\narray([[3, 2, 4, 5],\n       [2, 9, 5, 7],\n       [3, 4, 2, 7]])\n\n\nå¦‚æœ high ä¸º Noneï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œåˆ™ç»“æœèŒƒå›´ä» 0 åˆ° lowã€‚\n\nrng.integers(5)\n\n3\n\n\n\n\nchoice\nrandom.Generator.choice(a, size=None, replace=True, p=None, axis=0, shuffle=True)\nä»ç»™å®šæ•°ç»„ä¸­ç”Ÿæˆä¸€ä¸ªéšæœºæ ·æœ¬ã€‚å¦‚æœ a æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œåˆ™ä» np.arange(a) ç”Ÿæˆæ ·æœ¬ã€‚\n\nrng.choice(5, 3)\n\narray([1, 3, 0])\n\n\nå¦‚æœ a æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåˆ™é»˜è®¤ä» a å‡åŒ€éšæœºé‡‡æ ·ã€‚\n\na = rng.integers(low=2, high=20, size=10)\nprint(a)\nrng.choice(a, size=(2, 5))\n\n[ 9  4 15  8 10 10 10  6 12 16]\n\n\narray([[10,  4,  9,  4,  9],\n       [ 9,  4, 10, 12, 12]])\n\n\nä¹Ÿå¯ä»¥ä½¿ç”¨å‚æ•° p ä¸ºé‡‡æ ·æ•°ç»„ä¸­çš„æ¯ä¸ªæ ·æœ¬ç¡®å®šé‡‡æ ·æ¦‚ç‡ã€‚\n\na = rng.integers(low=2, high=20, size=10)\np = a / sum(a)  # æ³¨æ„ p ä¸ºä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œæ»¡è¶³å½’ä¸€åŒ–åŸç†\nprint(a)\nprint(p)\nrng.choice(a, size=(2, 4), p=p)\n\n[13 12  7 18 13 15 15 17 14 18]\n[0.0915493  0.08450704 0.04929577 0.12676056 0.0915493  0.1056338\n 0.1056338  0.11971831 0.09859155 0.12676056]\n\n\narray([[15, 18, 15, 18],\n       [15, 17, 18, 18]])\n\n\nå¦‚æœé‡‡æ ·æ•°ç»„ a çš„ç»´æ•°è¶…è¿‡äº† 1ï¼Œé‚£ä¹ˆ size å‚æ•°å°†ä¼šæ²¿è½´ 0 æ’å…¥ã€‚æ¯”å¦‚ a.shape=(2,5)ï¼Œsize=(3,4)ï¼Œåˆ™é‡‡æ ·ç”Ÿæˆçš„æ•°ç»„ b.shape=(3,4,5)ã€‚\n\na = rng.integers(low=2, high=20, size=(2, 5))\nb = rng.choice(a, size=(3, 4))\nprint(b)  # b.shape=(3,4,5)\n\n[[[10  6  7  8 13]\n  [ 6 17  8  3  2]\n  [10  6  7  8 13]\n  [10  6  7  8 13]]\n\n [[ 6 17  8  3  2]\n  [10  6  7  8 13]\n  [ 6 17  8  3  2]\n  [ 6 17  8  3  2]]\n\n [[10  6  7  8 13]\n  [10  6  7  8 13]\n  [10  6  7  8 13]\n  [10  6  7  8 13]]]"
  },
  {
    "objectID": "posts/2023-12-23-Numpyä¸­çš„randomè¯¦è§£/index.html#permutations",
    "href": "posts/2023-12-23-Numpyä¸­çš„randomè¯¦è§£/index.html#permutations",
    "title": "Numpyä¸­çš„randomæ¨¡å—è¯¦è§£",
    "section": "Permutations",
    "text": "Permutations\n\nshuffle\nrandom.Generator.shuffle(x, axis=0)\nå¯¹æ‰€ç»™æ•°ç»„è¿›è¡Œé‡æ–°æ’åˆ—ï¼ˆinplaceï¼‰ã€‚\n\nx = np.arange(10)\nprint(x)\nrng.shuffle(x)\nprint(x)\n\n[0 1 2 3 4 5 6 7 8 9]\n[6 2 7 4 0 5 8 9 3 1]\n\n\nå¯ä»¥åˆ©ç”¨ axis å‚æ•°æŒ‡å®šæ²¿ç€å“ªä¸ªè½´éšæœºæ’åˆ—ï¼Œaxis=1 è¡¨ç¤ºæ¯åˆ—ä½œä¸ºä¸€ä¸ªæ•´ä½“éšæœºæ’åˆ—ã€‚\n\nx = np.arange(12).reshape((3, 4))\nprint(x)\nrng.shuffle(x, axis=1)\nprint(x)\n\n[[ 0  1  2  3]\n [ 4  5  6  7]\n [ 8  9 10 11]]\n[[ 1  2  0  3]\n [ 5  6  4  7]\n [ 9 10  8 11]]\n\n\n\n\npermutation\nrandom.Generator.permutation(x, axis=0)\nå¦‚æœå‚æ•° x æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œåˆ™éšæœºæ’åˆ— np.arange(x)ï¼š\n\nrng.permutation(10)\n\narray([0, 1, 5, 9, 6, 7, 8, 3, 4, 2])\n\n\nå¦‚æœå‚æ•° x æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…ˆåšä¸€ä»½æ‹·è´ï¼Œç„¶åéšæœºæ‰“ä¹±å…ƒç´ çš„é¡ºåºï¼š\n\nx = np.arange(12).reshape((3, 4))\nprint(x)\nrng.permutation(x)\n\n[[ 0  1  2  3]\n [ 4  5  6  7]\n [ 8  9 10 11]]\n\n\narray([[ 0,  1,  2,  3],\n       [ 8,  9, 10, 11],\n       [ 4,  5,  6,  7]])\n\n\n\n\npermuted\nrandom.Generator.permuted(x, axis=None, out=None)\næ²¿ç€æŒ‡å®šçš„è½´ï¼ˆaxisï¼‰éšæœºæ’åˆ—æ•°ç»„ xï¼š\n\nx = np.arange(12).reshape((3, 4))\nrng.permuted(x)\n\narray([[ 3,  0,  8,  7],\n       [ 1,  2, 11,  6],\n       [ 9,  5, 10,  4]])\n\n\nä½¿ç”¨ out å‚æ•°åŸåœ°æ’åˆ—ï¼š\n\nx = np.arange(12).reshape((3, 4))\nrng.permuted(x, out=x)\nx\n\narray([[ 5, 10,  3,  6],\n       [ 8,  0,  2,  9],\n       [11,  1,  4,  7]])\n\n\nä½¿ç”¨ axis=1 å‚æ•°å¯ä»¥å¯¹æ¯è¡Œå†…çš„å€¼ï¼ˆå³æ²¿ç€ axis=1 çš„å€¼ï¼‰ç‹¬ç«‹åœ°è¿›è¡Œæ’åˆ—ã€‚\n\nx = np.arange(12).reshape((3, 4))\nrng.permuted(x, axis=1)\n\narray([[ 3,  1,  0,  2],\n       [ 6,  5,  7,  4],\n       [10,  9, 11,  8]])"
  },
  {
    "objectID": "posts/2023-12-23-Numpyä¸­çš„randomè¯¦è§£/index.html#æ¦‚ç‡åˆ†å¸ƒ",
    "href": "posts/2023-12-23-Numpyä¸­çš„randomè¯¦è§£/index.html#æ¦‚ç‡åˆ†å¸ƒ",
    "title": "Numpyä¸­çš„randomæ¨¡å—è¯¦è§£",
    "section": "æ¦‚ç‡åˆ†å¸ƒ",
    "text": "æ¦‚ç‡åˆ†å¸ƒ\n\nå‡åŒ€åˆ†å¸ƒ\nrandom.Generator.uniform(low=0.0, high=1.0, size=None)\n\nrng.uniform(-2, 3, size=(3, 4))\n\narray([[-1.95143936, -0.94978521,  2.35000339,  2.86414901],\n       [ 0.20896172, -0.10625253, -0.62026459,  2.83052055],\n       [-1.70898697,  0.04366949, -1.15685578, -0.79927971]])\n\n\n\ndef my_plotter(ax, data1, bins, param_dict):\n    \"\"\"\n    A helper function to make a graph.\n    \"\"\"\n    n, bins, patches = ax.hist(data1, bins=bins, density=True, **param_dict)\n    return n, bins, patches\n\n\nfig, ax = plt.subplots(figsize=(16, 8), layout=\"constrained\")\n\nres = my_plotter(\n    ax,\n    rng.uniform(0, 1, size=500),\n    20,\n    {\"color\": \"darkgreen\", \"edgecolor\": \"black\", \"alpha\": 0.5},\n)\n\n\n\n\n\n\n\n\n\n\näºŒé¡¹åˆ†å¸ƒ\nrandom.Generator.binomial(n, p, size=None)\n\nrng.binomial(10, 0.5, 20)\n\narray([6, 4, 5, 4, 5, 4, 4, 4, 3, 5, 7, 8, 2, 7, 3, 6, 7, 3, 4, 5])\n\n\n\nrng.binomial(10, 0.5, (4, 5))\n\narray([[4, 5, 1, 5, 7],\n       [3, 5, 5, 6, 8],\n       [6, 4, 6, 4, 6],\n       [6, 8, 7, 2, 4]])\n\n\n\nfig, ax = plt.subplots(figsize=(16, 8), layout=\"constrained\")\n\nres = my_plotter(\n    ax,\n    rng.binomial(10, 0.5, 500),\n    20,\n    {\"color\": \"darkgreen\", \"edgecolor\": \"black\", \"alpha\": 0.5},\n)\n\n\n\n\n\n\n\n\n\n\nå‡ ä½•åˆ†å¸ƒ\nrandom.Generator.geometric(p, size=None)\n\nrng.geometric(0.1, 10)\n\narray([14,  4,  2,  1,  4,  1,  5,  4,  5,  2])\n\n\n\nfig, ax = plt.subplots(figsize=(16, 8), layout=\"constrained\")\n\nres = my_plotter(\n    ax,\n    rng.geometric(0.1, 500),\n    50,\n    {\"color\": \"darkgreen\", \"edgecolor\": \"black\", \"alpha\": 0.5},\n)\n\n\n\n\n\n\n\n\n\n\næŒ‡æ•°åˆ†å¸ƒ\nrandom.Generator.exponential(scale=1.0, size=None)\n\nf(x,\\frac{1}{\\beta}) = \\frac{1}{\\beta}e^{(-\\frac{1}{\\beta}x)}, x&gt;0\n\nå‚æ•° scale å³ä¸ºå…¬å¼ä¸­çš„ \\beta\n\nrng.exponential(scale=0.5, size=10)\n\narray([0.32826208, 0.43356883, 0.1341275 , 0.0653662 , 0.21884868,\n       1.17264919, 2.10547225, 1.45651444, 0.80815348, 0.55032455])\n\n\n\nfig, ax = plt.subplots(figsize=(16, 8), layout=\"constrained\")\n\nres = my_plotter(\n    ax,\n    rng.exponential(scale=0.5, size=500),\n    50,\n    {\"color\": \"darkgreen\", \"edgecolor\": \"black\", \"alpha\": 0.5},\n)\n\n\n\n\n\n\n\n\n\n\næ­£æ€åˆ†å¸ƒ\nrandom.Generator.normal(loc=0.0, scale=1.0, size=None)\n\nf(X)= \\frac{1}{\\sqrt{2\\pi}\\sigma}e^{-\\frac{(x-\\mu)^2}{2\\sigma^2}}\n\nå‚æ•° loc å’Œ scale åˆ†åˆ«ä¸ºå…¬å¼ä¸­çš„ \\mu å’Œ \\sigma\n\nrng.normal(0, 1, 20)\n\narray([ 0.37405335, -0.02459374,  0.07726066, -0.68391322, -0.72083767,\n        1.12062282, -0.05481416, -0.08241372,  0.9359865 ,  1.23853712,\n        1.27279553,  0.40589222, -0.05032522,  0.28931754,  0.17930568,\n        1.39748056,  0.29204679,  0.63840567, -0.02788771,  1.37105185])\n\n\nnumpy æä¾›äº† standard_nomal å‡½æ•°æ–¹ä¾¿å¿«é€Ÿç”Ÿæˆæ ‡å‡†æ­£æ€åˆ†å¸ƒæ ·æœ¬ï¼š\n\nrng.standard_normal(20)\n\narray([-2.05280763,  0.38050908,  0.75539067, -1.15912585,  2.15031011,\n       -0.15027022, -0.16116428, -1.07944248,  0.87796618,  0.22446741,\n       -0.59159345,  0.2262628 ,  0.68618251,  1.21500461,  0.21605944,\n       -0.96482356, -0.5566078 , -2.29838764, -0.73208213,  0.7364691 ])\n\n\n\nfig, ax = plt.subplots(figsize=(16, 8), layout=\"constrained\")\n\nres = my_plotter(\n    ax,\n    rng.standard_normal(500),\n    50,\n    {\"color\": \"darkgreen\", \"edgecolor\": \"black\", \"alpha\": 0.5},\n)\n\n\n\n\n\n\n\n\n\n\næ³Šæ¾åˆ†å¸ƒ\nrandom.Generator.poisson(lam=1.0, size=None)\n\nf(k, \\lambda) = \\frac{\\lambda^k e^{-\\lambda}}{k!}\n\n\nrng.poisson(1.2, 20)\n\narray([0, 2, 0, 1, 1, 0, 2, 1, 2, 4, 1, 1, 2, 0, 5, 1, 0, 1, 1, 1])\n\n\n\nfig, ax = plt.subplots(figsize=(16, 8), layout=\"constrained\")\n\nres = my_plotter(\n    ax,\n    rng.poisson(1.2, 500),\n    50,\n    {\"color\": \"darkgreen\", \"edgecolor\": \"black\", \"alpha\": 0.5},\n)\n\n\n\n\n\n\n\n\n\n\nä¼½é©¬åˆ†å¸ƒ"
  },
  {
    "objectID": "posts/2023-12-29-ç‹¬ç«‹å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³/index.html",
    "href": "posts/2023-12-29-ç‹¬ç«‹å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³/index.html",
    "title": "ç‹¬ç«‹ã€å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³",
    "section": "",
    "text": "ä¸¤ä¸ªéšæœºå˜é‡ x å’Œ yï¼Œæ»¡è¶³ f(x) \\times f(y) = f(x,y)ï¼Œåˆ™ç§°éšæœºå˜é‡ x å’Œ y ç‹¬ç«‹ã€‚ä»å›¾åƒä¸Šæ¥ç†è§£ï¼Œå°±æ˜¯å¯¹ä»»æ„çš„ xï¼Œf_{Y|X}(y|x) éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥ x ä¸ä¼šå¸¦æ¥ä»»ä½•æ–°çš„ä¿¡æ¯ã€‚\n\n\n\nç‹¬ç«‹"
  },
  {
    "objectID": "posts/2023-12-29-ç‹¬ç«‹å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³/index.html#å¼•ç†-1è¿­ä»£æœŸæœ›æ³•åˆ™",
    "href": "posts/2023-12-29-ç‹¬ç«‹å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³/index.html#å¼•ç†-1è¿­ä»£æœŸæœ›æ³•åˆ™",
    "title": "ç‹¬ç«‹ã€å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³",
    "section": "å¼•ç† 1ï¼šè¿­ä»£æœŸæœ›æ³•åˆ™",
    "text": "å¼•ç† 1ï¼šè¿­ä»£æœŸæœ›æ³•åˆ™\n\nE[Y] = E[E[Y|X]]\n\nè¯æ˜ï¼š\n\n\\begin{split}\nE[E[Y|X]] &= \\int{\\int{y f_{Y|X}(y|x)dy}f_X(x)dx} \\\\\n&= \\int{\\int{y \\frac{f_{X,Y}(x,y)}{f_{X}(x)} dy}f_X(x)dx} \\\\\n&= \\int{\\int{y f_{X,Y}(x,y)dy}dx} \\\\\n&= \\int{\\int{f_{X,Y}(x,y)dx}ydy} \\\\\n&= \\int{y f_{Y}(y)dy} \\\\\n&= E[Y]\n\\end{split}"
  },
  {
    "objectID": "posts/2023-12-29-ç‹¬ç«‹å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³/index.html#å¼•ç†-2åæ–¹å·®ä¸æ¡ä»¶æœŸæœ›æ³•åˆ™",
    "href": "posts/2023-12-29-ç‹¬ç«‹å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³/index.html#å¼•ç†-2åæ–¹å·®ä¸æ¡ä»¶æœŸæœ›æ³•åˆ™",
    "title": "ç‹¬ç«‹ã€å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³",
    "section": "å¼•ç† 2ï¼šåæ–¹å·®ä¸æ¡ä»¶æœŸæœ›æ³•åˆ™",
    "text": "å¼•ç† 2ï¼šåæ–¹å·®ä¸æ¡ä»¶æœŸæœ›æ³•åˆ™\n\nCov[X,Y] = Cov[X, E[Y|X]]\n\nè¯æ˜ï¼š\n\n\\begin{split}\nCov[X, E[Y|X]] &= E[XE[Y|X]] - E[X]E[E[Y|X]] \\\\\n&= \\int{xf_{X}(x) \\int{yf_{Y|X}(y|x)dy}dx} - E[X]E[Y] \\\\\n&= \\int{xf_{X}(x) \\int{y \\frac{f_{X,Y}(x,y)}{f_{X}(x)}dy}dx} - E[X]E[Y] \\\\\n&= \\int{\\int{xy f_{X,Y}(x,y)dy}dx} - E[X]E[Y] \\\\\n&= E[XY] - E[X]E[Y] \\\\\n&= Cov[X,Y]\n\\end{split}"
  },
  {
    "objectID": "posts/2023-12-29-ç‹¬ç«‹å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³/index.html#ç”±å‡å€¼ç‹¬ç«‹æ¨å‡ºçº¿æ€§ä¸ç›¸å…³",
    "href": "posts/2023-12-29-ç‹¬ç«‹å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³/index.html#ç”±å‡å€¼ç‹¬ç«‹æ¨å‡ºçº¿æ€§ä¸ç›¸å…³",
    "title": "ç‹¬ç«‹ã€å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³",
    "section": "ç”±å‡å€¼ç‹¬ç«‹æ¨å‡ºçº¿æ€§ä¸ç›¸å…³",
    "text": "ç”±å‡å€¼ç‹¬ç«‹æ¨å‡ºçº¿æ€§ä¸ç›¸å…³\n\n\\begin{split}\nCov(X,Y) &= E[XY] - E[X]E[Y] \\\\\n&= E[E[XY|X]] - E[X]E[Y] \\\\\n&= E[XE[Y|X]] - E[X]E[Y] \\\\\n&= E[XE[Y]] - E[X]E[Y] \\\\\n&= E[X]E[Y] - E[X]E[Y] \\\\\n&= 0\n\\end{split}"
  },
  {
    "objectID": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html",
    "href": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html",
    "title": "Matplotlibç»˜å›¾å·¥ä½œæµ",
    "section": "",
    "text": "æ—¥å¸¸å·¥ä½œä¸­ç»å¸¸è¦ç”¨åˆ° matplotlib æ¥ç»˜å›¾ï¼Œæ¯æ¬¡ç»˜å›¾ç¢°åˆ°ä¸€äº›ç»†èŠ‚é—®é¢˜éƒ½å¾—è°·æ­Œï¼Œä¸‹æ¬¡é‡åˆ°ç»§ç»­è°·æ­Œ :) ä¸çŸ¥é“ä½ æ˜¯å¦è·Ÿæˆ‘ä¸€æ ·ã€‚ä¸€æ–¹é¢æ˜¯è‡ªå·±å¤ªæ‡’äº†ï¼Œæ²¡æ€»ç»“ï¼›å¦ä¸€æ–¹é¢ï¼Œæ˜¯ matplotlib å®ç°åŒä¸€ä¸ªç›®æ ‡çš„æ–¹å¼å¤ªå¤šäº†ã€‚\næ¯”å¦‚è®¾ç½®å›¾ç‰‡æ ‡é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ plt.title()ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ ax.set_title()ã€‚å‡ºç°è¿™ç§æƒ…å†µçš„åŸå› æ˜¯ matplotlib æä¾›äº†ä¸¤å¥—æ¥å£æ¥å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼šä¸€å¥—æ˜¯ç±» MATLAB å·¥ä½œé£æ ¼çš„æ¥å£ï¼ˆæ–¹ä¾¿ MATLAB å…šä¸æ»‘è¿ç§»è¿‡æ¥ï¼‰ï¼Œä¸€å¥—æ˜¯é¢å‘å¯¹è±¡é£æ ¼çš„æ¥å£ï¼ˆé¢å‘ç¨‹åºå‘˜ï¼‰ã€‚è¿™å°±é€ æˆäº†å¾ˆå¤š matplotlib åˆå­¦è€…ä¸¤ç§é£æ ¼ä»£ç æ··ç”¨çš„æƒ…å†µï¼Œæ¯”å¦‚æˆ‘ :)\nè¿™ç¯‡æ–‡ç« çš„ä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š"
  },
  {
    "objectID": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html#åæ ‡è½´",
    "href": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html#åæ ‡è½´",
    "title": "Matplotlibç»˜å›¾å·¥ä½œæµ",
    "section": "åæ ‡è½´",
    "text": "åæ ‡è½´\nmatplotlib çš„ Axes æ˜¯ç»˜å›¾çš„å…¥å£ã€‚ä¸€æ—¦åœ¨å›¾ä¸Šæ”¾ç½®äº†ä¸€ä¸ª Axesï¼Œå°±å¯ä»¥ä½¿ç”¨è®¸å¤šæ–¹æ³•å‘Axes æ·»åŠ æ•°æ®ã€‚ä¸€ä¸ª Axes é€šå¸¸å…·æœ‰ä¸€å¯¹ Axis Artistsï¼Œå®ƒä»¬å®šä¹‰äº†æ•°æ®åæ ‡ç³»ï¼Œå¹¶åŒ…æ‹¬æ·»åŠ æ³¨é‡Šï¼ˆå¦‚ x è½´å’Œ y è½´æ ‡ç­¾ã€æ ‡é¢˜å’Œå›¾ä¾‹ï¼‰çš„æ–¹æ³•ã€‚\n\nfig, ax = plt.subplots(figsize=(16, 8), layout='constrained')\nnp.random.seed(19680801)\nt = np.arange(200)\nx = np.cumsum(np.random.randn(200))\ny = np.cumsum(np.random.randn(200))\n\nlinesx = ax.plot(t, x, label='Random walk x')\nlinesy = ax.plot(t, y, label='Random walk y')\n\n# è®¾ç½® x è½´æ ‡ç­¾\nax.set_xlabel('Time [s]')\n# è®¾ç½® y è½´æ ‡ç­¾\nax.set_ylabel('Distance [km]')\n# è®¾ç½®æ ‡é¢˜\nax.set_title('Random walk example')\nax.legend()\nplt.show()\n\n\n\n\n\n\n\n\nä¹Ÿå¯ä»¥ä½¿ç”¨ set_xlim å’Œ set_ylim æ–¹æ³•è®¾ç½®åæ ‡è½´çš„èŒƒå›´ï¼Œå¯ä»¥ä½¿ç”¨ set_xscale å’Œ set_yscale è®¾ç½®åæ ‡è½´çš„æ¯”ä¾‹å°ºåº¦ã€‚\n\nfig, ax = plt.subplots(figsize=(16, 8), layout='constrained')\nnp.random.seed(19680801)\nt = np.arange(200)\nx = 2**np.cumsum(np.random.randn(200))\nlinesx = ax.plot(t, x)\nax.set_yscale('log')\nax.set_xlim([20, 180])\nplt.show()\n\n\n\n\n\n\n\n\nAxes ç±»è¿˜æä¾›äº†å¤„ç†åæ ‡è½´åˆ»åº¦åŠå…¶æ ‡ç­¾çš„è¾…åŠ©æ–¹æ³•ã€‚å…¶ä¸­æœ€ç›´æ¥çš„æ˜¯ set_xticks å’Œ set_yticksï¼Œå®ƒä»¬å¯ä»¥æ‰‹åŠ¨è®¾ç½®åˆ»åº¦çš„ä½ç½®ï¼Œä»¥åŠå¯é€‰åœ°è®¾ç½®å®ƒä»¬çš„æ ‡ç­¾ã€‚å¯ä»¥ä½¿ç”¨minorticks_on æˆ– minorticks_off æ¥åˆ‡æ¢æ¬¡è¦åˆ»åº¦ã€‚\n\nfig, ax = plt.subplots(figsize=(16,8), layout='constrained')\n\nxx = np.arange(0, 2*np.pi, 0.01)\nax.plot(xx, np.sin(xx))\n\nax2 = ax.twinx() \n\n# è®¾ç½®åˆ»åº¦å’Œæ ‡ç­¾\nax2.set_yticks([0., .5*np.pi, np.pi, 1.5*np.pi, 2*np.pi],\n               labels=[\"$0$\", r\"$\\frac{1}{2}\\pi$\",\n                       r\"$\\pi$\", r\"$\\frac{3}{2}\\pi$\", r\"$2\\pi$\"])\n# å¼€å¯æ¬¡è¦åˆ»åº¦\nplt.minorticks_on()\nplt.show()\n\n\n\n\n\n\n\n\nä¹Ÿå¯ä»¥ä½¿ç”¨ tick_params è°ƒæ•´ Axes åˆ»åº¦å’Œåˆ»åº¦æ ‡ç­¾ï¼š\n\nfig, ax = plt.subplots(figsize=(16, 8))\nax.plot(np.arange(10))\nax.tick_params(top=True, labeltop=True, color='red', axis='x',\n               labelcolor='green')"
  },
  {
    "objectID": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html#çº¿",
    "href": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html#çº¿",
    "title": "Matplotlibç»˜å›¾å·¥ä½œæµ",
    "section": "çº¿",
    "text": "çº¿\nmatplotlib ä¸­çš„çº¿æ˜¯ä¸€ä¸ª line2D å¯¹è±¡ï¼Œå®ƒæœ‰å¾ˆå¤šå±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹å±æ€§è¿›è¡Œä¿®æ”¹å®ç°å¯¹çº¿çš„ç¾åŒ–å’Œå®šåˆ¶ã€‚è¿™é‡Œï¼Œåˆ—å‡ºä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„å±æ€§ï¼š\n\ncolor æˆ–è€… cï¼šçº¿çš„é¢œè‰²ï¼›\nalphaï¼šé€æ˜åº¦ï¼›\nlinewidthï¼šçº¿çš„å®½åº¦ï¼›\nlinestyle æˆ–è€… lsï¼›\n\n- æˆ–è€… solidï¼šå®çº¿ï¼›\n-- æˆ–è€… dashedï¼šçŸ­åˆ’çº¿ï¼›\n-. æˆ–è€… dashdotï¼šç‚¹åˆ’çº¿ï¼›\n: æˆ–è€… dottedï¼šç‚¹è™šçº¿ï¼›\n\nmarker æˆ–åˆ™ mï¼š\n\n.ï¼šç‚¹\noï¼šåœ†åœˆ\n^ï¼šä¸Šä¸‰è§’å½¢\n+ï¼šåŠ å·\nxï¼šX\nsï¼šæ­£æ–¹å½¢\n*ï¼šäº”è§’æ˜Ÿ\n\n\nä¸‹é¢ï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­æ¥çœ‹ä¸€ä¸‹å„ç§å±æ€§çš„ä½¿ç”¨ï¼š\n\n# create some toy data\ndata1, data2, data3, data4 = np.random.randn(4, 100)\n\nfig, ax = plt.subplots(figsize=(16,8), dpi=100)\n\nax.plot(np.cumsum(data1), color='black', linewidth='3', linestyle='-', marker='o', alpha=0.5) \nax.plot(np.cumsum(data2), color='red', linestyle='--', marker='^')\nax.plot(np.cumsum(data3), color='green', linestyle='-.', marker='+')\nax.plot(np.cumsum(data4), color='orange', linestyle=':', marker='x')\n\n\n\n\n\n\n\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å¯¹åº”çš„æ–¹æ³•æ¥è®¾ç½®æˆ–è€…ä¿®æ”¹å±æ€§å€¼ã€‚ax.plot() æ–¹æ³•è¿”å›ä¸€ä¸ª line2D å¯¹è±¡åˆ—è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¯¹åº”çš„ line2D å¯¹è±¡ä¸Šè°ƒç”¨æ–¹æ³•ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ set_linestyle() æ–¹æ³•ä¿®æ”¹ linestyle å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ set_marker() æ–¹æ³•ä¿®æ”¹ marker å±æ€§ã€‚\n\nfig, ax = plt.subplots(figsize=(16, 8), dpi=100)\n\nl, = ax.plot(np.cumsum(data1))\nl.set_linestyle('--')\nl.set_marker('x')\n\n\n\n\n\n\n\n\n\ndata1, data2, data3, data4 = np.random.randn(4, 100)\n\n\nfig, ax = plt.subplots(figsize=(16, 8))\nx = np.arange(len(data1))\nax.plot(x, np.cumsum(data1), color='blue', linewidth=3, linestyle='--')\nl= ax.plot(x, np.cumsum(data2), color='orange', linewidth=2, linestyle=':')\n# l.set_linestyle(':')"
  },
  {
    "objectID": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html#æ–‡å­—",
    "href": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html#æ–‡å­—",
    "title": "Matplotlibç»˜å›¾å·¥ä½œæµ",
    "section": "æ–‡å­—",
    "text": "æ–‡å­—\nmatplotlib ä¸­çš„æ–‡å­—æ˜¯ä¸€ä¸ª matplotlib.text.Text å¯¹è±¡ï¼Œåˆ©ç”¨ç›¸å…³çš„å±æ€§æˆ‘ä»¬å¯ä»¥æ§åˆ¶æ–‡å­—æ˜¾ç¤ºçš„æ ·å¼ï¼ŒåŒ…æ‹¬æ–‡å­—ä½ç½®ã€æ˜¾ç¤ºçš„å­—ä½“ã€å­—ä½“å¤§å°ã€é¢œè‰²ç­‰ç­‰ã€‚\n\nalphaï¼šé€æ˜åº¦\nfontfamilyï¼šFONTNAME, â€˜serifâ€™, â€˜sans-serifâ€™, â€˜cursiveâ€™, â€˜fantasyâ€™, â€˜monospaceâ€™\nfontsizeï¼šfloat or â€˜xx-smallâ€™, â€˜x-smallâ€™, â€˜smallâ€™, â€˜mediumâ€™, â€˜largeâ€™, â€˜x-largeâ€™, â€˜xx-largeâ€™\nfontweightï¼ša numeric value in range 0-1000, â€˜ultralightâ€™, â€˜lightâ€™, â€˜normalâ€™, â€˜regularâ€™, â€˜bookâ€™, â€˜mediumâ€™, â€˜romanâ€™, â€˜semiboldâ€™, â€˜demiboldâ€™, â€˜demiâ€™, â€˜boldâ€™, â€˜heavyâ€™, â€˜extra boldâ€™, â€˜blackâ€™\nfontstyleï¼šâ€˜normalâ€™, â€˜italicâ€™, â€˜obliqueâ€™\n\nè¿™é‡Œæ”¾ä¸Šå®˜æ–¹æ–‡æ¡£çš„ä¾‹å­ï¼š\n\nfig = plt.figure(figsize=(16,8))\nax = fig.add_subplot()\nfig.subplots_adjust(top=0.85)\n\n# Set titles for the figure and the subplot respectively\nfig.suptitle('bold figure suptitle', fontsize=14, fontweight='bold')\nax.set_title('axes title')\n\nax.set_xlabel('xlabel')\nax.set_ylabel('ylabel')\n\n# Set both x- and y-axis limits to [0, 10] instead of default [0, 1]\nax.axis([0, 10, 0, 10])\n\nax.text(3, 8, 'boxed italics text in data coords', style='italic',\n        bbox={'facecolor': 'red', 'alpha': 0.5, 'pad': 10})\n\nax.text(2, 6, r'an equation: $E=mc^2$', fontsize=15)\n\nax.text(3, 2, 'Unicode: Institut fÃ¼r FestkÃ¶rperphysik')\n\nax.text(0.95, 0.01, 'colored text in axes coords',\n        verticalalignment='bottom', horizontalalignment='right',\n        transform=ax.transAxes,\n        color='green', fontsize=15)\n\nax.plot([2], [1], 'o')\nax.annotate('annotate', xy=(2, 1), xytext=(3, 4),\n            arrowprops=dict(facecolor='black', shrink=0.05))\n\nplt.show()"
  },
  {
    "objectID": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html#å›¾ä¾‹",
    "href": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html#å›¾ä¾‹",
    "title": "Matplotlibç»˜å›¾å·¥ä½œæµ",
    "section": "å›¾ä¾‹",
    "text": "å›¾ä¾‹\nAxes.legend(*args, **kwargs)\n\ndata1, data2, data3, data4 = np.random.randn(4, 100)\n\nfig, ax = plt.subplots(figsize=(16,8), dpi=100)\n\nax.plot(np.cumsum(data1), color='black', linewidth='3', linestyle='-', marker='o', label='data1') \nax.plot(np.cumsum(data2), color='red', linestyle='--', marker='^', label='data2')\nax.plot(np.cumsum(data3), color='green', linestyle='-.', marker='+', label='data3')\nax.plot(np.cumsum(data4), color='orange', linestyle=':', marker='x', label='data4')\n\nax.legend(loc='best', frameon=False)\nplt.show()"
  },
  {
    "objectID": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html#spines",
    "href": "posts/2021-05-22-matplotlibç»˜å›¾å·¥ä½œæµ/index.html#spines",
    "title": "Matplotlibç»˜å›¾å·¥ä½œæµ",
    "section": "Spines",
    "text": "Spines\n\ndata1, data2, data3, data4 = np.random.randn(4, 100)\n\nfig, ax = plt.subplots(figsize=(16,8), dpi=100)\n\nax.plot(np.cumsum(data1), color='black', linewidth='3', linestyle='-', marker='o', label='data1') \nax.plot(np.cumsum(data2), color='red', linestyle='--', marker='^', label='data2')\nax.plot(np.cumsum(data3), color='green', linestyle='-.', marker='+', label='data3')\nax.plot(np.cumsum(data4), color='orange', linestyle=':', marker='x', label='data4')\n\nax.legend(loc='best', frameon=False)\n\n# Remove the plot frame lines. They are unnecessary chartjunk.\nax.spines[\"top\"].set_visible(False)\nax.spines[\"right\"].set_visible(False)\n\nplt.show()"
  },
  {
    "objectID": "posts/2023-01-05-åœ¨å¾ªç¯ä¸­ä½¿ç”¨elseè¯­å¥/index.html",
    "href": "posts/2023-01-05-åœ¨å¾ªç¯ä¸­ä½¿ç”¨elseè¯­å¥/index.html",
    "title": "åœ¨å¾ªç¯ä¸­ä½¿ç”¨elseè¯­å¥",
    "section": "",
    "text": "for/else å’Œ while/else ä¸­çš„ else è¯­å¥åçš„å†…å®¹ï¼Œåœ¨å¾ªç¯æ­£å¸¸ç»“æŸæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œã€‚æ¢ä¸€å¥è¯è¯´ï¼Œå½“ for å¾ªç¯æˆ–è€… While å¾ªç¯é‡åˆ° break è·³å‡ºå¾ªç¯æ—¶ï¼Œelse è¯­å¥åçš„å†…å®¹åˆ™ä¸æ‰§è¡Œã€‚è¿™ä¸ªç‰¹æ€§å¯ä»¥è®©æŸäº›è¡Œä¸ºå˜å¾—æ›´ä¼˜é›…ï¼Œæ¯”å¦‚æœç´¢è¿‡ç¨‹ã€‚ä¸€èˆ¬æˆ‘ä»¬å¯èƒ½ä¼šåˆ©ç”¨ä¸€ä¸ªæ ‡è¯†å˜é‡ï¼ˆflag varableï¼‰ï¼Œå½“æ¡ä»¶æ»¡è¶³æ—¶ï¼Œæ”¹å˜æ ‡è¯†å˜é‡çš„å€¼ï¼Œç„¶åè·³å‡ºå¾ªç¯ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œåˆ¤æ–­ John æ˜¯ä¸æ˜¯æˆ‘ä»¬çš„é¡¾å®¢ï¼š \n\ncustomers = ['Tom', 'Mike', 'Jeff', 'Tony']\nis_John = False\nfor c in customers:\n    if 'John' in customers:\n        is_John = True\n        break\n    \nif is_John:\n    print('John is our customer.')\nelse:\n    print('John is not our customer.')\n\nJohn is not our customer.\n\n\nåˆ©ç”¨ else è¯­å¥ï¼Œåˆ™ä¸éœ€è¦è®¾ç½®æ ‡è¯†å˜é‡ï¼Œå½“å¾ªç¯æ­£å¸¸ç»“æŸæ—¶ï¼Œåˆ™è¡¨æ˜ John ä¸æ˜¯æˆ‘ä»¬çš„é¡¾å®¢ã€‚\n\ncustomers = ['Tom', 'Mike', 'Jeff', 'Tony']\nfor c in customers:\n    if 'John' in customers:\n        print('John is our customer.')\n        break\nelse:\n    print('John is not our customer.')\n\nJohn is not our customer.\n\n\nåˆ©ç”¨ else è¯­å¥ä¹Ÿå¯ä»¥æ‰§è¡Œä¸€äº›å¿…è¦å†…å®¹ã€‚æ¯”å¦‚ä½¿ç”¨ selenium çˆ¬è™«ç»“æŸåï¼Œæˆ‘ä»¬éœ€è¦ driver.close() å’Œ driver.quit() é‡Šæ”¾å†…å­˜èµ„æºã€‚é‚£ä¹ˆåœ¨å¾ªç¯è§£æé¡µé¢æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠè¿™ä¸¤ä¸ªè¯­å¥æ”¾åˆ° else åé¢ã€‚\n\n# pseudocode\nfor url in url_list:\n    driver.get(url)\nelse:\n    driver.close()\n    driver.quit()"
  },
  {
    "objectID": "posts/2022-09-15-matplotlib-å¸¸ç”¨ç»˜å›¾/index.html",
    "href": "posts/2022-09-15-matplotlib-å¸¸ç”¨ç»˜å›¾/index.html",
    "title": "Matplotlibå¸¸ç”¨ç»˜å›¾",
    "section": "",
    "text": "import numpy as np\nimport matplotlib.pyplot as plt\n\n\næ¡å½¢å›¾\n\n# æ•°æ®å‡†å¤‡\ncustomers = ['ABC', 'DEF', 'GHI', 'JKL', 'MNO']\ncustomers_index = range(len(customers))\nsale_amounts = [127, 90, 201, 111, 232]\n\n\nfig = plt.figure(figsize=(16,9)) # figsizeç¡®å®šåƒç´ æ¯”\n# plt.style.use('ggplot') ä½¿ç”¨ ggplot é£æ ¼\nax1 = fig.add_subplot(1, 1, 1) # åˆ›å»ºå­å›¾\n# customer_indexè®¾ç½®æ¡å½¢å›¾åœ¨xè½´ä¸Šçš„ä½ç½®ï¼›sale_amountsè®¾ç½®æ¡å½¢çš„é«˜åº¦ï¼›align='center'è®¾ç½®xè½´æ ‡ç­¾å¤„äºæ¡å½¢ä¸­é—´\nax1.bar(customers_index, sale_amounts, align='center', color='darkblue') \nax1.xaxis.set_ticks_position('bottom') # è®¾ç½®åˆ»åº¦ä½ç½®\nax1.yaxis.set_ticks_position('left')\nplt.xticks(customers_index, customers, rotation=0, fontsize='small') # è®¾ç½®åˆ»åº¦å€¼\nplt.xlabel('Customer Name') # è®¾ç½®xè½´æ ‡ç­¾\nplt.ylabel('Sale Amount') # è®¾ç½®yè½´æ ‡ç­¾\nplt.title('Sale Amount per Customer') # è®¾ç½®å›¾å½¢æ ‡é¢˜\nplt.savefig('bar_plot.png', dpi=100, bbox_inches='tight') # ä¿å­˜å›¾ç‰‡ï¼›è®¾ç½®å›¾å½¢åˆ†è¾¨ç‡ï¼›å°†å›¾å½¢å››å‘¨ç©ºç™½éƒ¨åˆ†å»æ‰\nplt.show()\n\n\n\n\n\n\n\n\n\n\nç›´æ–¹å›¾\n\n# æ•°æ®å‡†å¤‡\nmu1, mu2, sigma = 100, 130, 15\nx1 = mu1 + sigma * np.random.randn(10000)\nx2 = mu2 + sigma * np.random.randn(10000)\n\n\nfig = plt.figure(figsize=(16, 9))\nplt.style.use('ggplot')\nax1 = fig.add_subplot(1, 1, 1)\n\nn, bins, patches = ax1.hist(x1, bins=50, color='darkgreen')\nn, bins, patches = ax1.hist(x2, bins=50, color='orange', alpha=0.5)\n\nax1.xaxis.set_ticks_position('bottom')\nax1.yaxis.set_ticks_position('left')\nplt.xlabel('Bins')\nplt.ylabel('Number of Values in Bin')\nfig.suptitle('Histograms', fontsize=14, fontweight='bold')\nax1.set_title('Two Frequency Distributions')\nplt.show()\n\n\n\n\n\n\n\n\n\n\næŠ˜çº¿å›¾\n\n# æ•°æ®å‡†å¤‡\nplot_data1 = np.random.randn(50).cumsum()\nplot_data2 = np.random.randn(50).cumsum()\nplot_data3 = np.random.randn(50).cumsum()\nplot_data4 = np.random.randn(50).cumsum()\n\n\nfig = plt.figure(figsize=(16, 9))\nax1 = fig.add_subplot(1, 1, 1)\nax1.plot(plot_data1, marker=r'o', color=u'blue', linestyle='-', label='Blue Solid')\nax1.plot(plot_data2, marker=r'+', color=u'red', linestyle='--', label='Red Dashed')\nax1.plot(plot_data3, marker=r'*', color=u'green', linestyle='-', label='Green Dash Dot')\nax1.plot(plot_data4, marker=r's', color=u'orange', linestyle=':', label='Orange Dotted')\nax1.xaxis.set_ticks_position('bottom')\nax1.yaxis.set_ticks_position('left')\nax1.set_title('Line Plots: Markers, Colors, and Linestyles')\nplt.xlabel('Draw')\nplt.ylabel('Random Number')\nplt.legend(loc='best')"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "",
    "text": "è¿™ç¯‡åšå®¢è®°å½•äº† Ubuntu 18.04 çš„å®‰è£…ã€é…ç½®ä¸ç¾åŒ–è¿‡ç¨‹ã€‚"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å¼•å¯¼ç›˜",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å¼•å¯¼ç›˜",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "å¼•å¯¼ç›˜",
    "text": "å¼•å¯¼ç›˜\n\nä¸‹è½½ Ununtu 18.04 çš„é•œåƒæ–‡ä»¶ï¼Œå°†Uç›˜æ ¼å¼åŒ–ä¸º FAT32ï¼Œç„¶åè§£å‹æ“ä½œç³»ç»Ÿçš„é•œåƒæ–‡ä»¶è‡³Uç›˜æ ¹ç›®å½•ï¼Œå®Œæˆåˆ»å½•ã€‚\nä¸‹è½½ Ubuntu 18.04 çš„é•œåƒæ–‡ä»¶ï¼Œä½¿ç”¨ Rufus è¿›è¡Œåˆ»å½•ã€‚ï¼ˆä½¿ç”¨é»˜è®¤è®¾ç½®å³å¯ï¼‰"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å…³é—­-windows-çš„å¿«é€Ÿå¯åŠ¨",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å…³é—­-windows-çš„å¿«é€Ÿå¯åŠ¨",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "å…³é—­ Windows çš„å¿«é€Ÿå¯åŠ¨",
    "text": "å…³é—­ Windows çš„å¿«é€Ÿå¯åŠ¨\nè¿›å…¥æ§åˆ¶é¢æ¿ -&gt; ç”µæºé€‰é¡¹ -&gt; é€‰æ‹©å…³é—­ç”µæºæŒ‰é’®åŠŸèƒ½ -&gt; æ›´æ”¹å½“å‰ä¸å¯ç”¨è®¾ç½®ï¼šå…³é—­å¯ç”¨å¿«é€Ÿå¯åŠ¨ï¼Œä¿å­˜è®¾ç½®ã€‚"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å®‰è£…ç³»ç»Ÿ",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å®‰è£…ç³»ç»Ÿ",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "å®‰è£…ç³»ç»Ÿ",
    "text": "å®‰è£…ç³»ç»Ÿ\né‡å¯è®¡ç®—æœºï¼Œåœ¨å¼€æœºç”»é¢å‡ºç°ä¹‹å‰ï¼Œç‹‚æŒ‰ f12 è¿›å…¥ bios å¯åŠ¨ç•Œé¢ï¼Œé€‰æ‹©ä»Uç›˜å¯åŠ¨ï¼Œé€‰æ‹© install Ubuntuã€‚\nä¸€äº›æ³¨æ„äº‹é¡¹ï¼š\n\nå®‰è£…æ—¶é€‰æ‹©æœ€å°å®‰è£…ï¼›\nå®‰è£…è¿‡ç¨‹ä¸­é€‰æ‹©ä½¿ç”¨è¯­è¨€æ—¶é€‰æ‹©è‹±è¯­ï¼Œä¾¿äºåœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ cd å‘½ä»¤ï¼›\né€‰æ‹©åŒºåŸŸå’ŒåŸå¸‚ï¼šAsia/Shanghaiã€‚"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#æ›´æ¢è½¯ä»¶æº",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#æ›´æ¢è½¯ä»¶æº",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "æ›´æ¢è½¯ä»¶æº",
    "text": "æ›´æ¢è½¯ä»¶æº\nUnuntu 18.04 é»˜è®¤ä½¿ç”¨çš„æ˜¯å›½å¤–çš„è½¯ä»¶æºï¼Œå› ä¸ºä½¿å¾—æˆ‘ä»¬åœ¨ä¸‹è½½å’Œæ›´æ–°è½¯ä»¶æ—¶é€Ÿåº¦è¾ƒæ…¢ï¼Œè¿™é‡Œæˆ‘ä»¬æ›¿æ¢ä¸ºå›½å†…çš„é˜¿é‡Œäº‘è½¯ä»¶æºï¼š\nç‚¹å‡» Software&Updates -&gt; Ununtu Software -&gt; ç‚¹å‡» download from å³è¾¹çš„ä¸‹æ‹‰æ¡†ï¼Œé€‰æ‹© Other -&gt; åœ¨å¼¹å‡ºçš„ç•Œé¢ä¸­é€‰æ‹©é˜¿é‡Œäº‘è½¯ä»¶æºã€‚"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å…¨é¢æ›´æ–°",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å…¨é¢æ›´æ–°",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "å…¨é¢æ›´æ–°",
    "text": "å…¨é¢æ›´æ–°\nåœ¨è¿›ä¸€æ­¥æ“ä½œä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæŠŠå·²ç»å®‰è£…çš„è½¯ä»¶åŒ…éƒ½å‡çº§åˆ°æœ€æ–°ç‰ˆï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼š\nsudo apt update\nsudp apt upgrade\nç‚¹å‡» settings -&gt; language -&gt; Manage Installed Languageï¼Œå®Œæˆè¯­è¨€åˆ—è¡¨çš„æ›´æ–°ï¼Œç„¶åæ³¨é”€é‡å¯ã€‚"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#æ˜¾å¡é…ç½®",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#æ˜¾å¡é…ç½®",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "æ˜¾å¡é…ç½®",
    "text": "æ˜¾å¡é…ç½®\nå¦‚æœç”µè„‘å¸¦ Nvidia ç‹¬ç«‹æ˜¾å¡ï¼Œç‚¹å‡» Software&Updates -&gt; Additional Drivers é‡Œé€‰æ‹©å¯¹åº”çš„ N å¡ç§æœ‰çš„é©±åŠ¨ç¨‹åºå¹¶åº”ç”¨æ›´æ”¹ã€‚"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#æ›´æ¢ç»ˆç«¯ç±»å‹",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#æ›´æ¢ç»ˆç«¯ç±»å‹",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "æ›´æ¢ç»ˆç«¯ç±»å‹",
    "text": "æ›´æ¢ç»ˆç«¯ç±»å‹\næ›´æ¢é»˜è®¤ç»ˆç«¯ä¸ºfish[https://launchpad.net/~fish-shell/+archive/ubuntu/release-3]ã€‚\nåœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\nsudo apt-add-repository ppa:fish-shell/release-3\nsudo apt-get update\nsudo apt-get install fish"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å®‰è£…-gnome-tweak-tool",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å®‰è£…-gnome-tweak-tool",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "å®‰è£… Gnome-tweak-tool",
    "text": "å®‰è£… Gnome-tweak-tool\nUbuntu 18.04 é»˜è®¤ä½¿ç”¨çš„æ¡Œé¢ä¸º gnome3ã€‚æ‰“å¼€ç»ˆç«¯æ‰§è¡Œï¼š\nsudo apt-get install gnome-tweak-tool"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#user-theme-æ’ä»¶å®‰è£…",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#user-theme-æ’ä»¶å®‰è£…",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "User theme æ’ä»¶å®‰è£…",
    "text": "User theme æ’ä»¶å®‰è£…\nä½¿ shell ä¸»é¢˜å¯ä»¥ä½¿ç”¨æ¡Œé¢ä¸»é¢˜ã€‚"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#æ”¹å˜æ¡Œé¢ä¸»é¢˜ä¸å›¾æ ‡ä¸»é¢˜",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#æ”¹å˜æ¡Œé¢ä¸»é¢˜ä¸å›¾æ ‡ä¸»é¢˜",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "æ”¹å˜æ¡Œé¢ä¸»é¢˜ä¸å›¾æ ‡ä¸»é¢˜",
    "text": "æ”¹å˜æ¡Œé¢ä¸»é¢˜ä¸å›¾æ ‡ä¸»é¢˜\n\næ¡Œé¢ä¸»é¢˜\nå›¾æ ‡ä¸»é¢˜\nå£çº¸\n\nè¿›å…¥ Github ä¸‹è½½æºæ–‡ä»¶ï¼Œè§£å‹åˆ°ç›®å½•å¹¶è¿›å…¥ï¼Œå³é”®ç‚¹å‡»ç©ºç™½å¤„é€‰æ‹©åœ¨ç»ˆç«¯ä¸­æ‰“å¼€ï¼Œæ‰§è¡Œå®‰è£…ã€‚å¾…å®‰è£…å®Œæˆååœ¨ Gnome-tweak-tool é‡Œé€‰æ‹©æ¡Œé¢ä¸»é¢˜ä¸å›¾æ ‡ä¸»é¢˜ã€‚"
  },
  {
    "objectID": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å®‰è£…æœç‹—è¾“å…¥æ³•",
    "href": "posts/2019-04-09-Ubuntu1804å®‰è£…ä¸é…ç½®/index.html#å®‰è£…æœç‹—è¾“å…¥æ³•",
    "title": "Ubuntu18.04å®‰è£…ä¸é…ç½®",
    "section": "å®‰è£…æœç‹—è¾“å…¥æ³•",
    "text": "å®‰è£…æœç‹—è¾“å…¥æ³•\næœç‹—è¾“å…¥æ³•ä¾æ‰˜fcitxè¾“å…¥æ³•æ¡†æ¶ï¼Œå› æ­¤æˆ‘ä»¬é¦–å…ˆå®‰è£… fcitx æ¡†æ¶ã€‚æ‰“å¼€ç»ˆç«¯æ‰§è¡Œï¼š\nsudo apt install fcitx -y\nç„¶åè¿›å…¥æœç‹—è¾“å…¥æ³•å®˜ç½‘ä¸‹è½½æœç‹—è¾“å…¥æ³•çš„ deb å®‰è£…åŒ…ã€‚å®‰è£…æœç‹—è¾“å…¥æ³•ã€‚\næ‰“å¼€ gnome-tweaksï¼Œåœ¨å¼€æœºå¯åŠ¨æ¨èä¸­æ·»åŠ  fcitxã€‚"
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html",
    "title": "Numpy Notes: Python data analysis",
    "section": "",
    "text": "NumPy, short for Numerical Python, has such advantages:\nPure Python leaves many details to runtime environment:\nNumPy is fast.\nimport numpy as np\n# speed test for numpy\nmy_arr = np.arange(1000_000)\nmy_list = list(range(1000_000))\n%%time\nmy_arr2 = my_arr * 2\n\nWall time: 2.99 ms\n%%time\nmy_list2 = [x * 2 for x in my_list]\n\nWall time: 114 ms"
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#creating-ndarrays",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#creating-ndarrays",
    "title": "Numpy Notes: Python data analysis",
    "section": "1.1 Creating ndarrays",
    "text": "1.1 Creating ndarrays\n\n1.1.1 array function.\narray function accepts any sequence-like object (list, list of lists, other arrays, etc) and produces a new NumPy array containing the passed data. Unless explicitly specified, np.array tries to infer a good data type for the array that it creates. The data type is stored in a special dtype metadata object.\n\n# passing list\narr1 = np.array([1, 2, 3, 4])\nprint(arr1)\nprint(arr1.shape)\nprint(arr1.dtype)\nprint(arr1.ndim)\n\n[1 2 3 4]\n(4,)\nint32\n1\n\n\n\n# passing list of lists\narr2 = np.array([[1, 2, 3],\n                 [4, 5, 6]])\nprint(arr2)\nprint(arr2.shape)\nprint(arr2.dtype)\nprint(arr2.ndim)\n\n[[1 2 3]\n [4 5 6]]\n(2, 3)\nint32\n2\n\n\n\n# passing array\narr3 = np.array(arr2)\nprint(arr3)\nprint(arr3.shape)\nprint(arr3.dtype)\nprint(arr3.ndim)\n\n[[1 2 3]\n [4 5 6]]\n(2, 3)\nint32\n2\n\n\n\n\n1.1.2 zeros,ones,empty,arange etc\n\n\n\n\n\n\n\nFunction\nDescription\n\n\n\n\narray\nConvert input data (list, tuple, array, or other sequence type) to an ndarray either by inferring a dtype or explicitly specifying a dtype; copies the input data by default\n\n\nasarray\nConvert input to ndarray, but do not copy if the input is already an ndarray\n\n\narange\nLike the built-in range but returns an ndarray instead of a list\n\n\nones\nProduce an array of all 1s with the given shape and dtype\n\n\nones_like\nTakes another array and produces a ones array of the same shape and dtype\n\n\nzeros\nLike ones but producing arrays of 0s instead\n\n\nzeros_like\nLike ones_like but producing arrays of 0s instead\n\n\nempty\nCreate new arrays by allocating new memory, but do not populate with any values\n\n\nempty_like\nLike ones_like but do not populate with any values\n\n\nfull\nProduce an array of the given shape and dtype with all values set to the indicated â€œfill valueâ€\n\n\nfull_like\nfull_like takes another array and produces a filled array of the same shape and dtype\n\n\neye, identity\nCreate a square NxN identity matrix\n\n\n\n\n# np.zeros\nnp.zeros(4)\n\narray([0., 0., 0., 0.])\n\n\n\n# np.ones\nnp.ones((2, 3))\n\narray([[1., 1., 1.],\n       [1., 1., 1.]])\n\n\n\n# np.empty return uninitialized \"garbage\" values, which can later be populated with data\nnp.empty((2, 3, 2))\n\narray([[[0.59905431, 1.08465416],\n        [0.95319914, 1.93616798],\n        [0.92951762, 0.81376066]],\n\n       [[0.87067676, 0.05844408],\n        [0.61867604, 0.78530194],\n        [0.93464763, 0.74309266]]])\n\n\n\n# arange ia an array-valued version of the build-in Python range function\nnp.arange(10)\n\narray([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])"
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#data-types-for-ndarrays",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#data-types-for-ndarrays",
    "title": "Numpy Notes: Python data analysis",
    "section": "1.2 Data Types for ndarrays",
    "text": "1.2 Data Types for ndarrays\nThe data type or dtype is a special object containing the information (or metadata, data about data) the ndarray needs to interpret a chunk of memory as a particular type of data. In most cases dtype provide a mapping directly onto an underlying disk or memory representation, which makes it easy to read and write binary streams of data to disk and also to connect to code written in a low-level language like C or Fortran."
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#arithmetic-with-numpy-arrays",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#arithmetic-with-numpy-arrays",
    "title": "Numpy Notes: Python data analysis",
    "section": "1.3 Arithmetic with NumPy Arrays",
    "text": "1.3 Arithmetic with NumPy Arrays\nVectorization - Any arithmetic operations between equal-size arrays applies the operation element-wise.\n\narr = np.random.randn(3, 4)\narr\n\narray([[ 0.07338553,  0.8116425 , -2.17800941, -0.32029061],\n       [ 0.41584223, -1.32481565, -1.3783163 ,  0.26723131],\n       [-0.31385858,  1.30899248,  1.13523462, -0.68452327]])\n\n\n\narr * 2\n\narray([[ 0.14677106,  1.62328501, -4.35601882, -0.64058122],\n       [ 0.83168445, -2.64963129, -2.75663261,  0.53446262],\n       [-0.62771717,  2.61798496,  2.27046924, -1.36904654]])\n\n\n\narr - arr\n\narray([[0., 0., 0., 0.],\n       [0., 0., 0., 0.],\n       [0., 0., 0., 0.]])\n\n\n\n1 / arr\n\narray([[13.62666475,  1.23206953, -0.45913484, -3.1221646 ],\n       [ 2.4047582 , -0.754822  , -0.72552287,  3.74207649],\n       [-3.18614831,  0.76394633,  0.88087518, -1.46087072]])\n\n\nBroadcasting - Operations between differently sized arrays."
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#basic-indexing-and-slicing",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#basic-indexing-and-slicing",
    "title": "Numpy Notes: Python data analysis",
    "section": "1.4 Basic Indexing and Slicing",
    "text": "1.4 Basic Indexing and Slicing\nOne-dimensional array indexing and slicing act similarly to Python lists.\n\n# indexing\narr = np.arange(10)\nprint(arr)\nprint(arr[0])\n\n[0 1 2 3 4 5 6 7 8 9]\n0\n\n\n\n# slicing\nprint(arr[1:4])\n\n[1 2 3]\n\n\nArray slices are views on the original array, which means any modification to the view will be reflected in the source array. This design intends to obtain high performance and save memory.\n\narr = np.arange(10)\narr\n\narray([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\n\n\n\narr[1:5] = 10\narr\n\narray([ 0, 10, 10, 10, 10,  5,  6,  7,  8,  9])\n\n\nFor higher dimensional arrays, we can access every individual element recursively. First, indexing moves along axis 0 as the â€œrowsâ€ of the array and then axis 1 as the â€œcolumnsâ€.\n\narr = np.arange(9).reshape(3,3)\narr\n\narray([[0, 1, 2],\n       [3, 4, 5],\n       [6, 7, 8]])\n\n\n\n# indexing along axis 0\narr[1]\n\narray([3, 4, 5])\n\n\n\n# recursively indexing\narr[1][0]\n\n3\n\n\n\n# easy and equivalent way\narr[1, 0]\n\n3\n\n\n\n# indexing with slices, slice along axis 0\narr[:2]\n\narray([[0, 1, 2],\n       [3, 4, 5]])\n\n\n\n# recursively indexing with slices\narr[:2, :2]\n\narray([[0, 1],\n       [3, 4]])"
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#boolean-indexing",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#boolean-indexing",
    "title": "Numpy Notes: Python data analysis",
    "section": "1.5 Boolean Indexing",
    "text": "1.5 Boolean Indexing\nSelecting data from an array by boolean indexing always creates a copy of the data.\n\narr = np.array([[\"Bob\", 1, 2, 3],\n                [\"Luffy\", 2, 3, 4],\n                [\"Joe\", 6, 7, 8]])\narr\n\narray([['Bob', '1', '2', '3'],\n       ['Luffy', '2', '3', '4'],\n       ['Joe', '6', '7', '8']], dtype='&lt;U11')\n\n\n\nnames = arr[:, 0]\nnames\n\narray(['Bob', 'Luffy', 'Joe'], dtype='&lt;U11')\n\n\n\nluffy_selected = (names == \"Luffy\")\nluffy_selected\n\narray([False,  True, False])\n\n\n\n# boolean indexing slice along axis 0, select 'true' rows\narr[luffy_selected]\n\narray([['Luffy', '2', '3', '4']], dtype='&lt;U11')\n\n\n\n# select everything except luffy, use != or negate the condition using ~\narr[names != \"Luffy\"]\n\narray([['Bob', '1', '2', '3'],\n       ['Joe', '6', '7', '8']], dtype='&lt;U11')\n\n\n\narr[~luffy_selected]\n\narray([['Bob', '1', '2', '3'],\n       ['Joe', '6', '7', '8']], dtype='&lt;U11')\n\n\n\n# select two of the three names to combine multiple boolean conditions, use boolean arithmetic operators like & and |\nmask = (names==\"Bob\")|(names==\"Joe\")\nmask\n\narray([ True, False,  True])\n\n\n\narr[mask]\n\narray([['Bob', '1', '2', '3'],\n       ['Joe', '6', '7', '8']], dtype='&lt;U11')"
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#fancy-indexing",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#fancy-indexing",
    "title": "Numpy Notes: Python data analysis",
    "section": "1.6 Fancy Indexing",
    "text": "1.6 Fancy Indexing\n\nFancy indexing is a term adopted by NumPy to describe indexing using integer arrays.\nThe result of fancy indexing is always one-dimensional.\nFancy indexing always copies the data into a new array.\n\n\n# create a 8x4 array\narr = np.empty((8, 4))\nfor i in range(8):\n    arr[i] = i\narr\n\narray([[0., 0., 0., 0.],\n       [1., 1., 1., 1.],\n       [2., 2., 2., 2.],\n       [3., 3., 3., 3.],\n       [4., 4., 4., 4.],\n       [5., 5., 5., 5.],\n       [6., 6., 6., 6.],\n       [7., 7., 7., 7.]])\n\n\n\n# fancy indexing by passing a list\narr[[4, 3, 5, 6]]\n\narray([[4., 4., 4., 4.],\n       [3., 3., 3., 3.],\n       [5., 5., 5., 5.],\n       [6., 6., 6., 6.]])\n\n\n\n# passing multiple index arrays selects a one-dimensional array of elements corresponding to each tuple of indices\n# select (1,0), (5,3), (7,1), (2,2)\narr = np.arange(32).reshape(8,4)\narr[[1, 5, 7, 2], [0, 3, 1, 2]]\n\narray([ 4, 23, 29, 10])\n\n\n\n# trying to select a rectangular region\narr[[1, 5, 7, 2]][:, [0, 3, 1, 2]]\n\narray([[ 4,  7,  5,  6],\n       [20, 23, 21, 22],\n       [28, 31, 29, 30],\n       [ 8, 11,  9, 10]])"
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#transposing-arrays-and-swapping-axes",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#transposing-arrays-and-swapping-axes",
    "title": "Numpy Notes: Python data analysis",
    "section": "1.7 Transposing Arrays and Swapping Axes",
    "text": "1.7 Transposing Arrays and Swapping Axes\nTransposing is a special form of reshaping that similiarly returns a view on the underlying data without copying anything. Arrays have the transpose method and also the special T attribute.\n\narr = np.arange(6).reshape(2,3)\narr\n\narray([[0, 1, 2],\n       [3, 4, 5]])\n\n\n\narr.T\n\narray([[0, 3],\n       [1, 4],\n       [2, 5]])"
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#expressing-conditional-logic-as-array-operations",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#expressing-conditional-logic-as-array-operations",
    "title": "Numpy Notes: Python data analysis",
    "section": "3.1 Expressing Conditional Logic as Array Operations",
    "text": "3.1 Expressing Conditional Logic as Array Operations\n\n# list comprehension edition for conditional logic\nxarr = np.array([1.1, 1.2, 1.3, 1.4, 1.5])\nyarr = np.array([2.1, 2.2, 2.3, 2.4, 2.5])\ncond = np.array([True, False, True, True, False])\n\n\nresult = [(x if c else y) for x,y,c in zip(xarr, yarr, cond)]\nresult\n\n[1.1, 2.2, 1.3, 1.4, 2.5]\n\n\n\n# np.where edition for conditional logic\nresult = np.where(cond, xarr, yarr)\nresult\n\narray([1.1, 2.2, 1.3, 1.4, 2.5])"
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#mathematical-and-statiscal-methods",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#mathematical-and-statiscal-methods",
    "title": "Numpy Notes: Python data analysis",
    "section": "3.2 Mathematical and Statiscal Methods",
    "text": "3.2 Mathematical and Statiscal Methods\nA set of mathematical functions that compute statistics about an entire array or about the data along an axis are accessible as methods of the array class and the top-level NumPy function.\n\narr = np.random.randn(5, 4)\narr\n\narray([[-0.32270463, -2.47923282,  0.51142065,  1.64402202],\n       [-1.11875424, -0.50816377, -0.24412379, -0.35906071],\n       [-0.80848479, -1.5290442 ,  0.33861759, -1.84812779],\n       [-0.38523178, -1.14234316,  1.07015372, -0.7025341 ],\n       [-0.742273  ,  0.62327938, -0.24617117, -0.87927529]])\n\n\n\n# find the mean of an array\narr.mean()\n\n-0.45640159378569933\n\n\n\n# using the top-level NumPy function to find the mean of an array\nnp.mean(arr)\n\n-0.45640159378569933\n\n\n\n# computing the mean over the axis 0\narr.mean(axis=0)\n\narray([-0.67548969, -1.00710091,  0.2859794 , -0.42899517])\n\n\n\nnp.mean(arr, axis=0)\n\narray([-0.67548969, -1.00710091,  0.2859794 , -0.42899517])"
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#methods-for-boolean-arrays",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#methods-for-boolean-arrays",
    "title": "Numpy Notes: Python data analysis",
    "section": "3.3 Methods for Boolean Arrays",
    "text": "3.3 Methods for Boolean Arrays\nBoolean values are coerced to 1 (True) and 0 (False) in the preceding methods. Thus, sum is often used as a means of counting True values in a boolean array.\n\narr = np.random.randn(100)\n(arr &gt; 0).sum() # Number of positive values\n\n51\n\n\nThere are two additional methods, any and all, useful especially for boolean arrays. any tests whether one or more values in an array is True, while all checks if every value is True.\n\nbools = np.array([False, False, True, False])\n\n\nbools.any()\n\nTrue\n\n\n\nbools.all()\n\nFalse"
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#sorting",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#sorting",
    "title": "Numpy Notes: Python data analysis",
    "section": "3.4 Sorting",
    "text": "3.4 Sorting\nNumPy arrays can be sorted in-place with the sort method.\n\narr = np.random.randn(6)\narr\n\narray([-0.64050099,  0.37239892,  0.48466042,  0.0832035 , -0.24079602,\n       -0.62832189])\n\n\n\narr.sort()\n\n\narr\n\narray([-0.64050099, -0.62832189, -0.24079602,  0.0832035 ,  0.37239892,\n        0.48466042])\n\n\nWe can sort each one-dimensional section of values in a multidimensional array in-place along an axis by passing the axis number to sort.\n\narr = np.random.randn(5, 3)\narr\n\narray([[ 0.22066993,  1.28272713, -2.80933259],\n       [ 1.24150303,  0.6821006 ,  0.21857812],\n       [ 0.38492004,  2.30910114,  0.354785  ],\n       [-0.99229831, -0.81723761,  0.19111813],\n       [ 0.46279363,  0.11871894,  0.7152068 ]])\n\n\n\narr.sort(1)\n\n\narr\n\narray([[-2.80933259,  0.22066993,  1.28272713],\n       [ 0.21857812,  0.6821006 ,  1.24150303],\n       [ 0.354785  ,  0.38492004,  2.30910114],\n       [-0.99229831, -0.81723761,  0.19111813],\n       [ 0.11871894,  0.46279363,  0.7152068 ]])\n\n\nThe top-level method np.sort returns a sorted copy of an array instead of modifying the array in-place. A quick-and-dirty way to compute the quantiles of an array is to sort it and select the value at a particular rank.\n\nlarge_arr = np.random.randn(1000)\nlarge_arr.sort()\nlarge_arr[int(0.05 * len(large_arr))] # 5% quantile\n\n-1.5942713719535697"
  },
  {
    "objectID": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#unique-and-other-set-logic",
    "href": "posts/2021-09-20-Numpy-notes-Python-data-analysis/index.html#unique-and-other-set-logic",
    "title": "Numpy Notes: Python data analysis",
    "section": "3.5 Unique and Other Set Logic",
    "text": "3.5 Unique and Other Set Logic\n\n# np.unique returns the sorted unique values in an array\nnumbers = np.array([1, 2, 3, 3, 4, 4, 6])\nnp.unique(numbers)\n\narray([1, 2, 3, 4, 6])\n\n\n\n# pure python edition\nsorted(set(numbers))\n\n[1, 2, 3, 4, 6]"
  },
  {
    "objectID": "posts/2024-09-11-Pythonä¸­çš„ç”Ÿæˆå™¨/index.html",
    "href": "posts/2024-09-11-Pythonä¸­çš„ç”Ÿæˆå™¨/index.html",
    "title": "Pythonä¸­çš„ç”Ÿæˆå™¨è¡¨è¾¾å¼ä¸ç”Ÿæˆå™¨",
    "section": "",
    "text": "ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼ˆgenerator expressionï¼‰æ˜¯ Python ä¸­çš„ä¸€ç§ç®€æ´æ–¹å¼ï¼Œç”¨æ¥åœ¨è¿­ä»£æ—¶ç”Ÿæˆæ•°æ®ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å°†æ‰€æœ‰ç»“æœå­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚å®ƒä¸åˆ—è¡¨æ¨å¯¼å¼ï¼ˆlist comprehensionï¼‰ç±»ä¼¼ï¼Œä½†å®ƒä¸è¿”å›æ•´ä¸ªåˆ—è¡¨ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œé€šè¿‡æƒ°æ€§æ±‚å€¼èŠ‚çœå†…å­˜ã€‚\n\nç”Ÿæˆå™¨è¡¨è¾¾å¼ä¸åˆ—è¡¨æ¨å¯¼å¼\nåˆ—è¡¨æ¨å¯¼å¼å¯ä»¥å¿«é€Ÿä»ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ç”Ÿæˆä¸€ä¸ªæ–°çš„åˆ—è¡¨ã€‚æ¯”å¦‚æˆ‘ä»¬ä» L ç”Ÿæˆä¸€ä¸ªæ–°çš„åˆ—è¡¨ xï¼š\n\n# list expression\nL = [1, 2, 3]\nx = [i**2 for i in L]\nprint(x)\n\n[1, 4, 9]\n\n\nç”Ÿæˆå™¨è¡¨è¾¾å¼åˆ™è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡ next() å‡½æ•°è®¡ç®—æ±‚å€¼ï¼š\n\n# generator expression\nL = [1, 2, 3]\nx = (i**2 for i in L)\nprint(x)\nprint(next(x))\n\n&lt;generator object &lt;genexpr&gt; at 0x7f3276ef7440&gt;\n1\n\n\nnext() å‡½æ•°ä¼šè®°å½•ä¸Šä¸€æ¬¡æ‰“å°çš„å€¼ä»ä¸Šä¸€æ¬¡ä¸­æ–­å¤„ç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°å¾ªç¯ç»“æŸæŠ›å‡ºå¼‚å¸¸ï¼š\n\nprint(next(x))\nprint(next(x))\nprint(next(x))\n\n4\n9\n\n\n\n---------------------------------------------------------------------------\nStopIteration                             Traceback (most recent call last)\nCell In[4], line 3\n      1 print(next(x))\n      2 print(next(x))\n----&gt; 3 print(next(x))\n\nStopIteration: \n\n\n\nä»¥ä¸Šå½“ 3 æ¬¡æ±‚å€¼å†è¿›è¡Œæ±‚å€¼ä¾¿æŠ›å‡ºå¼‚å¸¸ã€‚åŒç†ä¹Ÿå¯ä»¥ä½¿ç”¨ for å¾ªç¯å¯¹ç”Ÿæˆå™¨è¡¨è¾¾å¼è¿›è¡Œè¿­ä»£ï¼š\n\nL = [1, 2, 3]\nx = (i**2 for i in L)\nfor i in x:\n    print(i)\n\n1\n4\n9\n\n\n\n\nç”Ÿæˆå™¨ä¸è¿­ä»£å™¨\nåœ¨ Python ä¸­ï¼Œè¿­ä»£å™¨ï¼ˆIteratorï¼‰æ˜¯ä¸€ç§ç”¨äºéå†å…ƒç´ çš„å¯¹è±¡ï¼Œå…è®¸ä½ é€ä¸ªè®¿é—®å®¹å™¨ï¼ˆå¦‚åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸ã€é›†åˆç­‰ï¼‰ä¸­çš„å…ƒç´ ï¼Œè€Œæ— éœ€å…³å¿ƒå®¹å™¨çš„åº•å±‚å®ç°ã€‚Python ä¸­è¿­ä»£å™¨å¿…é¡»å®ç°ä¸¤ä¸ªæ–¹æ³•ï¼š__iter__() å’Œ __next__()ã€‚\n\n__iter__()ï¼šè¿”å›è¿­ä»£å™¨å¯¹è±¡æœ¬èº«ã€‚è¿™ä¸ªæ–¹æ³•ä½¿å¯¹è±¡å¯ä»¥è¢« iter() å‡½æ•°è°ƒç”¨ã€‚\n__next__()ï¼šè¿”å›å®¹å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚å½“æ²¡æœ‰å…ƒç´ æ—¶ï¼Œä¼šå¼•å‘ StopIteration å¼‚å¸¸æ¥ç»“æŸè¿­ä»£ã€‚\n\nè¿­ä»£å™¨ä¸ä¼šåœ¨å†…å­˜ä¸­ä¸€æ¬¡æ€§ç”Ÿæˆæ‰€æœ‰å…ƒç´ ï¼Œè€Œæ˜¯åœ¨æ¯æ¬¡è°ƒç”¨ next() æ–¹æ³•æ˜¯ç”Ÿæˆä¸‹ä¸€ä¸ªå€¼ã€‚ä¸”è¿­ä»£å™¨åªèƒ½éå†ä¸€æ¬¡ï¼Œä¸€æ—¦è¿­ä»£å®Œæ¯•å°±ä¼šè€—å°½ï¼Œä¸èƒ½å†æ¬¡ä½¿ç”¨ã€‚\nç”Ÿæˆå™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¿­ä»£å™¨ã€‚ç”Ÿæˆå™¨é€šè¿‡ä½¿ç”¨ yield å…³é”®å­—å®šä¹‰ï¼Œä¸æ™®é€šå‡½æ•°ä¸åŒçš„æ˜¯ï¼Œç”Ÿæˆå™¨å‡½æ•°åœ¨æ‰§è¡Œæ—¶ä¼šä¿å­˜å®ƒçš„çŠ¶æ€ï¼ˆå±€éƒ¨å˜é‡ã€ä½ç½®ç­‰ï¼‰ï¼Œæ¯æ¬¡è°ƒç”¨æ—¶å¯ä»¥ä»ä¸Šæ¬¡åœæ­¢çš„åœ°æ–¹ç»§ç»­æ‰§è¡Œã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—ç”Ÿæˆå™¨éå¸¸é€‚åˆå¤„ç†å¤§é‡æ•°æ®æˆ–æ— é™åºåˆ—ï¼Œå› ä¸ºå®ƒå¯ä»¥æŒ‰éœ€äº§ç”Ÿå€¼ï¼Œè€Œä¸éœ€è¦ä¸€æ¬¡æ€§å°†æ‰€æœ‰æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ã€‚\n\n# å®šä¹‰ç”Ÿæˆå™¨\ndef generator_test():\n    for i in [1, 2, 3]:\n        yield i\n        \n# ä½¿ç”¨ç”Ÿæˆå™¨\ngen = generator_test()\nprint(next(gen))\nprint(next(gen))\nprint(next(gen))\nprint(next(gen))\n\n1\n2\n3\n\n\n\n---------------------------------------------------------------------------\nStopIteration                             Traceback (most recent call last)\nCell In[6], line 11\n      9 print(next(gen))\n     10 print(next(gen))\n---&gt; 11 print(next(gen))\n\nStopIteration: \n\n\n\nåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œå®ƒåœ¨æ¯æ¬¡æ‰§è¡Œåˆ° yield æ—¶è¿”å›ä¸€ä¸ªå€¼å¹¶æš‚åœæ‰§è¡Œï¼Œç›´åˆ°è¢«å†æ¬¡è°ƒç”¨ã€‚é€šè¿‡ next() é€æ­¥æ±‚å€¼ã€‚è¿­ä»£ 3 æ¬¡å®Œæ¯•åå†æ¬¡æ±‚å€¼æŠ›å‡ºå¼‚å¸¸ã€‚\nPython ä¹Ÿæä¾›äº†ä¸€äº›å†…å»ºçš„ç”Ÿæˆå™¨å‡½æ•°ï¼Œå¯ä»¥ç®€åŒ–æŸäº›å¸¸è§çš„è¿­ä»£ä»»åŠ¡ï¼Œå¹¶èŠ‚çº¦å†…å­˜ç©ºé—´ï¼Œæ¯”å¦‚ range()ã€enumerate()ã€zip() ç­‰ã€‚\n\n\nè¿­ä»£å™¨ä¸å¯è¿­ä»£å¯¹è±¡\nåœ¨ Python ä¸­ï¼Œå¯è¿­ä»£å¯¹è±¡ï¼ˆIterableï¼‰æ˜¯æŒ‡å¯ä»¥é€ä¸ªè¿”å›å…¶å…ƒç´ çš„å¯¹è±¡ã€‚å¯è¿­ä»£å¯¹è±¡å®ç°äº† __iter__() æ–¹æ³•ï¼Œå…è®¸ä½ ä½¿ç”¨ for å¾ªç¯æˆ–å…¶ä»–è¿­ä»£æ–¹å¼éå†å…¶å…ƒç´ ã€‚å¸¸è§çš„å¯è¿­ä»£å¯¹è±¡åŒ…æ‹¬åˆ—è¡¨ã€å…ƒç»„ã€å­—ç¬¦ä¸²ã€å­—å…¸ã€é›†åˆç­‰ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Python æ ‡å‡†åº“ä¸­çš„ collections.abc.Iterable æ¥æ£€æŸ¥å¯¹è±¡æ˜¯å¦æ˜¯å¯è¿­ä»£çš„ï¼š\n\nfrom collections.abc import Iterable\n\nprint(isinstance([1, 2, 3, 4], Iterable)) \nprint(isinstance(1234, Iterable))       \n\nTrue\nFalse\n\n\nå¯è¿­ä»£å¯¹è±¡å¯ä»¥è¢« iter() å‡½æ•°è½¬åŒ–ä¸ºè¿­ä»£å™¨ï¼š\n\nx = [1, 2, 3, 4]\nprint(iter(x))\n\n&lt;list_iterator object at 0x7f3276f269b0&gt;\n\n\näº‹å®ä¸Šï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ for å¾ªç¯æˆ–å…¶ä»–è¿­ä»£æ“ä½œæ—¶ï¼ŒPython ä¼šåœ¨åå°è°ƒç”¨ iter() å‡½æ•°å°†å¯è¿­ä»£å¯¹è±¡è½¬åŒ–ä¸ºè¿­ä»£å™¨ï¼Œç„¶åä½¿ç”¨ next() å‡½æ•°é€ä¸ªè·å–å…ƒç´ ï¼Œç›´åˆ°æ•è· StopIteration å¼‚å¸¸ï¼Œä½†ä¸ä¼šæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚"
  },
  {
    "objectID": "posts/2024-02-05-ä¸€é”®è®¡ç®—CAR/index.html",
    "href": "posts/2024-02-05-ä¸€é”®è®¡ç®—CAR/index.html",
    "title": "ä¸€é”®è®¡ç®—CAR",
    "section": "",
    "text": "å› ä¸ºç»å¸¸è¦è®¡ç®— CARï¼Œæ‰€ä»¥å†™äº†ä¸€ä¸ªè„šæœ¬ï¼Œæ”¯æŒå¸‚åœºæ¨¡å‹å’Œä¸‰å› å­æ¨¡å‹ï¼Œæµ‹è¯•æ•°æ®éƒ½æ¥è‡ªäºå›½æ³°å®‰æ•°æ®åº“ï¼Œè§†é¢‘ä»‹ç»åœ¨ b ç«™ã€‚\nè„šæœ¬çš„æ ¸å¿ƒæ˜¯ EventStudy ç±»ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š\nimport eventstudy\n\nes_market_model = eventstudy.EventStudy(\n    sample_market_model,  # äº‹ä»¶æ ·æœ¬\n    \"Market\",  # æ­£å¸¸æ”¶ç›Šç‡ä¼°è®¡æ¨¡å‹\n    market_model_data, # ä¼°è®¡æ¨¡å‹æ‰€éœ€æ•°æ®\n    daily_stock_returns,  # ä¸ªè‚¡å†å²å›æŠ¥ç‡\n    -1,  # t1\n    30,  # t2\n    10,  # span\n    200  # ä¼°è®¡æœŸé•¿åº¦\n)\n\nå¸‚åœºæ¨¡å‹\nR_{it} = \\alpha_i + \\beta_iR_{Mt} + \\varepsilon_{it}\nR_{it} è¡¨ç¤ºå…¬å¸ i åœ¨ç¬¬ t ä¸ªäº¤æ˜“æ—¥çš„è€ƒè™‘ç°é‡‘çº¢åˆ©å†æŠ•èµ„çš„ä¸ªè‚¡å›æŠ¥ç‡ï¼ŒR_{Mt} è¡¨ç¤ºç¬¬ t ä¸ªäº¤æ˜“æ—¥å…¬å¸æ‰€åœ¨åˆ†å¸‚åœºçš„å¸‚åœºå›æŠ¥ç‡ï¼Œç­‰äºè€ƒè™‘ç°é‡‘çº¢åˆ©å†æŠ•èµ„çš„æ—¥å¸‚åœºå›æŠ¥ç‡ï¼ˆæµé€šå¸‚å€¼åŠ æƒå¹³å‡æ³•ï¼‰ã€‚\n\nimport pandas as pd\nimport eventstudy\n\n\ndaily_stock_returns = pd.read_csv(\n    \"./data/daily_stocks_returns.csv\", dtype={\"ticker\": str}\n)\n\ndaily_stock_returns æ˜¯ä¸ªè‚¡å†å²å›æŠ¥ç‡ï¼Œæ³¨æ„ä¸ªè‚¡å†å²å›æŠ¥ç‡éœ€è¦åŒ…å«å¦‚ä¸‹æµ‹è¯•å­—æ®µï¼Œå³ tickerã€TradingDate å’Œ returnï¼Œåˆ†åˆ«ä»£è¡¨è‚¡ç¥¨ä»£ç ã€äº¤æ˜“æ—¥å’Œä¸ªè‚¡å›æŠ¥ç‡ã€‚\n\ndaily_stock_returns.head()\n\n\n\n\n\n\n\n\nticker\nTradingDate\nreturn\n\n\n\n\n0\n000001\n2013-11-29\n-0.001468\n\n\n1\n000001\n2013-12-02\n0.011029\n\n\n2\n000001\n2013-12-03\n-0.015273\n\n\n3\n000001\n2013-12-04\n0.004431\n\n\n4\n000001\n2013-12-05\n-0.012500\n\n\n\n\n\n\n\n\nsample_market_model = pd.read_csv(\n    \"./data/sample_for_marketmodel.csv\", dtype={\"ticker\": str}\n)\n\nsample_market_model æ˜¯äº‹ä»¶æ ·æœ¬ï¼Œæ³¨æ„äº‹ä»¶æ ·æœ¬éœ€è¦åŒ…å«å¦‚ä¸‹æµ‹è¯•å­—æ®µï¼Œå³ EventDateã€ticker å’Œ MarketTypeIDï¼Œåˆ†åˆ«ä»£è¡¨äº‹ä»¶æ—¥ã€è‚¡ç¥¨ä»£ç å’Œå¸‚åœºç±»å‹ã€‚\n\nsample_market_model.head()\n\n\n\n\n\n\n\n\nEventDate\nticker\nMarketTypeID\n\n\n\n\n0\n2016-04-21\n002177\n4\n\n\n1\n2016-11-10\n300188\n16\n\n\n2\n2018-01-12\n300002\n16\n\n\n3\n2018-01-15\n000935\n4\n\n\n4\n2018-01-15\n000021\n4\n\n\n\n\n\n\n\nmarket_model_data æ˜¯å¸‚åœºæ¨¡å‹æ‰€éœ€è¦çš„æ•°æ®ï¼Œæ³¨æ„å¸‚åœºæ¨¡å‹æ•°æ®éœ€è¦åŒ…å«å¦‚ä¸‹æµ‹è¯•å­—æ®µï¼Œå³ MarketTypeIDã€TradingDate å’Œ market_returnsï¼Œåˆ†åˆ«ä»£è¡¨å¸‚åœºç±»å‹ã€äº¤æ˜“æ—¥å’Œå¸‚åœºæ”¶ç›Šç‡ã€‚\n\nmarket_model_data = pd.read_csv(\"./data/market_model_data.csv\")\n\n\nmarket_model_data.head()\n\n\n\n\n\n\n\n\nMarketTypeID\nTradingDate\nmarket_returns\n\n\n\n\n0\n1\n1990-12-19\nNaN\n\n\n1\n1\n1990-12-20\n0.050067\n\n\n2\n1\n1990-12-21\n0.039671\n\n\n3\n1\n1990-12-24\n0.049380\n\n\n4\n1\n1990-12-25\n0.049938\n\n\n\n\n\n\n\n\nes_market_model = eventstudy.EventStudy(\n    sample_market_model.head(10),\n    \"Market\",\n    market_model_data,\n    daily_stock_returns,\n    -1,\n    30,\n    10,\n    200,\n)\n\n\nres_market_model = es_market_model.get_result()\n\nTasks finished: 100%\n\n\nget_result() è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œå­—å…¸ä¸­åŒ…å«æ ·æœ¬ CARã€CAR çš„æè¿°æ€§ç»Ÿè®¡ç»“æœã€å‰”é™¤çš„æ ·æœ¬å’Œå‰©ä½™æ ·æœ¬ã€‚\n\nres_market_model.keys()\n\ndict_keys(['describe_res', 'sample_removed', 'sample_remained', 'sample_cars'])\n\n\n\nres_market_model[\"sample_remained\"]\n\n\n\n\n\n\n\n\nEventDate\nticker\nMarketTypeID\n\n\n\n\n0\n2016-04-21\n002177\n4\n\n\n1\n2016-11-10\n300188\n16\n\n\n2\n2018-01-12\n300002\n16\n\n\n3\n2018-01-15\n000935\n4\n\n\n4\n2018-01-15\n000021\n4\n\n\n5\n2018-01-30\n300108\n16\n\n\n6\n2018-04-05\n600602\n1\n\n\n7\n2018-12-11\n300356\n16\n\n\n8\n2019-05-08\n300427\n16\n\n\n9\n2019-07-02\n000917\n4\n\n\n\n\n\n\n\n\neventstudy.res_plot(re_market_model[\"sample_cars\"], 0.90)\n\n\n\n\n\n\n\n\n\n\nä¸‰å› å­æ¨¡å‹\nR_{it} - R_{ft} = \\alpha_i + b_i(R_{Mt}-R_{ft}) + s_iSMB_t + h_iHML_t + \\varepsilon_it\n\nfamafrench_factors = pd.read_csv(\"./data/famafrench_factors_data.csv\")\n\nfamafrench_factors æ˜¯ä¸‰å› å­æ¨¡å‹æ•°æ®ï¼Œæ³¨æ„ä¸‰å› å­æ•°æ®éœ€è¦åŒ…å«å¦‚ä¸‹æµ‹è¯•å­—æ®µï¼Œå³ MarketTypeIDã€TradingDateã€RiskPremiumã€SMBã€HML å’Œ risk_free_rateï¼Œåˆ†åˆ«ä»£è¡¨å¸‚åœºç±»å‹ã€äº¤æ˜“æ—¥ã€é£é™©æº¢ä»·å› å­ã€SMBã€HML å’Œæ— é£é™©åˆ©ç‡ã€‚\n\nfamafrench_factors.head()\n\n\n\n\n\n\n\n\nMarketTypeID\nTradingDate\nRiskPremium\nSMB\nHML\nrisk_free_rate\n\n\n\n\n0\nP9706\n1990-12-19\n2.473374\nNaN\nNaN\n0.0227\n\n\n1\nP9710\n1990-12-19\n2.473374\nNaN\nNaN\n0.0227\n\n\n2\nP9709\n1990-12-19\n2.473374\nNaN\nNaN\n0.0227\n\n\n3\nP9712\n1990-12-19\n2.473374\nNaN\nNaN\n0.0227\n\n\n4\nP9713\n1990-12-19\n2.473374\nNaN\nNaN\n0.0227\n\n\n\n\n\n\n\n\nsample_famafrench = pd.read_csv(\"./data/sample.csv\", dtype={\"ticker\": str})\n\nsample_famafrench æ˜¯äº‹ä»¶æ ·æœ¬ï¼Œä¸å‰è¿°è¦æ±‚ä¸€è‡´ï¼Œéœ€è¦åŒ…å«å¦‚ä¸‹æµ‹è¯•å­—æ®µã€‚\n\nsample_famafrench.head()\n\n\n\n\n\n\n\n\nEventDate\nticker\nMarketTypeID\n\n\n\n\n0\n2016-04-21\n002177\nP9706\n\n\n1\n2016-11-10\n300188\nP9705\n\n\n2\n2018-01-12\n300002\nP9705\n\n\n3\n2018-01-15\n000935\nP9706\n\n\n4\n2018-01-15\n000021\nP9706\n\n\n\n\n\n\n\n\nes_famafrench = eventstudy.EventStudy(\n    sample_famafrench.head(10),\n    \"FamaFrench\",\n    famafrench_factors,\n    daily_stock_returns,\n    -1,\n    30,\n    10,\n    200,\n)\n\n\nres_famafrench = es_famafrench.get_result()\n\nTasks finished: 100%\n\n\n\nres_famafrench.keys()\n\ndict_keys(['describe_res', 'sample_removed', 'sample_remained', 'sample_cars'])\n\n\n\nres_famafrench[\"describe_res\"]\n\n\n\n\n\n\n\n\ncount\nmean\nstd\nmin\n25%\n50%\n75%\nmax\nt-statstics\np-value\n\n\n\n\n-1\n10.0\n0.005946\n0.050654\n-0.042915\n-0.026691\n-0.008127\n0.004223\n0.102982\n0.371196\n0.719079\n\n\n0\n10.0\n0.042546\n0.074948\n-0.035565\n-0.010073\n0.022935\n0.060273\n0.202987\n1.795155\n0.106202\n\n\n1\n10.0\n0.031981\n0.093752\n-0.069651\n-0.007391\n-0.003999\n0.021624\n0.263352\n1.078718\n0.308774\n\n\n2\n10.0\n0.013060\n0.103207\n-0.101936\n-0.029064\n-0.023455\n0.024744\n0.232986\n0.400162\n0.698369\n\n\n3\n10.0\n0.004802\n0.087637\n-0.130160\n-0.043901\n-0.016113\n0.064789\n0.143388\n0.173265\n0.866277\n\n\n4\n10.0\n0.009385\n0.090681\n-0.128522\n-0.046949\n-0.022871\n0.092813\n0.147597\n0.327286\n0.750935\n\n\n5\n10.0\n0.001967\n0.089825\n-0.153967\n-0.036466\n-0.013752\n0.072597\n0.134979\n0.069254\n0.946301\n\n\n6\n10.0\n0.002818\n0.083841\n-0.180795\n-0.027049\n0.003889\n0.059211\n0.121202\n0.106300\n0.917676\n\n\n7\n10.0\n0.012787\n0.080665\n-0.159540\n-0.014551\n0.020998\n0.050448\n0.150747\n0.501306\n0.628188\n\n\n8\n10.0\n0.008737\n0.082093\n-0.163451\n-0.025143\n0.023856\n0.041238\n0.142756\n0.336549\n0.744171\n\n\n9\n10.0\n0.007964\n0.090177\n-0.153678\n-0.022929\n0.023700\n0.070196\n0.139917\n0.279291\n0.786334\n\n\n10\n10.0\n-0.003413\n0.092743\n-0.155530\n-0.031332\n0.009525\n0.043308\n0.138305\n-0.116377\n0.909909\n\n\n11\n10.0\n-0.008281\n0.092809\n-0.184369\n-0.031162\n0.005624\n0.017887\n0.132797\n-0.282173\n0.784192\n\n\n12\n10.0\n-0.012063\n0.103813\n-0.200354\n-0.033344\n0.006032\n0.039354\n0.143062\n-0.367457\n0.721771\n\n\n13\n10.0\n-0.017322\n0.105090\n-0.222945\n-0.021649\n-0.004715\n0.024077\n0.145804\n-0.521229\n0.614789\n\n\n14\n10.0\n-0.005754\n0.111856\n-0.203818\n-0.031657\n-0.013775\n0.070799\n0.152910\n-0.162683\n0.874362\n\n\n15\n10.0\n-0.002302\n0.127973\n-0.219148\n-0.050842\n-0.027914\n0.074407\n0.224666\n-0.056889\n0.955877\n\n\n16\n10.0\n0.001072\n0.119628\n-0.205463\n-0.060483\n-0.022024\n0.098753\n0.177393\n0.028340\n0.978010\n\n\n17\n10.0\n0.015176\n0.142262\n-0.169627\n-0.069435\n-0.026533\n0.128153\n0.254051\n0.337348\n0.743589\n\n\n18\n10.0\n0.036296\n0.168552\n-0.138709\n-0.067674\n-0.031261\n0.149025\n0.306288\n0.680958\n0.513035\n\n\n19\n10.0\n0.025216\n0.170236\n-0.203934\n-0.074913\n-0.028633\n0.146160\n0.305098\n0.468413\n0.650627\n\n\n20\n10.0\n0.021668\n0.172407\n-0.194432\n-0.079519\n-0.053014\n0.160581\n0.333420\n0.397440\n0.700304\n\n\n21\n10.0\n0.016986\n0.164136\n-0.170316\n-0.096441\n-0.043403\n0.144772\n0.317196\n0.327251\n0.750961\n\n\n22\n10.0\n0.014237\n0.158083\n-0.164113\n-0.086671\n-0.046541\n0.129103\n0.284242\n0.284792\n0.782248\n\n\n23\n10.0\n0.007261\n0.166520\n-0.155520\n-0.115051\n-0.052748\n0.123317\n0.313846\n0.137894\n0.893360\n\n\n24\n10.0\n0.002597\n0.167286\n-0.163574\n-0.109552\n-0.051470\n0.117628\n0.328568\n0.049084\n0.961924\n\n\n25\n10.0\n0.000427\n0.160041\n-0.160845\n-0.106606\n-0.054970\n0.107540\n0.310538\n0.008434\n0.993455\n\n\n26\n10.0\n-0.000277\n0.163577\n-0.144695\n-0.116407\n-0.067567\n0.126459\n0.307726\n-0.005351\n0.995848\n\n\n27\n10.0\n-0.000930\n0.158710\n-0.126786\n-0.114920\n-0.073548\n0.098323\n0.323083\n-0.018528\n0.985622\n\n\n28\n10.0\n-0.006622\n0.162787\n-0.141247\n-0.117763\n-0.075430\n0.085477\n0.329415\n-0.128646\n0.900467\n\n\n29\n10.0\n0.006816\n0.174149\n-0.130723\n-0.116153\n-0.079282\n0.140219\n0.336229\n0.123763\n0.904223\n\n\n30\n10.0\n-0.004030\n0.163063\n-0.161690\n-0.112566\n-0.068521\n0.070614\n0.332546\n-0.078147\n0.939421\n\n\n\n\n\n\n\n\neventstudy.res_plot(res_famafrench[\"sample_cars\"])"
  },
  {
    "objectID": "posts/2023-11-09-quartoä½¿ç”¨ç¬”è®°/index.html",
    "href": "posts/2023-11-09-quartoä½¿ç”¨ç¬”è®°/index.html",
    "title": "Quartoä½¿ç”¨ç¬”è®°",
    "section": "",
    "text": "Metadata\nQuarto æ–‡ç«  metadata é‡‡ç”¨ Yaml è¯­è¨€å®šä¹‰ï¼Œä»¥ä¸‹æ˜¯ä¸€ä¸ªå¸¸è§çš„ä¾‹å­ï¼š\n---\ntitle: Quarto Notes\nauthor: Tom\ndate: \"2023-11-09\"\ntoc: true # æ˜¯å¦å¼€å¯æ–‡ç« ç›®å½•\ntoc-depth: 2 # ç›®å½•å±‚çº§æ·±åº¦ï¼Œé»˜è®¤3çº§ç›®å½•\ntoc-expand: true # ç›®å½•æ˜¯å¦å±•å¼€\ncode-block-bg: true # ä»£ç å—èƒŒæ™¯é¢œè‰²\nhighlight-style: atom-one # ä»£ç å—è¯­æ³•é«˜äº®é£æ ¼\ncategories: [åšå®¢]\ncode-fold: false # ä»£ç å—æ˜¯å¦æŠ˜å \ncold-line-numbers: true # ä»£ç å—æ˜¯å¦æ˜¾ç¤ºè¡Œæ•°\ncode-copy: true # true/false/hover\ndraft: false # åšæ–‡æ˜¯å¦ä¸ºè‰ç¨¿ï¼Œè‰ç¨¿ä¸æ˜¾ç¤ºåœ¨åšå®¢ä¸­\nhtml-math-method: katex # latex å¼•æ“ï¼Œé»˜è®¤æ˜¯ MathJax\njupyter: python3\n---\n\n\nMarkdown\nå›¾ç‰‡å æ¯” 100%\n![](./quarto.png){width=100%}\n\n\nlatex\n\\begin{split}\nE(X) &= \\int{x\\int{yf_{X,Y}(x,y)dy}dx} \\\\\n&= \\int{xf_{X}(x)dx} \\\\\n&= E(X)\n\\end{split}\n\n\nGit\n# æŸ¥çœ‹ä»“åº“çŠ¶æ€\ngit status\n# æŸ¥çœ‹æ–‡ä»¶ä¿®æ”¹æƒ…å†µ\ngit diff filename\n# å°†æ–‡ä»¶ä¿®æ”¹æäº¤åˆ°æš‚å­˜åŒº\ngit add filename\n# å°†æ‰€æœ‰æ–‡ä»¶æäº¤åˆ°æš‚å­˜åŒº\ngit add -A.\n# å°†æš‚å­˜åŒºçš„å†…å®¹æäº¤åˆ°å½“å‰åˆ†æ”¯\ngit commit\n# å°†å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“\ngit push -u origin main"
  },
  {
    "objectID": "posts/2024-01-08-matplotlib-ç§‘ç ”ç»˜å›¾ç¬”è®°/index.html",
    "href": "posts/2024-01-08-matplotlib-ç§‘ç ”ç»˜å›¾ç¬”è®°/index.html",
    "title": "Matplotlibç§‘ç ”ç»˜å›¾æ¡ˆä¾‹é›†åˆ",
    "section": "",
    "text": "è¿™ç¯‡åšå®¢è®°å½•åˆ©ç”¨ matplotlib è¿›è¡Œç§‘ç ”ç»˜å›¾çš„ä¸€åˆ—æ¡ˆä¾‹ï¼Œéƒ¨åˆ†æ¡ˆä¾‹æ¥è‡ªäºè¿™ç¯‡åšå®¢ã€‚\n\n\nCode\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nfrom sklearn.datasets import load_iris\nimport math\n\n\n\n\nCode\ndata = load_iris()\nsepal_length = data[\"data\"][:, 0]\nsepal_width = data[\"data\"][:, 1]\n\n\n\n\nCode\nfig, ax = plt.subplots(figsize=(10, 6), dpi=100, layout=\"constrained\")\n\n# è®¾ç½®æ˜¯å¦æ˜¾ç¤ºå›¾åƒè¾¹æ¡†\nax.spines[\"top\"].set_visible(False)\nax.spines[\"bottom\"].set_visible(True)\nax.spines[\"bottom\"].set_color(\"grey\")\nax.spines[\"right\"].set_visible(False)\nax.spines[\"left\"].set_visible(False)\n\nax.tick_params(\n    axis=\"both\",\n    which=\"both\",\n    bottom=True,  # æ˜¾ç¤ºåº•éƒ¨åˆ»åº¦çº¿\n    top=False,\n    labelbottom=True,\n    left=False,  # ä¸æ˜¾ç¤ºå·¦ä¾§åˆ»åº¦çº¿\n    right=False,\n    labelleft=True,\n    color=\"grey\",\n    labelcolor=\"grey\",\n)\n\n# è®¾ç½® x y è½´åˆ»åº¦èŒƒå›´ï¼Œé¿å…ä¸å¿…è¦çš„ç©ºç™½\nax.set_ylim([sepal_width.min() - 0.5, math.ceil(sepal_length.max())])\nax.set_xlim([0, 150])\n\n# è®¾ç½® x y è½´åˆ»åº¦å’Œåˆ»åº¦æ ‡ç­¾\n# æ ¹æ®åŸå§‹æ•°æ®èŒƒå›´ï¼Œè®¾ç½®åˆ»åº¦æ—¶çµæ´»ä½¿ç”¨ int å‘ä¸‹å–æ•´å’Œ math.ceil å‘ä¸Šå–æ•´\nax.set_yticks(\n    range(int(sepal_width.min()), math.ceil(sepal_length.max()) + 1, 1),\n    [\n        str(x)\n        for x in range(int(sepal_width.min()), math.ceil(sepal_length.max()) + 1, 1)\n    ],\n    fontsize=12,\n)\nax.set_xticks(range(0, 151, 30), [str(x) for x in range(0, 151, 30)], fontsize=12)\n\n# åœ¨å›¾ä¸Šæä¾›åˆ»åº¦çº¿\n# ä»¥å¸®åŠ©è§‚ä¼—æ²¿ç€åæ ‡è½´åˆ»åº¦è¿›è¡Œè¿½è¸ª\n# å¯ä»¥è®¾ç½®ä¸ºè™šçº¿å’Œæµ…è‰²ï¼Œä»¥å…é®æŒ¡ä¸»è¦çš„æ•°æ®çº¿\n# åˆ»åº¦çº¿è®¾ç½®æ³¨æ„ä¸ y è½´åˆ»åº¦ä¸€è‡´\nfor y in range(int(sepal_width.min()), math.ceil(sepal_length.max()) + 1, 1):\n    ax.plot(\n        range(len(sepal_length)), [y] * len(sepal_length), \"--\", lw=0.5, color=\"grey\"\n    )\n\n\nax.plot(\n    range(len(sepal_length)),\n    sepal_length,\n    color=\"black\",\n    linestyle=\"-\",\n    linewidth=0.8,\n    label=\"sepal length\",\n)\nax.plot(\n    range(len(sepal_width)),\n    sepal_width,\n    color=\"black\",\n    linestyle=\"--\",\n    linewidth=0.8,\n    label=\"sepal width\",\n)\n# ax.set_xlabel(\"xlabel\", fontsize=12)\n# ä½¿ç”¨ labelpad çµæ´»è®¾ç½® y è½´æ ‡ç­¾ä¸ y è½´è·ç¦»\nax.set_ylabel(\"sepal length and width(cm)\", fontsize=12, labelpad=8)\n\n# ä½¿ç”¨ bbox_to_anchor å’Œ loc å®šä½å›¾ä¾‹ä½ç½®\n# nloc è®¾ç½®è¡Œåˆ—æ•°ï¼›frameon è®¾ç½®è¾¹æ¡†æ˜¾ç¤º\nax.legend(bbox_to_anchor=(0.5, -0.15), loc=\"lower center\", ncol=2, frameon=False)\n\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nCode\ngender_degree_data = pd.read_csv(\n    \"http://www.randalolson.com/assets/2014/06/percent-bachelors-degrees-women-usa.csv\"\n)\n\n\n\n\nCode\ntableau20 = [\n    (31, 119, 180),\n    (174, 199, 232),\n    (255, 127, 14),\n    (255, 187, 120),\n    (44, 160, 44),\n    (152, 223, 138),\n    (214, 39, 40),\n    (255, 152, 150),\n    (148, 103, 189),\n    (197, 176, 213),\n    (140, 86, 75),\n    (196, 156, 148),\n    (227, 119, 194),\n    (247, 182, 210),\n    (127, 127, 127),\n    (199, 199, 199),\n    (188, 189, 34),\n    (219, 219, 141),\n    (23, 190, 207),\n    (158, 218, 229),\n]\n\n# å°†RGBå€¼ç¼©æ”¾åˆ°[0, 1]çš„èŒƒå›´å†…\nfor i in range(len(tableau20)):\n    r, g, b = tableau20[i]\n    tableau20[i] = (r / 255.0, g / 255.0, b / 255.0)\n\n\n\n\nCode\nfig, ax = plt.subplots(figsize=(12, 14), layout=\"constrained\")\n\n# å»é™¤å›¾åƒçš„è¾¹æ¡†\nax.spines[\"top\"].set_visible(False)\nax.spines[\"bottom\"].set_visible(False)\nax.spines[\"right\"].set_visible(False)\nax.spines[\"left\"].set_visible(False)\n\n# ä¿è¯ x è½´åˆ»åº¦å¤„äºåº•éƒ¨\n# ä¿è¯ y è½´åˆ»åº¦å¤„äºå·¦ä¾§\nax.get_xaxis().tick_bottom()\nax.get_yaxis().tick_left()\n\n# è®¾ç½® x y è½´åˆ»åº¦èŒƒå›´ï¼Œé¿å…ä¸å¿…è¦çš„ç©ºç™½\nax.set_ylim([0, 90])\nax.set_xlim([1968, 2014])\n\n# è®¾ç½® x y è½´åˆ»åº¦å’Œåˆ»åº¦æ ‡ç­¾\nax.set_yticks(range(0, 91, 10), [str(x) + \"%\" for x in range(0, 91, 10)], fontsize=14)\nax.set_xticks(\n    range(1970, 2011, 10), [str(x) for x in range(1970, 2011, 10)], fontsize=14\n)\n\n# åœ¨å›¾ä¸Šæä¾›åˆ»åº¦çº¿\n# ä»¥å¸®åŠ©è§‚ä¼—æ²¿ç€åæ ‡è½´åˆ»åº¦è¿›è¡Œè¿½è¸ª\n# å¯ä»¥è®¾ç½®ä¸ºè™šçº¿å’Œæµ…è‰²ï¼Œä»¥å…é®æŒ¡ä¸»è¦çš„æ•°æ®çº¿\nfor y in range(10, 91, 10):\n    ax.plot(\n        range(1968, 2012),\n        [y] * len(range(1968, 2012)),\n        \"--\",\n        lw=0.5,\n        color=\"black\",\n        alpha=0.3,\n    )\n\n# å»é™¤ x y è½´åˆ»åº¦ä¸Šçš„åˆ»åº¦æŒ‡ç¤ºçº¿\nplt.tick_params(\n    axis=\"both\",\n    which=\"both\",\n    bottom=False,\n    top=False,\n    labelbottom=True,\n    left=False,\n    right=False,\n    labelleft=True,\n)\n\nmajors = [\n    \"Health Professions\",\n    \"Public Administration\",\n    \"Education\",\n    \"Psychology\",\n    \"Foreign Languages\",\n    \"English\",\n    \"Communications\\nand Journalism\",\n    \"Art and Performance\",\n    \"Biology\",\n    \"Agriculture\",\n    \"Social Sciences and History\",\n    \"Business\",\n    \"Math and Statistics\",\n    \"Architecture\",\n    \"Physical Sciences\",\n    \"Computer Science\",\n    \"Engineering\",\n]\n\n# ä½¿ç”¨ text() æ–¹æ³•ç²¾ç¡®æ·»åŠ å›¾ä¾‹\nfor rank, column in enumerate(majors):\n    # Plot each line separately with its own color, using the Tableau 20\n    # color set in order.\n    ax.plot(\n        gender_degree_data.Year.values,\n        gender_degree_data[column.replace(\"\\n\", \" \")].values,\n        lw=2.5,\n        color=tableau20[rank],\n    )\n\n    # Add a text label to the right end of every line. Most of the code below\n    # is adding specific offsets y position because some labels overlapped.\n    y_pos = gender_degree_data[column.replace(\"\\n\", \" \")].values[-1] - 0.5\n    if column == \"Foreign Languages\":\n        y_pos += 0.5\n    elif column == \"English\":\n        y_pos -= 0.5\n    elif column == \"Communications\\nand Journalism\":\n        y_pos += 0.75\n    elif column == \"Art and Performance\":\n        y_pos -= 0.25\n    elif column == \"Agriculture\":\n        y_pos += 1.25\n    elif column == \"Social Sciences and History\":\n        y_pos += 0.25\n    elif column == \"Business\":\n        y_pos -= 0.75\n    elif column == \"Math and Statistics\":\n        y_pos += 0.75\n    elif column == \"Architecture\":\n        y_pos -= 0.75\n    elif column == \"Computer Science\":\n        y_pos += 0.75\n    elif column == \"Engineering\":\n        y_pos -= 0.25\n\n    ax.text(2011.5, y_pos, column, fontsize=14, color=tableau20[rank])\n\n# title() æ–¹æ³•ä¼šå°†æ ‡é¢˜å±…ä¸­æ˜¾ç¤ºåœ¨å›¾ä¸Šï¼Œä½†å¹¶ä¸ä¼šå±…ä¸­äºæ•´ä¸ªå›¾å½¢\n# å› æ­¤ä½¿ç”¨ text() æ–¹æ³•æ˜¾ç¤ºæ ‡é¢˜\nax.text(\n    1995,\n    93,\n    \"Percentage of Bachelor's degrees conferred to women in the U.S.A.\"\n    \", by major (1970-2012)\",\n    fontsize=17,\n    ha=\"center\",\n)\n\n# æ ‡ç¤ºæ•°æ®æ¥æºå’Œ copyright\nax.text(\n    1966,\n    -8,\n    \"Data source: nces.ed.gov/programs/digest/2013menu_tables.asp\"\n    \"\\nAuthor: Randy Olson (randalolson.com / @randal_olson)\"\n    \"\\nNote: Some majors are missing because the historical data \"\n    \"is not available for them\",\n    fontsize=10,\n)\n\n# bbox_inches='tight' å»é™¤å›¾åƒè¾¹ç¼˜çš„å¤šä½™ç©ºç™½\n# plt.savefig(\"percent-bachelors-degrees-women-usa.png\", bbox_inches=\"tight\")\nplt.show()"
  },
  {
    "objectID": "posts/2023-12-31-çº¿æ€§ç›¸å…³ä¸æ˜¾è‘—æ€§æ£€éªŒ/index.html",
    "href": "posts/2023-12-31-çº¿æ€§ç›¸å…³ä¸æ˜¾è‘—æ€§æ£€éªŒ/index.html",
    "title": "å¤šå˜é‡çº¿æ€§ç›¸å…³æ€§å¯è§†åŒ–æ–¹æ³•",
    "section": "",
    "text": "from scipy.stats import pearsonr\nimport seaborn as sns\n\n\ndata = sns.load_dataset(\"mpg\")\ndata.head()\n\n\n\n\n\n\n\n\nmpg\ncylinders\ndisplacement\nhorsepower\nweight\nacceleration\nmodel_year\norigin\nname\n\n\n\n\n0\n18.0\n8\n307.0\n130.0\n3504\n12.0\n70\nusa\nchevrolet chevelle malibu\n\n\n1\n15.0\n8\n350.0\n165.0\n3693\n11.5\n70\nusa\nbuick skylark 320\n\n\n2\n18.0\n8\n318.0\n150.0\n3436\n11.0\n70\nusa\nplymouth satellite\n\n\n3\n16.0\n8\n304.0\n150.0\n3433\n12.0\n70\nusa\namc rebel sst\n\n\n4\n17.0\n8\n302.0\n140.0\n3449\n10.5\n70\nusa\nford torino\n\n\n\n\n\n\n\n\nä½¿ç”¨ Pandas.DataFrame.corr è®¡ç®—ç›¸å…³ç³»æ•°çŸ©é˜µ\nä½¿ç”¨ pandas.DataFrame.corr æ–¹æ³•è®¡ç®—ç›¸å…³ç³»æ•°çŸ©é˜µã€‚\n\ncorrelation_matrix = data.corr(numeric_only=True)\n\n\ncorrelation_matrix\n\n\n\n\n\n\n\n\nmpg\ncylinders\ndisplacement\nhorsepower\nweight\nacceleration\nmodel_year\n\n\n\n\nmpg\n1.000000\n-0.775396\n-0.804203\n-0.778427\n-0.831741\n0.420289\n0.579267\n\n\ncylinders\n-0.775396\n1.000000\n0.950721\n0.842983\n0.896017\n-0.505419\n-0.348746\n\n\ndisplacement\n-0.804203\n0.950721\n1.000000\n0.897257\n0.932824\n-0.543684\n-0.370164\n\n\nhorsepower\n-0.778427\n0.842983\n0.897257\n1.000000\n0.864538\n-0.689196\n-0.416361\n\n\nweight\n-0.831741\n0.896017\n0.932824\n0.864538\n1.000000\n-0.417457\n-0.306564\n\n\nacceleration\n0.420289\n-0.505419\n-0.543684\n-0.689196\n-0.417457\n1.000000\n0.288137\n\n\nmodel_year\n0.579267\n-0.348746\n-0.370164\n-0.416361\n-0.306564\n0.288137\n1.000000\n\n\n\n\n\n\n\n\n\nä½¿ç”¨ seaborn.heatmap å¯è§†åŒ–ç›¸å…³ç³»æ•°çŸ©é˜µ\n\nsns.heatmap(correlation_matrix, annot=True, cmap=\"coolwarm\")\n\n\n\n\n\n\n\n\n\n\nä½¿ç”¨ seaborn.pairplot å¯è§†åŒ–å˜é‡ç›¸å…³æ€§\n\nsns.pairplot(\n    data[\n        [\n            \"mpg\",\n            \"weight\",\n            \"horsepower\",\n            \"acceleration\",\n        ]\n    ]\n)\n\n\n\n\n\n\n\n\n\n\nä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°åŒæ—¶è¿”å›ç›¸å…³ç³»æ•°å’Œæ˜¾è‘—æ€§æ£€éªŒç»“æœ\n\ndef corr_p(df):\n    \"\"\"Generates a tuple containing the correlation coefficients matrix and p-values matrix.\n\n    Args:\n        df (dataframe): input dataframe, each column as a feature, each row as an observation\n\n    Returns:\n        res: tuple with correlation coefficients matrix and p_values matrix\n    \"\"\"\n\n    corr_matrix = df.corr(numeric_only=True)\n\n    p_value_matrix = df.corr(numeric_only=True, method=lambda x, y: pearsonr(x, y)[1])\n\n    res = (corr_matrix, p_value_matrix)\n\n    return res\n\n\ndata_trunc = data[\n    [\n        \"mpg\",\n        \"weight\",\n        \"horsepower\",\n        \"acceleration\",\n    ]\n]\n\n\ncorr_p(data_trunc)\n\n(                   mpg    weight  horsepower  acceleration\n mpg           1.000000 -0.831741   -0.778427      0.420289\n weight       -0.831741  1.000000    0.864538     -0.417457\n horsepower   -0.778427  0.864538    1.000000     -0.689196\n acceleration  0.420289 -0.417457   -0.689196      1.000000,\n                         mpg         weight     horsepower  acceleration\n mpg            1.000000e+00  2.972800e-103   7.031989e-81  1.823092e-18\n weight        2.972800e-103   1.000000e+00  1.364347e-118  3.243794e-18\n horsepower     7.031989e-81  1.364347e-118   1.000000e+00  1.581886e-56\n acceleration   1.823092e-18   3.243794e-18   1.581886e-56  1.000000e+00)"
  },
  {
    "objectID": "posts/2023-01-28-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-å¯¼è®º/index.html",
    "href": "posts/2023-01-28-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-å¯¼è®º/index.html",
    "title": "æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-å¯¼è®º",
    "section": "",
    "text": "è¿™ä¸ªç³»åˆ—åšå®¢ï¼ˆè§†é¢‘ï¼‰ä»¥åŒºå—é“¾æŠ€æœ¯æŠ•èµ„å…¬å‘Šæ•ˆåº”åˆ†æä¸ºä¾‹ï¼Œä»å·¨æ½®èµ„è®¯å…¬å‘Šæ•°æ®é‡‡é›†å¼€å§‹ï¼Œä¸€ç›´åˆ°ç´¯è®¡å¼‚å¸¸æ”¶ç›Šç‡çš„æ˜¾è‘—æ€§æ£€éªŒï¼Œä¿å§†çº§ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Python å®ç°äº‹ä»¶ç ”ç©¶æ³•ã€‚\n\n1 äº‹ä»¶ç ”ç©¶æ³•çš„åŸºæœ¬åŸç†\näº‹ä»¶ç ”ç©¶æ³•é›†ä¸­äºæ¢è®¨ç»æµäº‹ä»¶çš„å‘ç”Ÿï¼ˆå¦‚åˆå¹¶ã€æ”¶è´­ã€æ”¶ç›Šå…¬å‘Šæˆ–å†èèµ„è¡Œä¸ºç­‰ï¼‰å¯¹äºå…¬å¸è‚¡ç¥¨ä»·æ ¼å¸¦æ¥çš„å½±å“ï¼Œå½±å“å¯ä½“ç°äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼šå¹³å‡è‚¡ä»·æ•ˆåº”ã€å¸‚åœºæ”¶ç›Šæ–¹å·®çš„å˜åŒ–ï¼ˆåæ˜ è‚¡ä»·æ³¢åŠ¨æ€§çš„å˜åŒ–ï¼‰ã€è‚¡ç¥¨æˆäº¤é‡çš„å˜åŒ–ã€ç»è¥ï¼ˆä¼šè®¡ï¼‰ç»©æ•ˆçš„å˜åŒ–ç­‰ã€‚æ¯”å¦‚ï¼Œä¸Šå¸‚å…¬å¸å‘å¸ƒæ–°å…´æŠ€æœ¯æŠ•èµ„å…¬å‘Šï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™æ ·ä¸€ä¸ªè¡Œä¸ºå®šä¹‰ä¸ºä¸€ä¸ªäº‹ä»¶ï¼Œå…¬å‘Šå‘å¸ƒæ—¥æœŸå®šä¹‰ä¸ºäº‹ä»¶æ—¥ï¼Œå…¬å‘Šä¹‹åçš„ä¸€æ®µæ—¶é—´ï¼Œæ¯”å¦‚ä¸€å‘¨ï¼Œå®šä¹‰ä¸ºäº‹ä»¶çª—å£ã€‚é‚£ä¹ˆæˆ‘ä»¬éœ€è¦æ¢ç©¶ï¼Œå‘å¸ƒæ–°å…´æŠ€æœ¯æŠ•èµ„å…¬å‘Šè¿™æ ·ä¸€ä¸ªäº‹ä»¶ï¼Œåœ¨è¿™ä¸ªäº‹ä»¶çª—å£å†…ï¼Œå¯¹äºæ ·æœ¬å…¬å¸çš„è‚¡ç¥¨ä»·æ ¼æœ‰ä»€ä¹ˆæ ·å½±å“ï¼Œè¿™ç§å½±å“æ˜¯ä¸æ˜¯æ˜¾è‘—çš„ã€‚æˆ‘ä»¬å¯ä»¥å¤§èƒ†çŒœä¸€ä¸‹ï¼Œæ˜¾è‘—çš„æ­£å‘å½±å“ã€‚æ¯•ç«Ÿæ¦‚å¿µç‚’ä½œå’Œè¹­çƒ­åº¦æ˜¯ A è‚¡çš„ä¼ ç»Ÿã€‚åƒåŒºå—é“¾ï¼Œå…ƒå®‡å®™è¿™æ ·çš„æ¦‚å¿µç«äº†ï¼Œå°±æœ‰å¤§é‡å…¬å¸å‘å¸ƒç›¸å…³çš„å…¬å‘Šï¼ŒéŸ­èœä¼šç«ç›¸æ¶Œå…¥ã€‚ä»å¦ä¸€ä¸ªæ–¹é¢ï¼Œå¤§é‡æ–‡çŒ®å’ŒæŠ¥é“ä¹Ÿè¯å®ï¼Œæ–°å…´æŠ€æœ¯æŠ•èµ„ä¼šç»™ä¼ä¸šå¸¦æ¥å„ç§å¥½å¤„ï¼Œä»èŠ‚çœæˆæœ¬åˆ°è¿è¥æ•ˆç‡æå‡ï¼Œå†åˆ°è·å–ç«äº‰ä¼˜åŠ¿ï¼Œæœ€ååˆ°æå‡ä¼ä¸šç»©æ•ˆã€‚å› æ­¤ï¼Œèµ„æœ¬å¸‚åœºå¯èƒ½ä¼šä»ä¼ä¸šè´¢åŠ¡ç»©æ•ˆæå‡è§’åº¦ç»™äºˆæ–°å…´æŠ€æœ¯æŠ•èµ„æ›´åŠ ç§¯æçš„ååº”ã€‚åœ¨å…¬å‘Šå‘å¸ƒä¹‹åï¼Œå¤§é‡çš„æŠ•èµ„è€…å¯èƒ½ä¼šä¹°è¿›è¯¥å…¬å¸çš„è‚¡ç¥¨ï¼Œä»è€Œæ‹‰å‡è‚¡ç¥¨ä»·æ ¼ã€‚\næˆ‘ä»¬ä»äº‹ä»¶ç ”ç©¶çš„è§’åº¦ï¼Œéœ€è¦åˆ†ææ˜¯å¦æ˜¯ç”±å‘å¸ƒæ–°å…´æŠ€æœ¯æŠ•èµ„å…¬å‘Šè¿™æ ·ä¸€ä¸ªäº‹ä»¶å¯¼è‡´äº†æ ·æœ¬å…¬å¸è‚¡ä»·ä¸Šå‡ï¼Œå¹¶æ£€éªŒè¿™ç§ä¸Šå‡åˆ°åº•æ˜¯æ­£å¸¸çš„æ³¢åŠ¨ï¼Œè¿˜æ˜¯æ˜¾è‘—ä¸ºæ­£ã€‚\näº‹ä»¶ç ”ç©¶æ³•çš„åŸºæœ¬å‡è®¾å¦‚ä¸‹ï¼š\n\nğŸ¥‡æœ‰æ•ˆå¸‚åœºå‡è¯´ï¼šè‚¡ç¥¨ä»·æ ¼åæ˜ æ‰€æœ‰å·²çŸ¥å…¬å…±ä¿¡æ¯ï¼Œç†æ€§çš„æŠ•èµ„è€…å¯¹äºæ–°ä¿¡æ¯çš„åæ˜ ä¹Ÿæ˜¯ç†æ€§çš„ï¼›\nğŸ¥ˆäº‹ä»¶éé¢„æœŸï¼šæ‰€ç ”ç©¶äº‹ä»¶æ˜¯å¸‚åœºæœªé¢„æœŸåˆ°çš„ï¼Œå› æ­¤å¼‚å¸¸æ”¶ç›Šå¯ä»¥åº¦é‡è‚¡ä»·å¯¹äº‹ä»¶å‘ç”Ÿæˆ–ä¿¡æ¯æŠ«éœ²å¼‚å¸¸ååº”çš„ç¨‹åº¦ï¼›\nğŸ¥‰æ— æ··å’Œæ•ˆåº”ï¼šæ‰€ç ”ç©¶çš„äº‹ä»¶çª—å£æœŸæ— å…¶ä»–äº‹ä»¶çš„æ··åˆæ•ˆåº”ã€‚\n\næœ‰å…³äº‹ä»¶ç ”ç©¶æ³•çš„åŸºæœ¬å‡è®¾ï¼Œæˆ‘ä»¬éœ€è¦å…³æ³¨ç¬¬ä¸‰ä¸ªï¼Œåœ¨æˆ‘ä»¬æ‰€ç ”ç©¶çš„äº‹ä»¶çª—å£æœŸæ²¡æœ‰å…¶ä»–äº‹ä»¶çš„æ··åˆæ•ˆåº”ã€‚è¿™å°±å¯¹æˆ‘ä»¬çš„æ•°æ®å‡†å¤‡å·¥ä½œæå‡ºäº†è¦æ±‚ï¼Œæˆ‘ä»¬éœ€è¦å‰”é™¤åœ¨äº‹ä»¶çª—å£æœŸå†…æœ‰å…¶ä»–ç»æµäº‹ä»¶å‘ç”Ÿçš„æ ·æœ¬ï¼Œä¸ç„¶ä½ å¾ˆéš¾è¯´æ˜æœ€åçš„ç»“æœæ˜¯ç”±å“ªä¸€ä¸ªäº‹ä»¶å¯¼è‡´çš„ã€‚ä»å¦ä¸€ä¸ªè§’åº¦ï¼Œè¿™ä¹Ÿå¯¹äº‹ä»¶çª—å£çš„é•¿åº¦åšäº†ä¸€å®šç¨‹åº¦ä¸Šçš„é™åˆ¶ã€‚å› ä¸ºæ‰€è¦ç ”ç©¶çš„äº‹ä»¶çª—å£è¶Šé•¿ï¼Œæ¯”å¦‚ä¸€ä¸ªæœˆï¼Œä¸¤ä¸ªæœˆï¼Œç”šè‡³ä¸€å¹´ï¼Œé‚£ä¹ˆäº‹ä»¶çª—å£åŒ…å«å…¶ä»–ç»æµäº‹ä»¶çš„å¯èƒ½æ€§ä¹Ÿè¶Šå¤§ã€‚\n\n\näº‹ä»¶ç ”ç©¶æ³•çš„åŸºæœ¬æ¦‚å¿µ\n\nğŸ˜ºäº‹ä»¶æ—¥ï¼šå°±æ˜¯æˆ‘ä»¬æ‰€ç ”ç©¶çš„äº‹ä»¶æ‰€å‘ç”Ÿçš„æ—¥æœŸï¼Œæ¯”å¦‚åœ¨å…¬å‘Šæ•ˆåº”çš„ç ”ç©¶ä¸­ï¼Œä¸€èˆ¬å°†å…¬å‘Šæ—¥å®šä¹‰ä¸ºäº‹ä»¶æ—¥ï¼›\nğŸ˜¸äº‹ä»¶çª—å£æœŸï¼šæ˜¯æˆ‘ä»¬æ„Ÿå…´è¶£çš„ç ”ç©¶åŒºé—´ï¼Œæˆ‘ä»¬åœ¨äº‹ä»¶çª—å£æœŸå†…æ£€éªŒè‚¡ä»·å¯¹äºç»æµäº‹ä»¶æ˜¯å¦æœ‰å¼‚å¸¸ååº”ï¼›\nğŸ‘½ä¼°è®¡çª—å£ï¼šæ˜¯æˆ‘ä»¬ä¼°è®¡æ­£å¸¸æ”¶ç›Šç‡æ¨¡å‹çš„æ—¶é—´çª—å£ï¼Œæœ‰å¾ˆå¤šæˆç†Ÿçš„æ¨¡å‹ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œæ¯”å¦‚å¸‚åœºæ¨¡å‹ï¼Œä¸‰å› å­æ¨¡å‹ï¼Œæœ‰å…³ä¼°è®¡æ¨¡å‹çš„è¯¦ç»†ä»‹ç»ï¼Œå¤§å®¶å¯ä»¥æŸ¥é˜…ç›¸å…³æ–‡çŒ®ã€‚è¿™é‡Œéœ€è¦å…³æ³¨çš„ä¸€ç‚¹æ˜¯ä¼°è®¡çª—å£çš„é•¿åº¦è®¾ç½®ï¼Œä¸€èˆ¬çš„æƒ¯ä¾‹æ˜¯çª—å£é•¿åº¦åº”å¤§äºç­‰äº 120 å¤©ã€‚ä¼°è®¡çª—å£ä¸å¿…è®¾ç½®è¿‡é•¿ï¼Œä¸€æ—¦è®¾ç½®è¿‡é•¿å¯èƒ½ä¼šå­˜åœ¨éƒ¨åˆ†æ ·æœ¬åœ¨ä¼°è®¡çª—å£å†…æ•°æ®ç¼ºå¤±çš„æƒ…å†µï¼Œéœ€è¦æˆ‘ä»¬å‰”é™¤è¯¥æ ·æœ¬ï¼Œä»è€Œå¯¼è‡´æ ·æœ¬é‡å‡å°‘ï¼›\nğŸ‘¼æ­£å¸¸æ”¶ç›Šç‡ï¼šæ˜¯æ‰€ç ”ç©¶çš„äº‹ä»¶ä¸å‘ç”Ÿï¼Œæ ·æœ¬è‚¡ç¥¨çš„ç†è®ºæ”¶ç›Šç‡ï¼Œç”±æˆ‘ä»¬çš„æ­£å¸¸æ”¶ç›Šç‡æ¨¡å‹ä¼°è®¡å¾—å‡ºï¼›\nğŸå¼‚å¸¸æ”¶ç›Šç‡ï¼šæ ·æœ¬è‚¡ç¥¨çš„å®é™…æ”¶ç›Šç‡ä¸æ­£å¸¸æ”¶ç›Šç‡çš„å·®å€¼ï¼Œååº”æˆ‘ä»¬ç ”ç©¶äº‹ä»¶çš„ç»æµå½±å“ã€‚\n\n\n\näº‹ä»¶ç ”ç©¶æ³•çš„åŸºæœ¬æ­¥éª¤\nåœ¨åç»­çš„åšæ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»¥åŒºå—é“¾æŠ€æœ¯æŠ•èµ„å…¬å‘Šçš„å…¬å‘Šæ•ˆåº”åˆ†æä¸ºä¾‹ï¼Œä½¿ç”¨ Python æ¥å®ç°äº‹ä»¶ç ”ç©¶æ³•ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹äº‹ä»¶ç ”ç©¶æ³•çš„åŸºæœ¬æ­¥éª¤ï¼Œ\né¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰äº‹ä»¶ä¸äº‹ä»¶çª—å£ã€‚ä»¥åŒºå—é“¾æŠ€æœ¯æŠ•èµ„å…¬å‘Šä¸ºä¾‹ï¼Œæˆ‘ä»¬ä»¥å…¬å‘Šå‘å¸ƒæ—¥ä¸ºäº‹ä»¶æ—¥ï¼Œäº‹ä»¶çª—å£æˆ‘ä»¬æ ¹æ®ç ”ç©¶éœ€è¦çµæ´»é€‰æ‹©ã€‚\nç¬¬äºŒï¼Œç ”ç©¶æ ·æœ¬é€‰æ‹©ä¸æ•°æ®å‡†å¤‡ã€‚ä»¥åŒºå—é“¾æŠ€æœ¯æŠ•èµ„å…¬å‘Šä¸ºä¾‹ï¼Œæˆ‘ä»¬ä»¥ 2009 å¹´ 1 æœˆ 1 æ—¥è‡³ 2022 å¹´ 1æœˆ 1 æ—¥å‘å¸ƒåŒºå—é“¾æŠ€æœ¯æŠ•èµ„å…¬å‘Šçš„ä¸Šå¸‚å…¬å¸ä¸ºæ ·æœ¬ã€‚åœ¨è¿™ä¸ªæ—¶é—´åŒºé—´å†…ï¼ŒåŒä¸€å®¶å…¬å¸å¯èƒ½å¤šæ¬¡å‘å¸ƒäº†æœ‰å…³åŒºå—é“¾æŠ€æœ¯æŠ•èµ„çš„å…¬å‘Šï¼Œåœ¨å…¬å‘Šæ•ˆåº”çš„åˆ†æä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬è€ƒè™‘é¦–ä»½å…¬å‘Šã€‚å…³äºæ•°æ®å‡†å¤‡ï¼Œè¿™é‡Œæˆ‘ä»ä¸€ç¯‡æ–‡çŒ®ä¸­æ‘˜äº†ä¸€æ®µè¯ï¼š\n\nç¬¬äºŒæ­¥ï¼Œå¯¹ç”±ç½‘ç»œçˆ¬è™«è·å–çš„æ•°æ®è¿›è¡Œæ¸…æ´—ï¼Œå‰”é™¤æ¸¯è‚¡å’ŒåŸºé‡‘å…¬å¸å…¬å‘Š; å‰”é™¤å¹¶éæ•°å­—æŠ€æœ¯æŠ•èµ„äº‹ä»¶ç›¸å…³å…¬å‘Šï¼Œå¦‚å…¬å¸åç§°ä¸­å«æœ‰æ•°å­—æŠ€æœ¯å…³é”®è¯è€Œå…¥é€‰çš„å…¬å‘Š; å‰”é™¤ ST ç±»å…¬å¸; å‰”é™¤äº‹ä»¶çª—å£æœŸä¸è¶³ 10 å¤©æˆ–ä¼°è®¡çª—å£æœŸä¸è¶³ 120 å¤©çš„å…¬å¸; å‰”é™¤ä¸šç»©é¢„å‘Šã€åˆ†çº¢ã€æ”¶è´­å¹¶è´­ã€é‡ç»„ä»¥åŠå…¶ä»–çªå‘äº‹ä»¶å…¬å‘Šæ—¥è½åœ¨äº‹ä»¶çª—å£æœŸä¹‹å†…æ ·æœ¬å…¬å¸ï¼Œæœ€ç»ˆè·å–çš„æœ‰æ•ˆæ ·æœ¬ä¸º 219 å®¶ä¸Šå¸‚å…¬å¸ã€‚\n\nåœ¨åç»­çš„ä»£ç å®è·µä¸­ï¼Œæˆ‘ä»¬ä¼šæ ¹æ®è¿™æ®µè¯æ¥åšæ•°æ®æ•´ç†ã€‚è¿™é‡Œéœ€è¦å…³æ³¨æœ€åä¸€å¥ï¼Œå‰”é™¤ä¸šç»©é¢„å‘Šã€åˆ†çº¢ã€æ”¶è´­å¹¶è´­ã€é‡ç»„ä»¥åŠå…¶ä»–çªå‘äº‹ä»¶å…¬å‘Šæ—¥è½åœ¨äº‹ä»¶çª—å£æœŸä¹‹å†…çš„æ ·æœ¬å…¬å¸ï¼Œè¿™æ˜¯ä¸ºäº†æ»¡è¶³å‡è®¾ä¸‰ï¼Œåœ¨äº‹ä»¶ç ”ç©¶çª—å£å†…æ²¡æœ‰å…¶ä»–äº‹ä»¶çš„æ··åˆæ•ˆåº”ã€‚åœ¨åç»­çš„åšæ–‡ä¸­ï¼Œæˆ‘ä¼šå‘å¤§å®¶å±•ç¤ºï¼Œå¦‚ä½•ä½¿ç”¨å·¨æ½®èµ„è®¯çš„ api æ¥å®Œæˆè¿™æ­¥æ“ä½œï¼Œä»¥é¿å…ç¹ççš„äººå·¥æ•´ç†ã€‚\nç¬¬ä¸‰ï¼Œæ˜¯ä¼°è®¡æ­£å¸¸æ”¶ç›Šç‡ä¸è®¡ç®—å¼‚å¸¸æ”¶ç›Šç‡ã€‚\næœ€åï¼Œæ˜¯ç´¯è®¡å¼‚å¸¸æ”¶ç›Šç‡çš„è®¡ç®—ä¸æ˜¾è‘—æ€§æ£€éªŒã€‚\n\n\nå‚è€ƒèµ„æ–™\n\nè¢æ˜¾å¹³,æŸ¯å¤§é’¢.äº‹ä»¶ç ”ç©¶æ–¹æ³•åŠå…¶åœ¨é‡‘èç»æµç ”ç©¶ä¸­çš„åº”ç”¨[J].ç»Ÿè®¡ç ”ç©¶,2006(10):31-35.DOI:10.19343/j.cnki.11-1302/c.2006.10.007.\nå­™æ´,æå³°,å¼ å…´åˆš.æ•°å­—æŠ€æœ¯æŠ•èµ„å…¬å‘Šå¯¹ä¼ä¸šå¸‚åœºä»·å€¼çš„å½±å“â€”â€”åŸºäºäº‹ä»¶ç ”ç©¶è§†è§’[J].ç»æµä¸ç®¡ç†ç ”ç©¶,2020,41(11):130-144.DOI:10.13502/j.cnki.issn1000-7636.2020.11.008.\nè¿äº«ä¼š.Stata:çŸ­æœŸäº‹ä»¶ç ”ç©¶æ³•æ•™ç¨‹(Event Study)"
  },
  {
    "objectID": "posts/2023-10-13-matplotlibä¸­çš„figureå¯¹è±¡/index.html",
    "href": "posts/2023-10-13-matplotlibä¸­çš„figureå¯¹è±¡/index.html",
    "title": "è¯¦è§£Matplotlibä¸­çš„figureå¯¹è±¡",
    "section": "",
    "text": "matplotlib ä½¿ç”¨ Artist å¯¹è±¡å¤„ç†ç‚¹ã€çº¿ã€æ–‡å­—ã€å›¾ç‰‡ç­‰å›¾åƒè¦ç´ åœ¨ç»˜å›¾åŒºåŸŸä¸Šå±•ç°çš„ç»†èŠ‚é—®é¢˜ã€‚Artist å¯¹è±¡å¯ä»¥åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šä¸€æ˜¯åŸºç¡€å¯¹è±¡ï¼ŒåŒ…æ‹¬ç‚¹ã€çº¿ã€æ–‡å­—ã€å›¾ç‰‡ç­‰è¦ç´ ï¼›äºŒæ˜¯å®¹å™¨å¯¹è±¡ï¼ŒåŒ…æ‹¬ç”»å¸ƒã€åæ ‡è½´ã€åæ ‡ç³»ç­‰ã€‚å…¶ä¸­ï¼Œç”»å¸ƒ Figure æ˜¯æœ€åŸºç¡€çš„å®¹å™¨å¯¹è±¡ï¼Œæ˜¯å®¹çº³å…¶ä»–ä¸€åˆ‡ Artist å¯¹è±¡çš„åŸºç¡€ã€‚"
  },
  {
    "objectID": "posts/2023-10-13-matplotlibä¸­çš„figureå¯¹è±¡/index.html#å¸¸ç”¨æ–¹æ³•",
    "href": "posts/2023-10-13-matplotlibä¸­çš„figureå¯¹è±¡/index.html#å¸¸ç”¨æ–¹æ³•",
    "title": "è¯¦è§£Matplotlibä¸­çš„figureå¯¹è±¡",
    "section": "å¸¸ç”¨æ–¹æ³•",
    "text": "å¸¸ç”¨æ–¹æ³•\n\nadd_axes\nadd_axes(rect, projection=None, polar=False, **kwargs)ï¼šæ·»åŠ åæ ‡è½´ï¼Œè¿”å› Axes å®ä¾‹\n\nrectï¼šåæ ‡è½´çš„å°ºå¯¸ï¼ˆå·¦è¾¹ç•Œã€åº•è¾¹ç•Œã€å®½åº¦ã€é«˜åº¦ï¼‰ã€‚æ‰€æœ‰çš„æ•°å€¼éƒ½æ˜¯ç›¸å¯¹äºå›¾å½¢å®½åº¦å’Œé«˜åº¦çš„åˆ†æ•°ã€‚\nprojectionï¼šæ•°æ®ç©ºé—´ï¼ˆdata spaceï¼‰å‘å±å¹•ç©ºé—´ï¼ˆscreen spaceï¼‰çš„æ˜ å°„æ–¹å¼\n\n\nåœ¨ç»˜å›¾ä¸­ï¼Œæ•°æ®é€šå¸¸ä»¥æ•°æ®åæ ‡ç³»è¡¨ç¤ºï¼Œè€Œå›¾å½¢æœ€ç»ˆè¦æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œå› æ­¤éœ€è¦è¿›è¡Œåæ ‡å˜æ¢ã€‚å¯åˆ†ç¦»å˜æ¢æ˜¯ä¸€ç§å°†åæ ‡è½´å•ç‹¬å˜æ¢çš„æ–¹å¼ï¼Œä¾‹å¦‚ç¼©æ”¾ã€å¹³ç§»ç­‰ã€‚ä½†æœ‰äº›æƒ…å†µä¸‹ï¼Œéœ€è¦è¿›è¡Œéå¯åˆ†ç¦»å˜æ¢ï¼Œä¾‹å¦‚é€è§†å˜æ¢æˆ–éçº¿æ€§å˜æ¢ï¼Œè¿™äº›å˜æ¢æ— æ³•ç®€å•åœ°é€šè¿‡åˆ†åˆ«å˜æ¢åæ ‡è½´æ¥å®ç°ã€‚matplotlib.projections æ¨¡å—æä¾›äº†å¤„ç†è¿™äº›éå¯åˆ†ç¦»å˜æ¢çš„å·¥å…·å’Œæ–¹æ³•ï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿå®ç°å„ç§å¤æ‚çš„æ•°æ®åˆ°å±å¹•çš„æ˜ å°„ï¼Œä»¥æ»¡è¶³ç»˜å›¾éœ€æ±‚ã€‚è¿™å¯¹äºç»˜åˆ¶å…·æœ‰éæ ‡å‡†åæ ‡ç³»çš„å›¾å½¢æˆ–éœ€è¦ç‰¹æ®Šå˜æ¢çš„å›¾å½¢éå¸¸æœ‰ç”¨ã€‚\n\n\npolarï¼špolar=True ç­‰åŒäº projection='ploar'\n\n\nfig = plt.figure(figsize=(5,4), facecolor='lightslategray')\n# [0, 0, 1, 1] ä¼šé“ºæ»¡æ•´ä¸ªç”»å¸ƒ\nax = fig.add_axes([0, 0, 1, 1])\nax2 = fig.add_axes([0.5, 0.5, 0.2, 0.2])\n\n\n\n\n\n\n\n\n\nfig = plt.figure(figsize=(5,4), facecolor='lightslategray')\n# polar = Trueï¼Œå»ºç«‹æåæ ‡ç³»\nax = fig.add_axes([0, 0, 1, 1], polar=True)\n\n\n\n\n\n\n\n\n\n\nadd_subplot\nadd_subplot(nrows, ncols, index, **kwargs)ï¼šæ·»åŠ å­å›¾åæ ‡è½´ï¼Œè¿”å› Axes å®ä¾‹\n\nnrowsï¼šå­å›¾æ€»è¡Œæ•°\nncolsï¼šå­å›¾æ€»åˆ—æ•°\nindexï¼šå­å›¾ä½ç½®\nprojectionï¼šå­å›¾åæ ‡ç³»å˜æ¢æ–¹å¼\nsharexï¼Œshareyï¼šå…±äº« x/y è½´ï¼Œå…±äº«è½´åˆ»åº¦ã€æ ‡ç­¾ç­‰åæ ‡è½´ç‰¹å¾ç›¸åŒ\n\n\nfig = plt.figure(figsize=(5,4))\n\nax1 = fig.add_subplot(1, 2, 1)\nax2 = fig.add_subplot(1, 2, 2, sharey=ax1)\n\n\n\n\n\n\n\n\n\n\nsubplots\nsubplots(nrows=1, ncols=1, *, sharex=False, sharey=False, squeeze=True, width_ratios=None, height_ratios=None, subplot_kw=None, gridspec_kw=None)ï¼šä»¥ array å½¢å¼è¿”å› Axes å®ä¾‹\n\nsqueezeï¼šæ˜¯å¦å¯¹è¿”å›çš„ Axes array è¿›è¡Œç¼©ç»´å¤„ç†ã€‚å¦‚æœä¸º Falseï¼Œåˆ™ subplots(1,1, squeeze=False) è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ª Axes array\n\n\nfig = plt.figure()\n\nax1, ax2 = fig.subplots(1, 2, sharey=True)\nax1.set_title('Sharing Y axis')\n\nText(0.5, 1.0, 'Sharing Y axis')\n\n\n\n\n\n\n\n\n\n\n\nsubplots_adjust\nsubplots_adjust(left=None, bottom=None, right=None, top=None, wspace=None, hspace=None)ï¼šè°ƒèŠ‚å­å›¾å¸ƒå±€å‚æ•°\n\nleftï¼šå­å›¾å·¦è¾¹ç¼˜ä½ç½®ï¼Œè¡¨ç¤ºä¸ºå›¾ç‰‡å®½åº¦çš„æ¯”ä¾‹\nrightï¼šå­å›¾å³è¾¹ç¼˜ä½ç½®ï¼Œè¡¨ç¤ºä¸ºå›¾ç‰‡å®½åº¦çš„æ¯”ä¾‹\nbottomï¼šå­å›¾ä¸‹è¾¹ç¼˜ä½ç½®ï¼Œè¡¨ç¤ºä¸ºå›¾ç‰‡é«˜åº¦çš„æ¯”ä¾‹\ntopï¼šå­å›¾ä¸Šè¾¹ç¼˜ä½ç½®ï¼Œè¡¨ç¤ºä¸ºå›¾ç‰‡é«˜åº¦çš„æ¯”ä¾‹\nwspaceï¼šå­å›¾é—´ padding çš„å®½åº¦ï¼Œåæ ‡è½´å¹³å‡å®½åº¦çš„æ¯”ä¾‹\nhspaceï¼šå­å›¾é—´ padding çš„é«˜åº¦ï¼Œåæ ‡è½´å¹³å‡é«˜åº¦çš„æ¯”ä¾‹\n\n\nfig = plt.figure(figsize=(10,5))\nfig.subplots_adjust(top=0.5)\nfig.suptitle('test figure')\n\nax = fig.subplots(2,3)\n\n\n\n\n\n\n\n\n\n\nsuptitle\nsuptitle(t, **kwargs)ï¼šä¸º Figure å®ä¾‹æ·»åŠ ä¸€ä¸ªæ ‡é¢˜ï¼Œè¿”å› Text å®ä¾‹\n\ntï¼šæ ‡é¢˜æ–‡å­—\nx å’Œ yï¼šæ ‡é¢˜åæ ‡\nhaï¼šæ ‡é¢˜æ°´å¹³ä½ç½®ï¼Œcenterã€leftã€right\nvaï¼šæ ‡é¢˜å‚ç›´ä½ç½®ï¼Œtopã€centerã€bottomã€baseline\nfontsize ä¸ fontweight\n\n\nfig = plt.figure(facecolor='lightslategray')\n\nax = fig.add_subplot()\nfig.suptitle('test figure', fontweight='bold')\n\nText(0.5, 0.98, 'test figure')\n\n\n\n\n\n\n\n\n\n\n\ntight_layout\ntight_layout(*, pad=1.08, h_pad=None, w_pad=None, rect=None)ï¼šè°ƒèŠ‚å­å›¾ä¹‹é—´å’Œå‘¨å›´çš„é—´è·ï¼Œå¯ä»¥ä½¿å¾—å­å›¾æ˜¾ç¤ºæ›´ç¾è§‚\n\npadï¼šå›¾ç‰‡è¾¹ç¼˜ä¸å­å›¾è¾¹ç¼˜ä¹‹é—´çš„ paddingï¼Œä»¥å­—ä½“å¤§å°çš„æ¯”ä¾‹è¡¨ç¤ºï¼Œé»˜è®¤ 1.08\nh_pad å’Œ w_padï¼šç›¸é‚»å­å›¾è¾¹ç¼˜ä¹‹é—´çš„å¡«å……ï¼ˆé«˜åº¦/å®½åº¦ï¼‰ï¼Œé»˜è®¤ä¸º pad å–å€¼\nrectï¼štuple ï¼ˆleft, bottom, right, topï¼‰ï¼Œ default: ï¼ˆ0, 0, 1, 1ï¼‰\n\n\nfig = plt.figure(figsize=(5,4))\n(ax1, ax2), (ax3, ax4) = fig.subplots(2,2)\n\n\n\n\n\n\n\n\n\nfig = plt.figure(figsize=(5,4))\n(ax1, ax2), (ax3, ax4) = fig.subplots(2,2)\n# ä½¿ç”¨ tight_layoutï¼Œå­å›¾å¸ƒå±€æ›´ç¾è§‚\nfig.tight_layout()\n\n\n\n\n\n\n\n\nå½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨åˆ›å»º Figure å®ä¾‹æ—¶ä½¿ç”¨ layout å‚æ•°ï¼š\n\nfig = plt.figure(figsize=(5,4), layout='tight')\n(ax1, ax2), (ax3, ax4) = fig.subplots(2,2)"
  },
  {
    "objectID": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html",
    "href": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html",
    "title": "WSL2+OhMyZsh+VSCodeå¼€å‘ç¯å¢ƒæ­å»º",
    "section": "",
    "text": "wsl --install\n\n\n# æŸ¥æ‰¾å¯ç”¨å‘è¡Œç‰ˆ\nwsl --list --online\n\n# å®‰è£…å‘è¡Œç‰ˆ\nwsl --install -d Ubuntu-22.04\n\n# åˆ—å‡ºå·²å®‰è£…çš„å‘è¡Œç‰ˆ\nwsl --list --verbose\n\n# è®¾ç½®é»˜è®¤çš„ Linux å‘è¡Œç‰ˆ\nwsl --set-default Ubuntu-22.04\n\n# æ›´æ–° WSL\nwsl --update\n\n# æ£€æŸ¥ WSL çŠ¶æ€\nwsl --status\n\n# æ£€æŸ¥ WSL ç‰ˆæœ¬\nwsl --version\n\n# å…³é—­\nwsl --shutdown\n\n# ç»ˆæ­¢è¿è¡Œ\nwsl --terminate Ubuntu-22.04\n\n# å¯¼å‡ºå‘è¡Œç‰ˆ\nwsl --export &lt;Distribution Name&gt; &lt;FileName&gt;\n\n# å¯¼å…¥å‘è¡Œç‰ˆ\nwsl --import &lt;Distribution Name&gt; &lt;InstallLocation&gt; &lt;FileName&gt;"
  },
  {
    "objectID": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html#wsl-åŸºæœ¬å‘½ä»¤",
    "href": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html#wsl-åŸºæœ¬å‘½ä»¤",
    "title": "WSL2+OhMyZsh+VSCodeå¼€å‘ç¯å¢ƒæ­å»º",
    "section": "",
    "text": "# æŸ¥æ‰¾å¯ç”¨å‘è¡Œç‰ˆ\nwsl --list --online\n\n# å®‰è£…å‘è¡Œç‰ˆ\nwsl --install -d Ubuntu-22.04\n\n# åˆ—å‡ºå·²å®‰è£…çš„å‘è¡Œç‰ˆ\nwsl --list --verbose\n\n# è®¾ç½®é»˜è®¤çš„ Linux å‘è¡Œç‰ˆ\nwsl --set-default Ubuntu-22.04\n\n# æ›´æ–° WSL\nwsl --update\n\n# æ£€æŸ¥ WSL çŠ¶æ€\nwsl --status\n\n# æ£€æŸ¥ WSL ç‰ˆæœ¬\nwsl --version\n\n# å…³é—­\nwsl --shutdown\n\n# ç»ˆæ­¢è¿è¡Œ\nwsl --terminate Ubuntu-22.04\n\n# å¯¼å‡ºå‘è¡Œç‰ˆ\nwsl --export &lt;Distribution Name&gt; &lt;FileName&gt;\n\n# å¯¼å…¥å‘è¡Œç‰ˆ\nwsl --import &lt;Distribution Name&gt; &lt;InstallLocation&gt; &lt;FileName&gt;"
  },
  {
    "objectID": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html#å®‰è£…-zsh-syntax-highlighting-å’Œ-zsh-autosuggestions",
    "href": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html#å®‰è£…-zsh-syntax-highlighting-å’Œ-zsh-autosuggestions",
    "title": "WSL2+OhMyZsh+VSCodeå¼€å‘ç¯å¢ƒæ­å»º",
    "section": "å®‰è£… zsh-syntax-highlighting å’Œ zsh-autosuggestions",
    "text": "å®‰è£… zsh-syntax-highlighting å’Œ zsh-autosuggestions\n# å®‰è£… zsh-syntax-highlighting\ngit clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\n\n# å®‰è£… zsh-autosuggestions\ngit clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions\nä¿®æ”¹ ~/.zshrcï¼š\nplugins=(zsh-syntax-highlighting zsh-autosuggestions)"
  },
  {
    "objectID": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html#å®‰è£…-oh-my-zsh",
    "href": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html#å®‰è£…-oh-my-zsh",
    "title": "WSL2+OhMyZsh+VSCodeå¼€å‘ç¯å¢ƒæ­å»º",
    "section": "å®‰è£… oh-my-zsh",
    "text": "å®‰è£… oh-my-zsh\nsh -c \"$(wget -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"\nå…³äº oh-my-zsh çš„ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼š\n# æ›´æ–°\nomz update\n\n# å¸è½½\nuninstall_oh_my_zsh"
  },
  {
    "objectID": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html#é…ç½®-powerlevel10k-ä¸»é¢˜",
    "href": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html#é…ç½®-powerlevel10k-ä¸»é¢˜",
    "title": "WSL2+OhMyZsh+VSCodeå¼€å‘ç¯å¢ƒæ­å»º",
    "section": "é…ç½® powerlevel10k ä¸»é¢˜",
    "text": "é…ç½® powerlevel10k ä¸»é¢˜\ngit clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k\nç¼–è¾‘ ~/.zshrc é…ç½®æ–‡ä»¶ï¼š\nZSH_THEME=\"powerlevel10k/powerlevel10k\"\næ ¹æ®æç¤ºé…ç½®ä¸»é¢˜ï¼Œåç»­å¯é€šè¿‡ p10k configureè‡ªç”±é…ç½®ã€‚"
  },
  {
    "objectID": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html#ç®¡ç†å¤šç‰ˆæœ¬-python",
    "href": "posts/2024-02-05-WSL2-OhMyZsh-VSCodeå¼€å‘ç¯å¢ƒæ­å»º/index.html#ç®¡ç†å¤šç‰ˆæœ¬-python",
    "title": "WSL2+OhMyZsh+VSCodeå¼€å‘ç¯å¢ƒæ­å»º",
    "section": "ç®¡ç†å¤šç‰ˆæœ¬ Python",
    "text": "ç®¡ç†å¤šç‰ˆæœ¬ Python\nUbuntu 22.04 é»˜è®¤å®‰è£…äº† Python3.10ï¼ˆ/usr/bin/python3.10ï¼‰ï¼Œè€Œæˆ‘ä»¬è‡ªå·±å®‰è£…äº† Python3.12ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ update-alternatives å‘½ä»¤ç®¡ç†ç³»ç»Ÿå­˜åœ¨çš„å¤šä¸ªç‰ˆæœ¬çš„ Pythonã€‚\n# adding the system's default version of Python to update-alternatives\nsudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.10 1\n\n# Set alternative versions for Python3\nsudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.12 2\n\n# List installed versions of Python visible to update-alternatives\nupdate-alternatives --list python3\n\n# Swapping between versions\nupdate-alternatives --config python3"
  },
  {
    "objectID": "posts/2025-01-04-ä¾›åº”é“¾å…±åŒå®¡è®¡çš„æ ·æœ¬å¤„ç†/index.html",
    "href": "posts/2025-01-04-ä¾›åº”é“¾å…±åŒå®¡è®¡çš„æ ·æœ¬å¤„ç†/index.html",
    "title": "ä¾›åº”é“¾å…±åŒå®¡è®¡çš„æ ·æœ¬å¤„ç†",
    "section": "",
    "text": "ä¾›åº”é“¾å…±åŒå®¡è®¡æ˜¯æŒ‡ä¾›åº”é“¾ä¸Šå¤šä¸ªä¼ä¸šå…±äº«åŒä¸€å®¡è®¡æœºæ„æˆ–åŒä¸€å®¡è®¡èµ„æºã€‚ç”±äºä¾›åº”é“¾ä¸Šä¸‹æ¸¸ä¼ä¸šä¹‹é—´å­˜åœ¨é«˜åº¦çš„ä¾èµ–æ€§å’Œåä½œéœ€æ±‚ï¼Œé€‰æ‹©å…±äº«å®¡è®¡å¯ä»¥é™ä½å®¡è®¡æˆæœ¬ã€æé«˜å®¡è®¡æ•ˆç‡ã€‚æ­¤å¤–ï¼Œç›¸å…³ç ”ç©¶è¡¨æ˜ï¼Œä¾›åº”é“¾å…±åŒå®¡è®¡åœ¨å‡å°‘å®¡è®¡é£é™©ä¸å®¡è®¡è´¹ç”¨ã€é™ä½å…¬å¸è´¢åŠ¡é‡è¿°ä¸æå‡å®¡è®¡è´¨é‡ã€æé«˜èµ„æœ¬é…ç½®æ•ˆç‡ä»¥åŠæå‡åŠ³åŠ¨æ”¶å…¥ä»½é¢ç­‰æ–¹é¢å‘æŒ¥ç€ç§¯æçš„å½±å“ä½œç”¨ã€‚\nä¾›åº”é“¾å…±åŒå®¡è®¡çš„å®šä¹‰æœ‰ä¸¤ç§è§’åº¦ï¼Œä¸€ç§æ˜¯ä¾›åº”é“¾ä¸Šä¸¤å®¶ä¼ä¸šå¹´æŠ¥å®¡è®¡æ—¶é€‰æ‹©åŒä¸€å®¶ä¼šè®¡å¸ˆäº‹åŠ¡æ‰€ï¼ˆæ¨æ¸…é¦™ï¼Œ2015ï¼‰ï¼Œå¦ä¸€ç§æ˜¯ç­¾å­—æ³¨å†Œä¼šè®¡å¸ˆä¸ºåŒä¸€äººã€‚ç¬¬ä¸€ç§å®šä¹‰çš„è¦æ±‚ç›¸å¯¹æ›´å®½æ¾ï¼Œèƒ½è·å¾—æ›´å¤šçš„æ ·æœ¬ï¼Œå¤§å¤šæ•°ç ”ç©¶ä¹Ÿéƒ½é€‰æ‹©ç¬¬ä¸€ç§ã€‚æœ¬æ–‡ä¹Ÿé€‰æ‹©ç¬¬ä¸€ç§å®šä¹‰æ¥æ„é€ å…±åŒå®¡è®¡çš„æ ·æœ¬ã€‚\næœ¬æ–‡é€‰å–çš„æ ·æœ¬æœŸé—´ä¸º 2001-2023 å¹´ï¼Œä»¥æŠ«éœ²äº†å‰äº”å¤§å®¢æˆ·ï¼ˆä¾›åº”å•†ï¼‰çš„ A è‚¡ä¸Šå¸‚å…¬å¸ä¸ºåˆå§‹æ ·æœ¬ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå‰”é™¤é‡‘èè¡Œä¸šçš„æ ·æœ¬ã€å‰”é™¤äº¤æ˜“çŠ¶æ€å¼‚å¸¸çš„æ ·æœ¬ã€å‰”é™¤ä¸Šå¸‚æœªæ»¡ä¸€å¹´çš„æ ·æœ¬ã€å‰”é™¤å˜é‡ç¼ºå¤±çš„æ ·æœ¬ï¼Œå€Ÿé‰´æ¨æ¸…é¦™ç­‰ï¼ˆ2015ï¼‰çš„ç ”ç©¶ï¼Œè‹¥ç›®æ ‡ä¼ä¸šåœ¨ä¸€ä¸ªä¼šè®¡å¹´åº¦å†…ä¸å…¶å‰äº”å¤§ä¾›åº”å•†æˆ–å®¢æˆ·ä¸­è‡³å°‘ä¸€å®¶è˜ç”¨åŒä¸€å®¶ä¼šè®¡å¸ˆäº‹åŠ¡æ‰€ï¼Œåˆ™åˆ¤å®šä¸ºå…±åŒå®¡è®¡ã€‚æœ€ç»ˆè·å¾—ä¸ä¸Šæ¸¸ä¾›åº”å•†å…±åŒå®¡è®¡ 98 ä¸ªæ ·æœ¬ï¼Œä¸ä¸‹æ¸¸å®¢æˆ·å…±åŒå®¡è®¡ 153 ä¸ªæ ·æœ¬ï¼Œæ··åˆæ ·æœ¬ 243 ä¸ªã€‚\n\nå‰äº”å¤§ä¾›åº”å•†æ•°æ®\næ•°æ®æ¥æºï¼šå›½æ³°å®‰-å…¬å¸ç ”ç©¶ç³»åˆ—-ä¾›åº”é“¾ç ”ç©¶-ä¸Šå¸‚å…¬å¸ä¾›åº”é“¾ä¿¡æ¯-å‰äº”å¤§ä¾›åº”å•†ä¿¡æ¯è¡¨ï¼Œé€‰æ‹©å‰”é™¤ STã€é‡‘èä¸šï¼ˆè¯ç›‘ä¼š 2012 ç‰ˆåˆ†ç±»ï¼‰çš„å…¨éƒ¨ A è‚¡\n\nå¹´ä»½æ•´ç†ï¼š2001-2023\nå‰”é™¤å®¢æˆ·ä¸ºéä¸Šå¸‚å…¬å¸çš„æ ·æœ¬ã€‚éä¸Šå¸‚å…¬å¸æœªæŠ«éœ²å®¡è®¡æœºæ„ç›¸å…³ä¿¡æ¯ï¼Œæ— æ³•åˆ¤æ–­æ˜¯å¦å…±åŒå®¡è®¡\n\n\nimport pandas as pd\nimport numpy as np\n\n\nraw_data = pd.read_excel(\n    \"./Data/å‰äº”å¤§ä¾›åº”å•†é‡‡è´­ä¿¡æ¯è¡¨2001-2023/SC_TopFivePurchaseInfo.xlsx\",\n    dtype={\"Symbol\": str, \"BusinessSymbol\": str},\n)\n\n\nraw_data.head()\n\n\n\n\n\n\n\n\nSymbol\nEndDate\nStateTypeCode\nRank\nBusinessInstitutionID\nInstitutionName\nIsListed\nBusinessSymbol\nProportionOfTotalValue\n\n\n\n\n0\n000002\n2001-12-31\n1\n6\nNaN\nåˆè®¡\nN\nNaN\n27.48\n\n\n1\n000002\n2002-12-31\n1\n6\nNaN\nåˆè®¡\nN\nNaN\n22.67\n\n\n2\n000002\n2003-12-31\n1\n6\nNaN\nåˆè®¡\nN\nNaN\n26.96\n\n\n3\n000002\n2004-12-31\n1\n6\nNaN\nåˆè®¡\nN\nNaN\n26.46\n\n\n4\n000002\n2005-12-31\n1\n6\nNaN\nåˆè®¡\nN\nNaN\n21.70\n\n\n\n\n\n\n\n\n# é€‰æ‹©ä¾›åº”å•†ä¸ºä¸Šå¸‚å…¬å¸çš„æ ·æœ¬ï¼Œä¾›åº”å•†ä¸ºä¸Šå¸‚å…¬å¸æ‰èƒ½è·å–å®¡è®¡ä¿¡æ¯\ndata_cleaned_by_supplier = raw_data.query(\"IsListed == 'Y'\")\n# è€ƒè™‘åˆå¹¶æŠ¥è¡¨\ndata_cleaned_by_stateTypeCode = data_cleaned_by_supplier.query(\n    \"StateTypeCode == 1\"\n).reset_index(drop=True)\n\ndata_cleaned_by_stateTypeCode = data_cleaned_by_stateTypeCode.loc[\n    :, [\"Symbol\", \"EndDate\", \"BusinessSymbol\", \"ProportionOfTotalValue\"]\n]\n\n\n# ä¸ªè‚¡ä¿¡æ¯æ•°æ®\nstock_info = pd.read_excel(\n    \"./Data/ä¸Šå¸‚å…¬å¸åŸºæœ¬ä¿¡æ¯å¹´åº¦è¡¨2000-2023/STK_LISTEDCOINFOANL.xlsx\",\n    dtype={\"Symbol\": str, \"PROVINCECODE\": str, \"CITYCODE\": str},\n)\n\n\nstock_info.head()\n\n\n\n\n\n\n\n\nSymbol\nShortName\nEndDate\nListedCoID\nIndustryName\nIndustryCode\nPROVINCECODE\nCITYCODE\nLISTINGSTATE\n\n\n\n\n0\n000002\næ·±ä¸‡ç§‘A\n2000-12-31\n101775\næˆ¿åœ°äº§å¼€å‘ä¸ç»è¥ä¸š\nJ01\n440000\n440300\næ­£å¸¸ä¸Šå¸‚\n\n\n1\n000002\næ·±ä¸‡ç§‘A\n2001-12-31\n101775\næˆ¿åœ°äº§å¼€å‘ä¸ç»è¥ä¸š\nJ01\n440000\n440300\næ­£å¸¸ä¸Šå¸‚\n\n\n2\n000002\nä¸‡ç§‘A\n2002-12-31\n101775\næˆ¿åœ°äº§å¼€å‘ä¸ç»è¥ä¸š\nJ01\n440000\n440300\næ­£å¸¸ä¸Šå¸‚\n\n\n3\n000002\nä¸‡ç§‘A\n2003-12-31\n101775\næˆ¿åœ°äº§å¼€å‘ä¸ç»è¥ä¸š\nJ01\n440000\n440300\næ­£å¸¸ä¸Šå¸‚\n\n\n4\n000002\nä¸‡ç§‘A\n2004-12-31\n101775\næˆ¿åœ°äº§å¼€å‘ä¸ç»è¥ä¸š\nJ01\n440000\n440300\næ­£å¸¸ä¸Šå¸‚\n\n\n\n\n\n\n\n\nstock_info = stock_info.loc[:, [\"Symbol\", \"EndDate\", \"IndustryCode\", \"LISTINGSTATE\"]]\n# åˆå¹¶ data_cleaned_by_stateTypeCode ä¸ stock_info è·å–è¡Œä¸šå’Œä¸Šå¸‚æƒ…å†µä¿¡æ¯\nsample_merged_with_info = data_cleaned_by_stateTypeCode.merge(\n    stock_info, how=\"left\", on=[\"Symbol\", \"EndDate\"]\n)\n\n\nsample_merged_with_info.head()\n\n\n\n\n\n\n\n\nSymbol\nEndDate\nBusinessSymbol\nProportionOfTotalValue\nIndustryCode\nLISTINGSTATE\n\n\n\n\n0\n000004\n2012-12-31\n301093\n4.30\nC27\næ­£å¸¸ä¸Šå¸‚\n\n\n1\n000004\n2014-12-31\n002099\n2.08\nC27\næ­£å¸¸ä¸Šå¸‚\n\n\n2\n000004\n2016-12-31\n301093\n1.09\nC27\næ­£å¸¸ä¸Šå¸‚\n\n\n3\n000009\n2013-12-31\n600998\n2.48\nS90\næ­£å¸¸ä¸Šå¸‚\n\n\n4\n000010\n2012-12-31\n300820\n8.04\nC35\næ­£å¸¸ä¸Šå¸‚\n\n\n\n\n\n\n\n\n# å‰”é™¤ ST *ST\nsample_excluded_ST = sample_merged_with_info.query(\n    \"LISTINGSTATE == 'æ­£å¸¸ä¸Šå¸‚'\"\n).reset_index(drop=True)\n\n\n# å¤„ç†ä¸Šæ¸¸ä¾›åº”å•†çš„è‚¡ç¥¨ä»£ç \n# éƒ¨åˆ†ä¾›åº”å•†åŒæ—¶åœ¨é¦™æ¸¯å’Œå†…åœ°ä¸Šå¸‚ã€å‘è¡Œ B è‚¡ã€åœ¨ç¾å›½ä¸Šå¸‚ç­‰ç­‰ï¼ŒBusinessSymbol ä»£ç éœ€è¦å¤„ç†\ndef filter_ticker(ticker):\n    return len(ticker) == 6\n\n\n# æŸ¥çœ‹ BusinessSymbol é 6 ä½çš„æ ·æœ¬\nbusiness_symbol = sample_excluded_ST.loc[\n    ~sample_excluded_ST.BusinessSymbol.apply(lambda ticker: filter_ticker(ticker)), :\n].BusinessSymbol.unique()\n\n\nbusiness_symbol\n\narray(['000898;00347', '02318;601318;82318', '00338;600688;SHI', '01606',\n       '01099', '01066', '000338;02338', '01898;601898', '01072;600875',\n       '01786', '06869;601869', '000761;200761', '02600;601600;ACH',\n       '02088', '00570', '688223;JKS', '01171;600188', '002202;02208',\n       '00857;601857;PTR', '000030;200030', '01727', '01800;601800',\n       '01033;600871', '00386;600028;SNP', '01133', '000581;200581',\n       '02607;601607', '02196;600196', '00564;601717', '02170', '04333',\n       '600819;900918', '000012;200012', 'SGOC', '02899;601899',\n       '06655;600801', 'CCIH', '00358;600362', 'JASO', '000553;200553',\n       '03988;04619;601988', '000726;200726', '002594;01211;81211',\n       '03996;601868', '02727;601727', '600776;900941', 'LDK', '00438',\n       '01055;600029;ZNH', '00753;601111;AIRC', '00670;600115;CEA',\n       '600221;900945', '00981;688981;SMI', '01385;688385',\n       '00728;601728;CHA', '600663;900932', 'JD', '01527', '002460;01772',\n       'VNET', '5FI', '01053;601005', '00323;600808', '06881;601881',\n       '870800;920016', '06127;603127', '01088;601088', '000157;01157',\n       '01354', '01398;04620;601398', '09988;89988;BABA', '00992;80992',\n       '06066;601066', '01186;601186', '002466;09696', '00568;002490',\n       '000333;00300', '000756;00719', '06188', '000521;200521', '04335'],\n      dtype=object)\n\n\n\n# è·å– A è‚¡åˆ—è¡¨\nstocks_array = stock_info.Symbol.unique()\n\n\n# å¦‚æœå®¢æˆ· BusinessSymbol åˆ—ä¸­çš„ä»£ç åœ¨è‚¡ç¥¨åˆ—è¡¨ä¸­ï¼Œåˆ™è¿”å› True\ndef filter_customer(symbol):\n    symbol_list = symbol.split(\";\")\n    for s in symbol_list:\n        if s in stocks_array:\n            return True\n    return False\n\n\nsample_excluded = sample_excluded_ST.loc[\n    sample_excluded_ST.BusinessSymbol.apply(lambda symbol: filter_customer(symbol)), :\n].reset_index(drop=True)\n\n\nsample_excluded.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 1791 entries, 0 to 1790\nData columns (total 6 columns):\n #   Column                  Non-Null Count  Dtype  \n---  ------                  --------------  -----  \n 0   Symbol                  1791 non-null   object \n 1   EndDate                 1791 non-null   object \n 2   BusinessSymbol          1791 non-null   object \n 3   ProportionOfTotalValue  1773 non-null   float64\n 4   IndustryCode            1791 non-null   object \n 5   LISTINGSTATE            1791 non-null   object \ndtypes: float64(1), object(5)\nmemory usage: 84.1+ KB\n\n\n\n# å¤„ç† BusinessSymbol\ndef customer(symbol):\n    symbol_list = symbol.split(\";\")\n    for s in symbol_list:\n        if s in stocks_array:\n            return s\n\n\nsample_excluded.loc[:, \"BusinessTicker\"] = sample_excluded.BusinessSymbol.apply(\n    lambda symbol: customer(symbol)\n)\n\n\nfinal = sample_excluded.drop(columns=[\"BusinessSymbol\"])\n\n\nfinal.to_csv(\"./Result/ä¸Šå¸‚å…¬å¸å‰äº”å¤§ä¾›åº”å•†æ•°æ®.csv\", index=False)\n\n\n\nå‰äº”å¤§å®¢æˆ·æ•°æ®\n\nraw_data = pd.read_excel(\n    \"./Data/å‰äº”å¤§å®¢æˆ·é”€å”®ä¿¡æ¯è¡¨2001-2023/SC_TopFiveSaleInfo.xlsx\",\n    dtype={\"Symbol\": str, \"BusinessSymbol\": str},\n)\n\n\n# é€‰æ‹©å®¢æˆ·ä¸ºä¸Šå¸‚å…¬å¸çš„æ ·æœ¬ï¼Œå®¢æˆ·ä¸ºä¸Šå¸‚å…¬å¸æ‰èƒ½è·å–å®¡è®¡ä¿¡æ¯\ndata_cleaned_by_customer = raw_data.query(\"IsListed == 'Y'\")\n\n# è€ƒè™‘åˆå¹¶æŠ¥è¡¨\ndata_cleaned_by_stateTypeCode = data_cleaned_by_customer.query(\n    \"StateTypeCode == 1\"\n).reset_index(drop=True)\n\ndata_cleaned_by_stateTypeCode = data_cleaned_by_stateTypeCode.loc[\n    :, [\"Symbol\", \"EndDate\", \"BusinessSymbol\", \"ProportionOfTotalValue\"]\n]\n\n\n# åˆå¹¶ data_cleaned_by_stateTypeCode ä¸ stock_info è·å–è¡Œä¸šå’Œä¸Šå¸‚æƒ…å†µä¿¡æ¯\nsample_merged_with_info = data_cleaned_by_stateTypeCode.merge(\n    stock_info, how=\"left\", on=[\"Symbol\", \"EndDate\"], validate=\"m:1\"\n)\n\n\n# å‰”é™¤ ST *ST\nsample_excluded_ST = sample_merged_with_info.query(\n    \"LISTINGSTATE == 'æ­£å¸¸ä¸Šå¸‚'\"\n).reset_index(drop=True)\n\n\nsample_excluded = sample_excluded_ST.loc[\n    sample_excluded_ST.BusinessSymbol.apply(lambda symbol: filter_customer(symbol)), :\n].reset_index(drop=True)\n\n\nsample_excluded.loc[:, \"BusinessTicker\"] = sample_excluded.BusinessSymbol.apply(\n    lambda symbol: customer(symbol)\n)\n\n\nfinal = sample_excluded.drop(columns=[\"BusinessSymbol\"])\nfinal.to_csv(\"./Result/ä¸Šå¸‚å…¬å¸å‰äº”å¤§å®¢æˆ·æ•°æ®.csv\", index=False)\n\n\n\nä¸ä¸Šæ¸¸ä¾›åº”å•†å…±åŒå®¡è®¡\n\naudit_data = pd.read_excel(\n    \"./Data/å®¡è®¡æ„è§è¡¨æ–‡ä»¶1990-2023/FIN_Audit.xlsx\",\n    dtype={\"Stkcd\": str, \"DadtunitID\": str},\n)\n\n\naudit_data.rename(\n    columns={\"Stkcd\": \"Symbol\", \"Dcost\": \"auditFee\", \"DadtunitID\": \"auditID\"},\n    inplace=True,\n)\n\n# åŸæ•°æ®ä¸­æœ‰åŠå¹´æŠ¥çš„æ•°æ®ï¼Œéœ€è¦å‰”é™¤\naudit_data.loc[:, \"month\"] = (\n    audit_data.Accper.str.split(\"-\", expand=True).iloc[:, 1].astype(\"int64\")\n)\naudit_data_dropna = (\n    audit_data.query(\"month == 12\").dropna(subset=[\"auditID\"]).reset_index(drop=True)\n)\n\n\n# çœ‹çœ‹æ˜¯å¦æœ‰é‡å¤å€¼\naudit_data_dropna.loc[audit_data_dropna.loc[:, [\"Symbol\", \"Accper\"]].duplicated(), :]\n\n\n\n\n\n\n\n\nSymbol\nStknme\nAccper\nAnnodt\nDadtunit\nauditFee\nauditID\nmonth\n\n\n\n\n\n\n\n\n\n\naudit = audit_data_dropna.loc[:, [\"Symbol\", \"Accper\", \"auditID\", \"auditFee\"]]\n\n\naudit.rename(columns={\"Accper\": \"EndDate\"}, inplace=True)\naudit.head()\n\n\n\n\n\n\n\n\nSymbol\nEndDate\nauditID\nauditFee\n\n\n\n\n0\n000002\n1992-12-31\n107286\nNaN\n\n\n1\n000002\n1993-12-31\n107286\nNaN\n\n\n2\n000002\n1994-12-31\n107286\nNaN\n\n\n3\n000002\n1995-12-31\n107286\nNaN\n\n\n4\n000002\n1996-12-31\n107286\nNaN\n\n\n\n\n\n\n\n\nsample_raw = pd.read_csv(\n    \"./Result/ä¸Šå¸‚å…¬å¸å‰äº”å¤§ä¾›åº”å•†æ•°æ®.csv\",\n    dtype={\n        \"Symbol\": str,\n        \"BusinessTicker\": str,\n    },\n)\n\n\n# ç»™ä¸Šå¸‚å…¬å¸æ ·æœ¬æ·»åŠ å®¡è®¡å¸ˆä¿¡æ¯\nsample_with_audit = sample_raw.merge(\n    audit, how=\"left\", on=[\"Symbol\", \"EndDate\"], validate=\"m:1\"\n)\n\n\n# ç»™ä¾›åº”å•†æ·»åŠ å®¡è®¡å¸ˆä¿¡æ¯\ndata_with_audit = sample_with_audit.merge(\n    audit,\n    how=\"left\",\n    left_on=[\"BusinessTicker\", \"EndDate\"],\n    right_on=[\"Symbol\", \"EndDate\"],\n    suffixes=(\"_sample\", \"_supplier\"),\n)\n\n\n# å‰”é™¤å®¡è®¡å¸ˆäº‹åŠ¡æ‰€ä¿¡æ¯ç¼ºå¤±çš„æ ·æœ¬\ndata_excluded_na = data_with_audit.dropna(\n    how=\"any\", subset=[\"auditID_sample\", \"auditID_supplier\"], axis=0\n).reset_index(drop=True)\n\n\ndata_excluded_na.loc[:, \"audit_common_temp\"] = (\n    data_excluded_na.auditID_sample == data_excluded_na.auditID_supplier\n)\n\nsample = data_excluded_na.groupby([\"Symbol_sample\", \"EndDate\", \"IndustryCode\"]).agg(\n    {\n        \"audit_common_temp\": \"sum\",\n    }\n)\n\nsample.reset_index(inplace=True)\nsample.loc[:, \"å…±åŒå®¡è®¡\"] = [0 if i == 0 else 1 for i in sample.audit_common_temp]\nsample.drop(columns=[\"audit_common_temp\"], inplace=True)\n\n\nsample.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 1188 entries, 0 to 1187\nData columns (total 4 columns):\n #   Column         Non-Null Count  Dtype \n---  ------         --------------  ----- \n 0   Symbol_sample  1188 non-null   object\n 1   EndDate        1188 non-null   object\n 2   IndustryCode   1188 non-null   object\n 3   å…±åŒå®¡è®¡           1188 non-null   int64 \ndtypes: int64(1), object(3)\nmemory usage: 37.2+ KB\n\n\n\nsum(sample.loc[:, \"å…±åŒå®¡è®¡\"])\n\n98\n\n\n\nsample.to_csv(\"./Result/ä¸ä¸Šæ¸¸ä¾›åº”å•†å…±åŒå®¡è®¡.csv\", index=False)\n\n\n\nä¸ä¸‹æ¸¸å®¢æˆ·å…±åŒå®¡è®¡\n\nsample_raw = pd.read_csv(\n    \"./Result/ä¸Šå¸‚å…¬å¸å‰äº”å¤§å®¢æˆ·æ•°æ®.csv\",\n    dtype={\n        \"Symbol\": str,\n        \"BusinessTicker\": str,\n    },\n)\n\n\n# ç»™ä¸Šå¸‚å…¬å¸æ ·æœ¬æ·»åŠ å®¡è®¡å¸ˆä¿¡æ¯\nsample_with_audit = sample_raw.merge(\n    audit, how=\"left\", on=[\"Symbol\", \"EndDate\"], validate=\"m:1\"\n)\n\n# ç»™å®¢æˆ·æ·»åŠ å®¡è®¡å¸ˆä¿¡æ¯\ndata_with_audit = sample_with_audit.merge(\n    audit,\n    how=\"left\",\n    left_on=[\"BusinessTicker\", \"EndDate\"],\n    right_on=[\"Symbol\", \"EndDate\"],\n    suffixes=(\"_sample\", \"_customer\"),\n)\n\n\n# å‰”é™¤å®¡è®¡å¸ˆäº‹åŠ¡æ‰€ä¿¡æ¯ç¼ºå¤±çš„æ ·æœ¬\ndata_excluded_na = data_with_audit.dropna(\n    how=\"any\", subset=[\"auditID_sample\", \"auditID_customer\"], axis=0\n).reset_index(drop=True)\n\ndata_excluded_na.loc[:, \"audit_common_temp\"] = (\n    data_excluded_na.auditID_sample == data_excluded_na.auditID_customer\n)\n\nsample = data_excluded_na.groupby([\"Symbol_sample\", \"EndDate\", \"IndustryCode\"]).agg(\n    {\n        \"audit_common_temp\": \"sum\",\n    }\n)\n\n\nsample.reset_index(inplace=True)\nsample.loc[:, \"å…±åŒå®¡è®¡\"] = [0 if i == 0 else 1 for i in sample.audit_common_temp]\nsample.drop(columns=[\"audit_common_temp\"], inplace=True)\n\n\nsample.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 1576 entries, 0 to 1575\nData columns (total 4 columns):\n #   Column         Non-Null Count  Dtype \n---  ------         --------------  ----- \n 0   Symbol_sample  1576 non-null   object\n 1   EndDate        1576 non-null   object\n 2   IndustryCode   1576 non-null   object\n 3   å…±åŒå®¡è®¡           1576 non-null   int64 \ndtypes: int64(1), object(3)\nmemory usage: 49.4+ KB\n\n\n\nsum(sample.loc[:, \"å…±åŒå®¡è®¡\"])\n\n153\n\n\n\nsample.to_csv(\"./Result/ä¸ä¸‹æ¸¸å®¢æˆ·å…±åŒå®¡è®¡.csv\", index=False)\n\n\n\næ··åˆæ ·æœ¬\n\nsales_sample = pd.read_csv(\n    \"./Result/ä¸ä¸‹æ¸¸å®¢æˆ·å…±åŒå®¡è®¡.csv\", dtype={\"Symbol_sample\": str}\n)\nsupplier_sample = pd.read_csv(\n    \"./Result/ä¸ä¸Šæ¸¸ä¾›åº”å•†å…±åŒå®¡è®¡.csv\", dtype={\"Symbol_sample\": str}\n)\n\n\n# å°†ä¸ä¸Šæ¸¸ä¾›åº”å•†å…±åŒå®¡è®¡çš„æ ·æœ¬å’Œä¸‹æ¸¸å®¢æˆ·å…±åŒå®¡è®¡çš„æ ·æœ¬åˆå¹¶åœ¨ä¸€èµ·ï¼Œæ¶‰åŠåˆ°ä¸€ä¸ªé—®é¢˜ï¼šæœ‰çš„æ ·æœ¬æ—¢ä¸ä¸Šæ¸¸ä¾›åº”å•†å…±åŒå®¡è®¡ï¼Œåˆä¸ä¸‹æ¸¸å®¢æˆ·å…±åŒå®¡è®¡ã€‚\nsample = sales_sample.merge(\n    supplier_sample,\n    how=\"outer\",\n    on=[\"Symbol_sample\", \"EndDate\", \"IndustryCode\"],\n    suffixes=[\"_customer\", \"_supplier\"],\n)\n\nsample.fillna(0, inplace=True)\n\n\nsample\n\n\n\n\n\n\n\n\nSymbol_sample\nEndDate\nIndustryCode\nå…±åŒå®¡è®¡_customer\nå…±åŒå®¡è®¡_supplier\n\n\n\n\n0\n000004\n2014-12-31\nC27\n0.0\n0.0\n\n\n1\n000006\n2014-12-31\nK70\n0.0\n0.0\n\n\n2\n000006\n2015-12-31\nK70\n1.0\n0.0\n\n\n3\n000007\n2017-12-31\nK70\n0.0\n0.0\n\n\n4\n000007\n2018-12-31\nK70\n0.0\n0.0\n\n\n...\n...\n...\n...\n...\n...\n\n\n2552\n873223\n2023-12-31\nC34\n0.0\n0.0\n\n\n2553\n873305\n2022-12-31\nC33\n0.0\n0.0\n\n\n2554\n873305\n2023-12-31\nC33\n0.0\n0.0\n\n\n2555\n873593\n2023-12-31\nC38\n0.0\n0.0\n\n\n2556\n873726\n2023-12-31\nC35\n0.0\n0.0\n\n\n\n\n2557 rows Ã— 5 columns\n\n\n\n\nsample.loc[:, \"auditCom_temp\"] = (\n    sample.loc[:, \"å…±åŒå®¡è®¡_customer\"] + sample.loc[:, \"å…±åŒå®¡è®¡_supplier\"]\n)\nsample = sample.loc[:, [\"Symbol_sample\", \"EndDate\", \"IndustryCode\", \"auditCom_temp\"]]\n\n\nsample.loc[:, \"auditCom\"] = [0 if i == 0 else 1 for i in sample.auditCom_temp]\nsample.query(\"auditCom == 1\")\n\n\n\n\n\n\n\n\nSymbol_sample\nEndDate\nIndustryCode\nauditCom_temp\nauditCom\n\n\n\n\n2\n000006\n2015-12-31\nK70\n1.0\n1\n\n\n5\n000009\n2012-12-31\nS90\n1.0\n1\n\n\n6\n000009\n2013-12-31\nS90\n2.0\n1\n\n\n7\n000009\n2014-12-31\nS90\n1.0\n1\n\n\n12\n000011\n2019-12-31\nK70\n1.0\n1\n\n\n...\n...\n...\n...\n...\n...\n\n\n2409\n688737\n2021-12-31\nC26\n1.0\n1\n\n\n2441\n831961\n2022-12-31\nC40\n1.0\n1\n\n\n2467\n833580\n2023-12-31\nC30\n1.0\n1\n\n\n2493\n835892\n2023-12-31\nC35\n1.0\n1\n\n\n2495\n835985\n2023-12-31\nC38\n1.0\n1\n\n\n\n\n243 rows Ã— 5 columns\n\n\n\n\nfinal = sample.drop(columns=[\"auditCom_temp\"])\nfinal.to_csv(\"./Result/æ··åˆæ ·æœ¬.csv\", index=False)"
  },
  {
    "objectID": "posts/2023-04-05-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-çˆ¬å–å·¨æ½®èµ„è®¯å…¬å‘ŠPDFæ–‡ä»¶/index.html",
    "href": "posts/2023-04-05-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-çˆ¬å–å·¨æ½®èµ„è®¯å…¬å‘ŠPDFæ–‡ä»¶/index.html",
    "title": "æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-çˆ¬å–å·¨æ½®èµ„è®¯å…¬å‘ŠPDFæ–‡ä»¶",
    "section": "",
    "text": "è¿™ç¯‡åšå®¢ï¼ˆè§†é¢‘ï¼‰è®°å½•ä»å·¨æ½®èµ„è®¯çˆ¬å–ç›¸å…³å…¬å‘Šçš„ PDF æ–‡ä»¶ã€‚ \n\nimport logging\nimport os\nimport time\nimport requests\nimport pandas as pd\nfrom concurrent.futures import ThreadPoolExecutor\n\n\ndata = pd.read_csv('./data/final.csv', dtype={'secCode':str})\n\n\ndata.head()\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\n\n\n\n\n0\n002152\nå¹¿ç”µè¿é€š\n9900003423\nå¹¿ç”µè¿é€šï¼š2016å¹´4æœˆ1æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-06\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n9ã€å…¬å¸æè¿‡æœ‰å‚¨å¤‡åŒºå—é“¾æŠ€æœ¯ï¼Œæ˜¯å¦å¯ä»¥ä»‹ç»ï¼Ÿ\n\n\n1\n002177\nå¾¡é“¶è‚¡ä»½\n9900003781\nå¾¡é“¶è‚¡ä»½ï¼š2016å¹´4æœˆ21æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-21\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n4ã€å…¬å¸åœ¨åŒºå—é“¾æŠ€æœ¯ä¸Šæœªæ¥æœ‰ä»€ä¹ˆè§„åˆ’ï¼Ÿ\n\n\n2\n300386\né£å¤©è¯šä¿¡\n9900023058\né£å¤©è¯šä¿¡ï¼š2016å¹´4æœˆ22æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-25\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\nå…¬å¸åœ¨åŒºå—é“¾éƒ¨åˆ†å¦‚ä½•å¸ƒå±€?\n\n\n3\n300423\né²äº¿é€š\n9900028812\né²äº¿é€šï¼šå…³äºæœ¬æ¬¡äº¤æ˜“å‰12ä¸ªæœˆå†…è´­ä¹°ã€å‡ºå”®èµ„äº§çš„è¯´æ˜\n2016-06-09\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nåŒæ—¶ï¼Œä¸Šå¸‚å…¬å¸æ‹Ÿé‡‡ç”¨å®šä»·å‘è¡Œçš„æ–¹å¼å‘çºªæ³•æ¸…ã€å­”å‰‘å¹³ã€å­™å¥‡é”‹ã€ç‹éº’è¯šå’Œä¸­ä¿¡å»ºæŠ•-æ•°è´æ³½åäººå·¥æ™º...\n\n\n4\n000961\nä¸­å—å»ºè®¾\ngssz0000961\nä¸­å—å»ºè®¾ï¼šå…³äºæœ¬å…¬å¸æŠ•èµ„ä¸Šæµ·æ‰¿æ³°ä¿¡æ¯ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸çš„è¿›å±•å…¬å‘Š\n2016-06-23\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nï¼Œä»¥åŒºå—é“¾æŠ€æœ¯å¤„ç†ç›å¨œèŠ±å›­ä¸åŒç‰ˆæœ¬çš„ä¸ªäººæ•°æ®ï¼Œå½¢æˆå¯¹æ•°æ®ä¿¡æ¯çš„å®‰å…¨ä¿æŠ¤ã€‚\n\n\n\n\n\n\n\n\ndata.iloc[4,5]\n\n'http://static.cninfo.com.cn/finalpage/2016-06-23/1202387515.PDF'\n\n\n\ndef get_announcement(s, url, secName):\n    try:\n        r = s.get(url)\n        filename = str(secName) + \".pdf\" \n         # æ³¨æ„è¦ç”¨'wb', bè¡¨ç¤ºäºŒè¿›åˆ¶ï¼Œä¸è¦ç”¨'w'\n        with open(filename, 'wb') as f: \n             # r.content -&gt; requestsä¸­çš„äºŒè¿›åˆ¶å“åº”å†…å®¹ï¼šä»¥å­—èŠ‚çš„æ–¹å¼è®¿é—®è¯·æ±‚å“åº”ä½“\n            f.write(r.content)                                 \n    except Exception as e:\n        logging.warning(secName, e)\n        time.sleep(random.random()*5)\n\n\nos.chdir(\"announcements\")\nurl = data.loc[:, \"adjunctUrl\"]\nsecName = data.loc[:, \"secName\"]\n\nwith ThreadPoolExecutor(max_workers=8) as pool:\n    with requests.Session() as s:\n        futures = [pool.submit(get_announcement, s, url, secName) for url,secName in zip(url, secName)]"
  },
  {
    "objectID": "posts/2023-08-01-Pandas-Tips-ä½¿ç”¨queryå®ç°ä¼˜é›…çš„æŸ¥è¯¢/index.html",
    "href": "posts/2023-08-01-Pandas-Tips-ä½¿ç”¨queryå®ç°ä¼˜é›…çš„æŸ¥è¯¢/index.html",
    "title": "Pandas Tips: ä½¿ç”¨queryå®ç°ä¼˜é›…çš„æŸ¥è¯¢",
    "section": "",
    "text": "è¿™ç¯‡åšå®¢ä»‹ç» Pandas query å‡½æ•°çš„ä½¿ç”¨ã€‚\nDataFrame.query(expr, *, inplace=False, **kwargs) å‡½æ•°ä½¿ç”¨å¸ƒå°”è¡¨è¾¾å¼å¯¹åˆ—è¿›è¡ŒæŸ¥è¯¢ï¼Œå¯ä»¥ç®€åŒ–æˆ‘ä»¬ä½¿ç”¨ loc è¿›è¡ŒæŸ¥è¯¢çš„å†™æ³•ã€‚\n\nimport pandas as pd\nimport akshare as ak\n\n\ndata = ak.stock_zh_a_spot_em()\ndata.head()\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n0\n1\n301299\nå“åˆ›èµ„è®¯\n73.80\n20.00\n12.30\n68867.0\n4.661717e+08\n21.89\n73.80\n...\n3.59\n45.91\n65.23\n6.69\n4.428000e+09\n1.107000e+09\n0.00\n0.00\n42.88\n50.31\n\n\n1\n2\n300380\nå®‰ç¡•ä¿¡æ¯\n23.72\n19.98\n3.95\n165635.0\n3.832872e+08\n17.96\n23.72\n...\n2.23\n13.29\n-62.17\n8.48\n3.315132e+09\n2.955271e+09\n0.00\n0.00\n33.48\n34.01\n\n\n2\n3\n301316\næ…§åšäº‘é€š\n35.28\n16.44\n4.98\n243204.0\n8.215963e+08\n15.48\n36.36\n...\n2.83\n60.79\n272.02\n14.93\n1.411235e+10\n1.411551e+09\n-0.93\n-0.62\n56.24\n84.62\n\n\n3\n4\n300803\næŒ‡å—é’ˆ\n72.98\n15.86\n9.99\n472593.0\n3.234342e+09\n16.49\n74.40\n...\n2.17\n11.71\n129.84\n16.85\n2.979597e+10\n2.944736e+10\n-0.44\n-0.14\n43.63\n59.62\n\n\n4\n5\n830799\nè‰¾èè½¯ä»¶\n9.48\n15.61\n1.28\n65994.0\n5.974540e+07\n14.76\n9.58\n...\n3.25\n5.62\n75.60\n6.17\n1.997327e+09\n1.113238e+09\n0.00\n-0.32\n17.62\n60.14\n\n\n\n\n5 rows Ã— 23 columns\n\n\n\nå¦‚ä¸Šæ‰€ç¤ºï¼Œdata æ•°æ®é›†æ˜¯æ²ªæ·±äº¬ A è‚¡è¡Œæƒ…æ•°æ®ã€‚å¦‚æœæˆ‘ä»¬è¦æŸ¥è¯¢è‚¡ç¥¨ä»£ç ä¸º 300380 çš„è‚¡ç¥¨ï¼Œä½¿ç”¨ loc æ–¹æ³•æˆ‘ä»¬åº”è¯¥åˆ©ç”¨é€»è¾‘è¿ç®—ä¼ å…¥ä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼ï¼š\n\ndata.loc[data.ä»£ç  == \"300380\"]\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n1\n2\n300380\nå®‰ç¡•ä¿¡æ¯\n23.72\n19.98\n3.95\n165635.0\n3.832872e+08\n17.96\n23.72\n...\n2.23\n13.29\n-62.17\n8.48\n3.315132e+09\n2.955271e+09\n0.0\n0.0\n33.48\n34.01\n\n\n\n\n1 rows Ã— 23 columns\n\n\n\nä½¿ç”¨ queryï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š\n\ndata.query(\"ä»£ç  == '300380'\")\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n1\n2\n300380\nå®‰ç¡•ä¿¡æ¯\n23.72\n19.98\n3.95\n165635.0\n3.832872e+08\n17.96\n23.72\n...\n2.23\n13.29\n-62.17\n8.48\n3.315132e+09\n2.955271e+09\n0.0\n0.0\n33.48\n34.01\n\n\n\n\n1 rows Ã— 23 columns\n\n\n\nquery å‡½æ•°æ¥å—ä¸€ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œç„¶ååˆ©ç”¨ eval() å‡½æ•°å¯¹è¯¥å­—ç¬¦ä¸²è¿›è¡Œè®¡ç®—ï¼Œè·å¾—ä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼ï¼Œå†åˆ©ç”¨å¸ƒå°”è¡¨è¾¾å¼å®ç°æŸ¥è¯¢ã€‚\nquery æœ¬è´¨ä¸ loc ç›¸åŒï¼Œä½†å†™æ³•ä¸Šæ›´æ¸…æ™°ã€ç®€æ´äº†ã€‚åŒæ ·ï¼Œquery ä¹Ÿæ¥å—åŒ…å«å¤æ‚é€»è¾‘è¿ç®—çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ç­›é€‰å¸‚å‡€ç‡å¤§äº 10 ï¼ŒåŒæ—¶æ¢æ‰‹ç‡å¤§äº 5%çš„è‚¡ç¥¨ï¼š\n\ndata.query(\"å¸‚å‡€ç‡ &gt; 10 and æ¢æ‰‹ç‡ &gt; 5\")\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n2\n3\n301316\næ…§åšäº‘é€š\n35.28\n16.44\n4.98\n243204.0\n8.215963e+08\n15.48\n36.36\n...\n2.83\n60.79\n272.02\n14.93\n1.411235e+10\n1.411551e+09\n-0.93\n-0.62\n56.24\n84.62\n\n\n3\n4\n300803\næŒ‡å—é’ˆ\n72.98\n15.86\n9.99\n472593.0\n3.234342e+09\n16.49\n74.40\n...\n2.17\n11.71\n129.84\n16.85\n2.979597e+10\n2.944736e+10\n-0.44\n-0.14\n43.63\n59.62\n\n\n41\n42\n300085\né“¶ä¹‹æ°\n15.15\n7.83\n1.10\n717622.0\n1.066523e+09\n7.97\n15.30\n...\n2.23\n13.61\n2190.93\n13.54\n1.070560e+10\n7.985455e+09\n1.00\n0.07\n6.32\n62.90\n\n\n57\n58\n300169\nå¤©æ™Ÿæ–°æ\n9.07\n6.96\n0.59\n1223194.0\n1.075750e+09\n14.03\n9.30\n...\n2.12\n40.54\n-52.88\n11.54\n2.956678e+09\n2.736744e+09\n-0.11\n-1.09\n124.50\n119.61\n\n\n73\n74\n601519\nå¤§æ™ºæ…§\n9.80\n6.18\n0.57\n2269647.0\n2.135727e+09\n8.67\n9.84\n...\n1.81\n11.33\n16.23\n10.35\n1.979034e+10\n1.963788e+10\n0.10\n0.62\n23.12\n70.43\n\n\n107\n108\n603000\näººæ°‘ç½‘\n33.33\n5.11\n1.62\n900203.0\n2.976598e+09\n8.83\n34.14\n...\n1.82\n8.14\n335.03\n10.77\n3.685268e+10\n3.685268e+10\n-0.24\n0.03\n49.53\n99.46\n\n\n165\n166\n300033\nåŒèŠ±é¡º\n202.36\n4.36\n8.46\n151911.0\n3.033564e+09\n5.98\n203.60\n...\n1.56\n5.59\n118.43\n17.01\n1.087887e+11\n5.495009e+10\n0.29\n0.65\n16.46\n110.55\n\n\n195\n196\n002703\næµ™æ±Ÿä¸–å®\n18.28\n4.10\n0.72\n988900.0\n1.768065e+09\n10.19\n18.90\n...\n1.39\n17.88\n397.86\n10.30\n1.443470e+10\n1.010994e+10\n0.33\n0.33\n131.39\n97.20\n\n\n200\n201\n002316\näºšè”å‘å±•\n5.87\n4.08\n0.23\n597904.0\n3.513069e+08\n8.51\n6.04\n...\n1.55\n18.98\n-117.32\n45.51\n2.307614e+09\n1.849094e+09\n-0.17\n-0.17\n36.83\n67.24\n\n\n216\n217\n300116\nä¿åŠ›æ–°\n1.85\n3.93\n0.07\n3001463.0\n5.501457e+08\n8.43\n1.91\n...\n1.24\n7.31\n-224.78\n28.38\n8.187344e+09\n7.592120e+09\n-0.54\n-0.54\n18.59\n12.80\n\n\n392\n393\n300364\nä¸­æ–‡åœ¨çº¿\n15.94\n2.91\n0.45\n359913.0\n5.705417e+08\n5.23\n16.18\n...\n1.78\n5.54\n-78.15\n10.42\n1.163524e+10\n1.036182e+10\n0.06\n-0.06\n-29.93\n60.69\n\n\n610\n611\n300264\nä½³åˆ›è§†è®¯\n6.81\n2.10\n0.14\n288241.0\n1.955477e+08\n3.90\n6.91\n...\n2.06\n8.09\n-60.95\n19.70\n2.934140e+09\n2.427766e+09\n-0.15\n-0.15\n7.24\n12.94\n\n\n787\n788\n002647\nä»ä¸œæ§è‚¡\n6.46\n1.73\n0.11\n520722.0\n3.352200e+08\n4.88\n6.58\n...\n1.97\n9.30\n-28.71\n23.19\n3.617191e+09\n3.617191e+09\n0.00\n-0.31\n9.86\n-4.01\n\n\n1297\n1298\n002269\nç¾é‚¦æœé¥°\n2.02\n1.00\n0.02\n1593140.0\n3.243042e+08\n6.50\n2.10\n...\n1.05\n6.34\n28.95\n17.46\n5.075250e+09\n5.075250e+09\n0.50\n0.00\n16.76\n0.00\n\n\n1378\n1379\n000908\næ™¯å³°åŒ»è¯\n3.28\n0.92\n0.03\n1327803.0\n4.356034e+08\n11.69\n3.52\n...\n4.97\n16.98\n564.21\n16.13\n2.885660e+09\n2.564876e+09\n0.00\n0.00\n15.49\n3.14\n\n\n1467\n1468\n688525\nä½°ç»´å­˜å‚¨\n68.23\n0.84\n0.57\n35769.0\n2.428135e+08\n4.29\n69.50\n...\n1.11\n9.78\n-58.25\n12.79\n2.936136e+10\n2.495715e+09\n0.04\n0.59\n-7.86\n324.84\n\n\n1721\n1722\n000721\nè¥¿å®‰é¥®é£Ÿ\n14.84\n0.61\n0.09\n638512.0\n9.559054e+08\n4.41\n15.28\n...\n1.04\n14.59\n-68.41\n16.80\n8.516888e+09\n6.492528e+09\n0.20\n-0.13\n24.60\n-14.22\n\n\n2056\n2057\n001337\nå››å·é»„é‡‘\n33.65\n0.39\n0.13\n47121.0\n1.583902e+08\n1.67\n33.86\n...\n0.71\n7.85\n57.12\n11.68\n1.413300e+10\n2.019000e+09\n-0.06\n-0.03\n-10.86\n388.39\n\n\n3063\n3064\n002229\né¸¿åšè‚¡ä»½\n37.60\n0.00\n0.00\n820189.0\n3.127857e+09\n7.63\n39.48\n...\n1.59\n16.63\n-256.67\n11.84\n1.873774e+10\n1.854298e+10\n0.21\n-0.19\n80.86\n465.41\n\n\n3347\n3348\n000638\nä¸‡æ–¹å‘å±•\n6.92\n-0.14\n-0.01\n161058.0\n1.116545e+08\n2.31\n7.04\n...\n0.63\n5.22\n-145.75\n12.06\n2.145308e+09\n2.136720e+09\n0.14\n-0.14\n18.49\n-2.12\n\n\n4294\n4295\n301205\nè”ç‰¹ç§‘æŠ€\n119.71\n-0.70\n-0.84\n31659.0\n3.829029e+08\n2.85\n122.80\n...\n1.12\n9.76\n146.62\n10.93\n1.553165e+10\n3.882914e+09\n-0.23\n-0.41\n43.66\n471.68\n\n\n5165\n5166\n002188\nä¸­å¤©æœåŠ¡\n7.03\n-1.95\n-0.14\n123300.0\n8.737047e+07\n4.04\n7.28\n...\n0.81\n5.12\n61.35\n16.00\n2.056546e+09\n1.693409e+09\n-0.42\n-0.14\n15.82\n-1.82\n\n\n5320\n5321\n000980\nä¼—æ³°æ±½è½¦\n4.54\n-2.78\n-0.13\n3177677.0\n1.477481e+09\n5.57\n4.77\n...\n0.91\n7.41\n-30.50\n10.18\n2.289317e+10\n1.946503e+10\n0.00\n0.22\n50.33\n6.57\n\n\n5356\n5357\n600322\nå¤©æˆ¿å‘å±•\n2.57\n-3.02\n-0.08\n1192838.0\n3.113317e+08\n10.57\n2.80\n...\n1.19\n10.79\n-5.06\n52.99\n2.841649e+09\n2.841649e+09\n0.00\n0.39\n32.47\n13.72\n\n\n5482\n5483\n000890\næ³•å°”èƒœ\n4.97\n-6.93\n-0.37\n784183.0\n3.950609e+08\n5.43\n5.21\n...\n1.45\n18.69\n-42.15\n152.54\n2.084935e+09\n2.084870e+09\n-0.20\n-0.20\n14.78\n29.09\n\n\n\n\n25 rows Ã— 23 columns\n\n\n\nquery ä¹Ÿæ”¯æŒä¼ å…¥å˜é‡ï¼Œä½¿ç”¨ @ ä¼ å…¥ï¼š\n\npbr = 10\ntr = 5\ndata.query(\"å¸‚å‡€ç‡ &gt; @pbr & æ¢æ‰‹ç‡ &gt; @tr\")\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n2\n3\n301316\næ…§åšäº‘é€š\n35.28\n16.44\n4.98\n243204.0\n8.215963e+08\n15.48\n36.36\n...\n2.83\n60.79\n272.02\n14.93\n1.411235e+10\n1.411551e+09\n-0.93\n-0.62\n56.24\n84.62\n\n\n3\n4\n300803\næŒ‡å—é’ˆ\n72.98\n15.86\n9.99\n472593.0\n3.234342e+09\n16.49\n74.40\n...\n2.17\n11.71\n129.84\n16.85\n2.979597e+10\n2.944736e+10\n-0.44\n-0.14\n43.63\n59.62\n\n\n41\n42\n300085\né“¶ä¹‹æ°\n15.15\n7.83\n1.10\n717622.0\n1.066523e+09\n7.97\n15.30\n...\n2.23\n13.61\n2190.93\n13.54\n1.070560e+10\n7.985455e+09\n1.00\n0.07\n6.32\n62.90\n\n\n57\n58\n300169\nå¤©æ™Ÿæ–°æ\n9.07\n6.96\n0.59\n1223194.0\n1.075750e+09\n14.03\n9.30\n...\n2.12\n40.54\n-52.88\n11.54\n2.956678e+09\n2.736744e+09\n-0.11\n-1.09\n124.50\n119.61\n\n\n73\n74\n601519\nå¤§æ™ºæ…§\n9.80\n6.18\n0.57\n2269647.0\n2.135727e+09\n8.67\n9.84\n...\n1.81\n11.33\n16.23\n10.35\n1.979034e+10\n1.963788e+10\n0.10\n0.62\n23.12\n70.43\n\n\n107\n108\n603000\näººæ°‘ç½‘\n33.33\n5.11\n1.62\n900203.0\n2.976598e+09\n8.83\n34.14\n...\n1.82\n8.14\n335.03\n10.77\n3.685268e+10\n3.685268e+10\n-0.24\n0.03\n49.53\n99.46\n\n\n165\n166\n300033\nåŒèŠ±é¡º\n202.36\n4.36\n8.46\n151911.0\n3.033564e+09\n5.98\n203.60\n...\n1.56\n5.59\n118.43\n17.01\n1.087887e+11\n5.495009e+10\n0.29\n0.65\n16.46\n110.55\n\n\n195\n196\n002703\næµ™æ±Ÿä¸–å®\n18.28\n4.10\n0.72\n988900.0\n1.768065e+09\n10.19\n18.90\n...\n1.39\n17.88\n397.86\n10.30\n1.443470e+10\n1.010994e+10\n0.33\n0.33\n131.39\n97.20\n\n\n200\n201\n002316\näºšè”å‘å±•\n5.87\n4.08\n0.23\n597904.0\n3.513069e+08\n8.51\n6.04\n...\n1.55\n18.98\n-117.32\n45.51\n2.307614e+09\n1.849094e+09\n-0.17\n-0.17\n36.83\n67.24\n\n\n216\n217\n300116\nä¿åŠ›æ–°\n1.85\n3.93\n0.07\n3001463.0\n5.501457e+08\n8.43\n1.91\n...\n1.24\n7.31\n-224.78\n28.38\n8.187344e+09\n7.592120e+09\n-0.54\n-0.54\n18.59\n12.80\n\n\n392\n393\n300364\nä¸­æ–‡åœ¨çº¿\n15.94\n2.91\n0.45\n359913.0\n5.705417e+08\n5.23\n16.18\n...\n1.78\n5.54\n-78.15\n10.42\n1.163524e+10\n1.036182e+10\n0.06\n-0.06\n-29.93\n60.69\n\n\n610\n611\n300264\nä½³åˆ›è§†è®¯\n6.81\n2.10\n0.14\n288241.0\n1.955477e+08\n3.90\n6.91\n...\n2.06\n8.09\n-60.95\n19.70\n2.934140e+09\n2.427766e+09\n-0.15\n-0.15\n7.24\n12.94\n\n\n787\n788\n002647\nä»ä¸œæ§è‚¡\n6.46\n1.73\n0.11\n520722.0\n3.352200e+08\n4.88\n6.58\n...\n1.97\n9.30\n-28.71\n23.19\n3.617191e+09\n3.617191e+09\n0.00\n-0.31\n9.86\n-4.01\n\n\n1297\n1298\n002269\nç¾é‚¦æœé¥°\n2.02\n1.00\n0.02\n1593140.0\n3.243042e+08\n6.50\n2.10\n...\n1.05\n6.34\n28.95\n17.46\n5.075250e+09\n5.075250e+09\n0.50\n0.00\n16.76\n0.00\n\n\n1378\n1379\n000908\næ™¯å³°åŒ»è¯\n3.28\n0.92\n0.03\n1327803.0\n4.356034e+08\n11.69\n3.52\n...\n4.97\n16.98\n564.21\n16.13\n2.885660e+09\n2.564876e+09\n0.00\n0.00\n15.49\n3.14\n\n\n1467\n1468\n688525\nä½°ç»´å­˜å‚¨\n68.23\n0.84\n0.57\n35769.0\n2.428135e+08\n4.29\n69.50\n...\n1.11\n9.78\n-58.25\n12.79\n2.936136e+10\n2.495715e+09\n0.04\n0.59\n-7.86\n324.84\n\n\n1721\n1722\n000721\nè¥¿å®‰é¥®é£Ÿ\n14.84\n0.61\n0.09\n638512.0\n9.559054e+08\n4.41\n15.28\n...\n1.04\n14.59\n-68.41\n16.80\n8.516888e+09\n6.492528e+09\n0.20\n-0.13\n24.60\n-14.22\n\n\n2056\n2057\n001337\nå››å·é»„é‡‘\n33.65\n0.39\n0.13\n47121.0\n1.583902e+08\n1.67\n33.86\n...\n0.71\n7.85\n57.12\n11.68\n1.413300e+10\n2.019000e+09\n-0.06\n-0.03\n-10.86\n388.39\n\n\n3063\n3064\n002229\né¸¿åšè‚¡ä»½\n37.60\n0.00\n0.00\n820189.0\n3.127857e+09\n7.63\n39.48\n...\n1.59\n16.63\n-256.67\n11.84\n1.873774e+10\n1.854298e+10\n0.21\n-0.19\n80.86\n465.41\n\n\n3347\n3348\n000638\nä¸‡æ–¹å‘å±•\n6.92\n-0.14\n-0.01\n161058.0\n1.116545e+08\n2.31\n7.04\n...\n0.63\n5.22\n-145.75\n12.06\n2.145308e+09\n2.136720e+09\n0.14\n-0.14\n18.49\n-2.12\n\n\n4294\n4295\n301205\nè”ç‰¹ç§‘æŠ€\n119.71\n-0.70\n-0.84\n31659.0\n3.829029e+08\n2.85\n122.80\n...\n1.12\n9.76\n146.62\n10.93\n1.553165e+10\n3.882914e+09\n-0.23\n-0.41\n43.66\n471.68\n\n\n5165\n5166\n002188\nä¸­å¤©æœåŠ¡\n7.03\n-1.95\n-0.14\n123300.0\n8.737047e+07\n4.04\n7.28\n...\n0.81\n5.12\n61.35\n16.00\n2.056546e+09\n1.693409e+09\n-0.42\n-0.14\n15.82\n-1.82\n\n\n5320\n5321\n000980\nä¼—æ³°æ±½è½¦\n4.54\n-2.78\n-0.13\n3177677.0\n1.477481e+09\n5.57\n4.77\n...\n0.91\n7.41\n-30.50\n10.18\n2.289317e+10\n1.946503e+10\n0.00\n0.22\n50.33\n6.57\n\n\n5356\n5357\n600322\nå¤©æˆ¿å‘å±•\n2.57\n-3.02\n-0.08\n1192838.0\n3.113317e+08\n10.57\n2.80\n...\n1.19\n10.79\n-5.06\n52.99\n2.841649e+09\n2.841649e+09\n0.00\n0.39\n32.47\n13.72\n\n\n5482\n5483\n000890\næ³•å°”èƒœ\n4.97\n-6.93\n-0.37\n784183.0\n3.950609e+08\n5.43\n5.21\n...\n1.45\n18.69\n-42.15\n152.54\n2.084935e+09\n2.084870e+09\n-0.20\n-0.20\n14.78\n29.09\n\n\n\n\n25 rows Ã— 23 columns\n\n\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºéæœ‰æ•ˆçš„ Python å˜é‡åï¼Œå¯ä»¥ç”¨åå¼•å·ï¼ˆ``ï¼‰æ¥ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œå¦‚æœæŸ¥è¯¢åˆ—åä¸º Python å…³é”®å­—ï¼Œåˆ—åä»¥æ•°å­—å¼€å¤´ç­‰ç­‰ï¼š\n\ndata.query(\"`5åˆ†é’Ÿæ¶¨è·Œ` &gt; 2\")\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n21\n22\n002670\nå›½ç››é‡‘æ§\n10.87\n10.02\n0.99\n1185508.0\n1.220417e+09\n9.82\n10.87\n...\n2.43\n7.30\n116.41\n1.91\n2.103437e+10\n1.764582e+10\n0.93\n2.74\n31.44\n46.69\n\n\n173\n174\n000609\nä¸­è¿ªæŠ•èµ„\n6.05\n4.31\n0.25\n355969.0\n2.107389e+08\n7.59\n6.19\n...\n1.20\n12.19\n-17.65\n3.31\n1.810556e+09\n1.767139e+09\n3.07\n3.07\n27.37\n-6.92\n\n\n273\n274\n001227\nå…°å·é“¶è¡Œ\n3.29\n3.46\n0.11\n2066487.0\n6.604521e+08\n6.92\n3.34\n...\n1.60\n7.47\n9.74\n0.58\n1.873884e+10\n9.107180e+09\n0.61\n3.13\n9.30\n-9.86\n\n\n669\n670\n603536\næƒ å‘é£Ÿå“\n9.88\n1.96\n0.19\n426145.0\n4.303417e+08\n11.46\n10.66\n...\n6.82\n17.42\n-36.52\n5.05\n2.417066e+09\n2.417066e+09\n0.71\n2.60\n52.94\n23.81\n\n\n2123\n2124\n301505\nè‹å·è§„åˆ’\n68.62\n0.35\n0.24\n74915.0\n5.152134e+08\n10.92\n72.58\n...\n1.04\n38.00\n387.25\n6.27\n6.038560e+09\n1.352884e+09\n0.18\n3.09\n160.42\n160.42\n\n\n\n\n5 rows Ã— 23 columns\n\n\n\næ­¤å¤–ï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼ŒDataFrame å®ä¾‹çš„ DataFrame.index å’Œ DataFrame.columns å±æ€§ä¹Ÿè¢«æ”¾ç½®åœ¨æŸ¥è¯¢å‘½åç©ºé—´ä¸­ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠè¡¨çš„ç´¢å¼•å½“ä½œåˆ—è¿›è¡ŒæŸ¥è¯¢ã€‚å¦‚æœç´¢å¼•å‘½åäº†ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•çš„åç§°åœ¨æŸ¥è¯¢ä¸­æ ‡è¯†å®ƒï¼Œå¦‚æœæ²¡æœ‰å‘½åå¯ä»¥ä½¿ç”¨ indexã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬æŸ¥è¯¢ data æ•°æ®é›†ä¸­ç´¢å¼•ä¸º 0 çš„æ•°æ®ï¼š\n\ndata.index\n\nRangeIndex(start=0, stop=5491, step=1)\n\n\n\ndata.query(\"index == 0\")\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n0\n1\n301299\nå“åˆ›èµ„è®¯\n73.8\n20.0\n12.3\n68867.0\n4.661717e+08\n21.89\n73.8\n...\n3.59\n45.91\n65.23\n6.69\n4.428000e+09\n1.107000e+09\n0.0\n0.0\n42.88\n50.31\n\n\n\n\n1 rows Ã— 23 columns\n\n\n\nåˆ—åçš„å‘½åç©ºé—´ä¸‹çš„æ–¹æ³•ä¹Ÿå¯ä»¥åœ¨æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬æŸ¥è¯¢è‚¡ç¥¨åç§°ä¸­åŒ…å«é“¶è¡Œçš„è‚¡ç¥¨ï¼š\n\ndata.query(\"@data.åç§°.str.contains('é“¶è¡Œ')\")\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n140\n141\n601528\nç‘ä¸°é“¶è¡Œ\n6.12\n4.62\n0.27\n473989.0\n2.803784e+08\n6.84\n6.16\n...\n1.93\n6.01\n8.22\n0.77\n1.200843e+10\n4.828292e+09\n0.00\n0.82\n6.07\n29.11\n\n\n273\n274\n001227\nå…°å·é“¶è¡Œ\n3.29\n3.46\n0.11\n2066487.0\n6.604521e+08\n6.92\n3.34\n...\n1.60\n7.47\n9.74\n0.58\n1.873884e+10\n9.107180e+09\n0.61\n3.13\n9.30\n-9.86\n\n\n533\n534\n601577\né•¿æ²™é“¶è¡Œ\n8.40\n2.31\n0.19\n126677.0\n1.058156e+08\n2.56\n8.43\n...\n1.69\n0.61\n4.27\n0.62\n3.378105e+10\n1.736789e+10\n0.24\n0.12\n6.87\n31.05\n\n\n642\n643\n601860\nç´«é‡‘é“¶è¡Œ\n3.04\n2.01\n0.06\n1491979.0\n4.473756e+08\n3.36\n3.06\n...\n0.82\n4.25\n7.23\n0.66\n1.112937e+10\n1.066369e+10\n0.66\n1.00\n13.01\n22.09\n\n\n754\n755\n601658\né‚®å‚¨é“¶è¡Œ\n5.07\n1.81\n0.09\n1068495.0\n5.420461e+08\n2.41\n5.13\n...\n1.09\n0.16\n4.78\n0.69\n5.027467e+11\n3.403105e+11\n0.20\n0.40\n-1.17\n16.28\n\n\n1002\n1003\n601998\nä¸­ä¿¡é“¶è¡Œ\n5.95\n1.36\n0.08\n328951.0\n1.952749e+08\n2.21\n6.01\n...\n0.80\n0.10\n3.80\n0.52\n2.913528e+11\n2.028040e+11\n0.34\n0.34\n-16.32\n27.96\n\n\n1006\n1007\n600036\næ‹›å•†é“¶è¡Œ\n35.15\n1.36\n0.47\n559887.0\n1.967354e+09\n2.25\n35.50\n...\n1.02\n0.27\n5.71\n1.07\n8.864776e+11\n7.251074e+11\n0.34\n0.26\n7.62\n-1.04\n\n\n1219\n1220\n601916\næµ™å•†é“¶è¡Œ\n2.78\n1.09\n0.03\n1486583.0\n4.107013e+08\n1.45\n2.78\n...\n1.02\n0.69\n3.39\n0.51\n7.635169e+10\n5.989353e+10\n0.72\n0.72\n-1.42\n8.17\n\n\n1223\n1224\n603323\nè‹å†œé“¶è¡Œ\n4.65\n1.09\n0.05\n183906.0\n8.525758e+07\n1.30\n4.66\n...\n0.88\n1.19\n5.86\n0.59\n8.384290e+09\n7.178346e+09\n0.22\n0.22\n-0.85\n2.88\n\n\n1291\n1292\n600928\nè¥¿å®‰é“¶è¡Œ\n4.01\n1.01\n0.04\n446377.0\n1.771269e+08\n2.77\n4.03\n...\n1.08\n1.32\n6.77\n0.61\n1.782222e+10\n1.354336e+10\n0.75\n1.01\n-12.64\n19.35\n\n\n1298\n1299\n002807\næ±Ÿé˜´é“¶è¡Œ\n4.05\n1.00\n0.04\n234650.0\n9.476750e+07\n1.50\n4.07\n...\n0.93\n1.08\n7.09\n0.62\n8.796812e+09\n8.785079e+09\n0.00\n0.25\n2.53\n6.86\n\n\n1320\n1321\n002966\nè‹å·é“¶è¡Œ\n7.23\n0.98\n0.07\n254350.0\n1.842539e+08\n1.40\n7.28\n...\n1.67\n0.71\n5.11\n0.75\n2.651050e+10\n2.576672e+10\n0.00\n0.28\n0.84\n-2.95\n\n\n1330\n1331\n601128\nå¸¸ç†Ÿé“¶è¡Œ\n7.28\n0.97\n0.07\n137774.0\n9.975656e+07\n1.39\n7.29\n...\n0.71\n0.52\n6.28\n0.91\n1.995362e+10\n1.924374e+10\n0.14\n0.14\n0.55\n-0.27\n\n\n1333\n1334\n601665\né½é²é“¶è¡Œ\n4.18\n0.97\n0.04\n192115.0\n8.002992e+07\n1.21\n4.19\n...\n0.99\n0.83\n4.71\n0.66\n1.914836e+10\n9.696622e+09\n0.24\n0.24\n0.97\n5.03\n\n\n1335\n1336\n601818\nå…‰å¤§é“¶è¡Œ\n3.14\n0.96\n0.03\n948768.0\n2.970643e+08\n1.29\n3.15\n...\n1.07\n0.20\n3.75\n0.44\n1.855286e+11\n1.457174e+11\n0.32\n0.32\n-2.48\n9.03\n\n\n1409\n1410\n002142\nå®æ³¢é“¶è¡Œ\n28.36\n0.89\n0.25\n350928.0\n1.004189e+09\n3.77\n29.09\n...\n0.98\n0.54\n7.10\n1.20\n1.872778e+11\n1.850048e+11\n0.14\n0.28\n5.66\n-11.24\n\n\n1435\n1436\n601997\nè´µé˜³é“¶è¡Œ\n5.78\n0.87\n0.05\n266014.0\n1.533668e+08\n1.22\n5.80\n...\n0.96\n0.75\n3.29\n0.40\n2.113282e+10\n2.062897e+10\n0.52\n0.52\n1.40\n11.37\n\n\n1458\n1459\n601166\nå…´ä¸šé“¶è¡Œ\n16.65\n0.85\n0.14\n432148.0\n7.205170e+08\n1.70\n16.80\n...\n0.94\n0.21\n3.44\n0.53\n3.458918e+11\n3.458918e+11\n0.12\n0.12\n3.29\n1.52\n\n\n1465\n1466\n002936\néƒ‘å·é“¶è¡Œ\n2.39\n0.84\n0.02\n896346.0\n2.139654e+08\n2.95\n2.42\n...\n0.93\n1.34\n4.57\n0.52\n2.173010e+10\n1.599653e+10\n0.00\n0.00\n7.17\n11.68\n\n\n1609\n1610\n600908\næ— é”¡é“¶è¡Œ\n5.69\n0.71\n0.04\n93411.0\n5.296709e+07\n1.42\n5.71\n...\n0.77\n0.50\n5.59\n0.72\n1.223984e+10\n1.062139e+10\n0.35\n0.35\n2.34\n12.23\n\n\n1616\n1617\n601187\nå¦é—¨é“¶è¡Œ\n5.76\n0.70\n0.04\n107438.0\n6.153116e+07\n2.45\n5.81\n...\n0.67\n0.90\n5.27\n0.70\n1.520138e+10\n6.861415e+09\n0.35\n0.35\n3.23\n5.88\n\n\n1628\n1629\n600015\nåå¤é“¶è¡Œ\n5.82\n0.69\n0.04\n169188.0\n9.833719e+07\n1.56\n5.86\n...\n0.83\n0.13\n3.96\n0.36\n9.262488e+10\n7.462804e+10\n0.17\n0.34\n2.11\n21.00\n\n\n1656\n1657\n600000\næµ¦å‘é“¶è¡Œ\n7.61\n0.66\n0.05\n246799.0\n1.875023e+08\n1.46\n7.65\n...\n1.00\n0.08\n3.53\n0.38\n2.233701e+11\n2.233701e+11\n0.13\n0.00\n3.12\n9.34\n\n\n1763\n1764\n601009\nå—äº¬é“¶è¡Œ\n8.63\n0.58\n0.05\n146409.0\n1.261561e+08\n1.28\n8.66\n...\n1.04\n0.16\n4.11\n0.72\n8.926642e+10\n7.950495e+10\n0.00\n0.12\n-1.15\n-12.74\n\n\n1779\n1780\n002948\né’å²›é“¶è¡Œ\n3.51\n0.57\n0.02\n188059.0\n6.581560e+07\n1.43\n3.52\n...\n0.84\n0.60\n5.61\n0.69\n2.042945e+10\n1.091510e+10\n0.29\n0.29\n4.46\n9.69\n\n\n1784\n1785\n601288\nå†œä¸šé“¶è¡Œ\n3.57\n0.56\n0.02\n2066464.0\n7.379460e+08\n1.41\n3.60\n...\n0.94\n0.06\n4.37\n0.56\n1.249439e+12\n1.139702e+12\n0.28\n0.28\n5.31\n32.71\n\n\n1873\n1874\n600016\næ°‘ç”Ÿé“¶è¡Œ\n4.02\n0.50\n0.02\n758438.0\n3.045515e+08\n1.50\n4.04\n...\n1.29\n0.21\n3.09\n0.34\n1.760053e+11\n1.425577e+11\n0.50\n0.50\n1.26\n24.07\n\n\n1881\n1882\n601939\nå»ºè®¾é“¶è¡Œ\n6.06\n0.50\n0.03\n616958.0\n3.739653e+08\n1.49\n6.11\n...\n1.04\n0.64\n4.27\n0.54\n1.515067e+12\n5.813757e+10\n0.17\n0.00\n-2.73\n15.65\n\n\n1897\n1898\n601229\nä¸Šæµ·é“¶è¡Œ\n6.19\n0.49\n0.03\n185581.0\n1.146588e+08\n0.97\n6.20\n...\n0.90\n0.13\n3.64\n0.44\n8.793927e+10\n8.571674e+10\n0.00\n0.16\n3.51\n12.34\n\n\n1901\n1902\n601963\né‡åº†é“¶è¡Œ\n8.32\n0.48\n0.04\n31049.0\n2.578411e+07\n1.21\n8.35\n...\n0.94\n0.45\n4.88\n0.64\n2.890833e+10\n5.752542e+09\n0.12\n0.36\n7.08\n30.20\n\n\n1982\n1983\n601169\nåŒ—äº¬é“¶è¡Œ\n4.66\n0.43\n0.02\n368826.0\n1.717469e+08\n1.08\n4.68\n...\n0.99\n0.17\n3.29\n0.42\n9.852631e+10\n9.852631e+10\n0.22\n0.22\n4.25\n16.50\n\n\n2028\n2029\n000001\nå¹³å®‰é“¶è¡Œ\n12.38\n0.41\n0.05\n894323.0\n1.106321e+09\n2.60\n12.53\n...\n0.99\n0.46\n4.11\n0.65\n2.402453e+11\n2.402407e+11\n0.16\n0.24\n-1.43\n-3.88\n\n\n2276\n2277\n601988\nä¸­å›½é“¶è¡Œ\n3.88\n0.26\n0.01\n1194744.0\n4.630856e+08\n1.55\n3.91\n...\n0.93\n0.06\n4.95\n0.55\n1.142225e+12\n8.177702e+11\n0.52\n0.26\n-4.90\n32.42\n\n\n2351\n2352\n601398\nå·¥å•†é“¶è¡Œ\n4.73\n0.21\n0.01\n1482475.0\n7.027839e+08\n1.69\n4.78\n...\n0.98\n0.05\n4.67\n0.54\n1.685802e+12\n1.275266e+12\n0.21\n0.21\n0.00\n17.08\n\n\n2426\n2427\n601328\näº¤é€šé“¶è¡Œ\n5.72\n0.18\n0.01\n625151.0\n3.581830e+08\n1.58\n5.78\n...\n0.96\n0.16\n4.31\n0.50\n4.247828e+11\n2.245149e+11\n0.18\n0.18\n2.88\n30.89\n\n\n2496\n2497\n600919\næ±Ÿè‹é“¶è¡Œ\n7.26\n0.14\n0.01\n1205236.0\n8.765527e+08\n1.38\n7.32\n...\n1.19\n0.78\n3.31\n0.50\n1.126687e+11\n1.120762e+11\n0.00\n0.00\n1.97\n6.76\n\n\n2580\n2581\n600926\næ­å·é“¶è¡Œ\n12.07\n0.08\n0.01\n169713.0\n2.048641e+08\n2.40\n12.23\n...\n1.12\n0.32\n4.22\n0.87\n7.157853e+10\n6.472832e+10\n0.42\n0.58\n-1.55\n-4.81\n\n\n3346\n3347\n601838\næˆéƒ½é“¶è¡Œ\n13.84\n-0.14\n-0.02\n173413.0\n2.414914e+08\n2.60\n14.10\n...\n0.74\n0.46\n5.22\n0.97\n5.278453e+10\n5.267222e+10\n0.14\n0.22\n8.72\n-4.75\n\n\n\n\n38 rows Ã— 23 columns"
  },
  {
    "objectID": "posts/2024-09-12-Pandas-tipsåˆ‡åˆ†DataFrame/index.html",
    "href": "posts/2024-09-12-Pandas-tipsåˆ‡åˆ†DataFrame/index.html",
    "title": "Pandas Tipsï¼šåˆ‡åˆ†DataFrame",
    "section": "",
    "text": "å½“æˆ‘ä»¬é¢ä¸´ä¸€ä¸ªæ•°æ®é‡å¾ˆå¤§çš„ DataFrame æ—¶ï¼Œåˆ†è€Œæ²»ä¹‹æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ•ˆçš„é€‰æ‹©ï¼Œè¿™å°±æ¶‰åŠåˆ°å°† DataFrame è¿›è¡Œåˆ‡åˆ†ã€‚æ¯”å¦‚æˆ‘æœ€è¿‘éœ€è¦å¯¹ 20 ä¸‡ä¸ªæ ·æœ¬ï¼ˆä¿å­˜åœ¨ä¸€ä¸ª DataFrame é‡Œï¼‰è®¡ç®— CARï¼Œæˆ‘çš„åšæ³•æ˜¯å°†è¿™ä¸ª DataFrame åˆ‡åˆ†æˆ 20 ä¸ªå­ DataFrameï¼Œç„¶åå¹¶è¡Œè®¡ç®—ã€‚\nä½¿ç”¨ np.array_split å¯ä»¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚np.array_split å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š\nnp.array_split(ary, indices_or_sections, axis=0)\nindices_or_sections å¯ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚å½“ä¼ å…¥æ•´æ•°ï¼Œè‹¥æ•´æ•°ä¸èƒ½æ•´é™¤æ•°ç»„é•¿åº¦ï¼Œå³ä½¿æ•°ç»„ä¸èƒ½å‡åŒ€åˆ†å‰²ï¼Œnp.array_split ä¹Ÿä¼šé€šè¿‡å°†éƒ¨åˆ†å­æ•°ç»„ç¨å¾®å¤§ä¸€äº›æ¥å¤„ç†è¿™ç§æƒ…å†µã€‚æ¯”å¦‚ï¼š\n\nimport numpy as np\nimport pandas as pd\n\n\narr = np.arange(10)\n# å°†æ•°ç»„åˆ†å‰²æˆ 3 ä»½ï¼Œå³ä½¿ä¸èƒ½æ•´é™¤\nnp.array_split(arr, 3)\n\n[array([0, 1, 2, 3]), array([4, 5, 6]), array([7, 8, 9])]\n\n\nä»¥ä¸Šæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œé•¿åº¦ä¸º 10ï¼Œnp.array_split è‡ªåŠ¨å¸®æˆ‘ä»¬åˆ‡åˆ†ä¸º 3 ä¸ª arrayã€‚å¦‚æœæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªäºŒç»´çš„ arrayï¼Œnp.array_split åŒæ ·å¯ä»¥åˆ‡åˆ†ä¸ºå¤šä¸ªå­ arrayã€‚å› æ­¤å¯¹äºä¸€ä¸ªè¾ƒå¤§çš„ DataFrameï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè½¬åŒ–ä¸º arrayï¼Œç„¶ååˆ©ç”¨ np.array_split åˆ‡åˆ†ï¼Œå†è½¬åŒ–ä¸º DataFrameã€‚æ¯”å¦‚ï¼Œå®šä¹‰è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼š\n\ndef get_batches(df: pd.DataFrame, num_splits: int) -&gt; list:\n    \"\"\"å°†ä¸€ä¸ª DataFrame åˆ‡åˆ†ä¸ºç»™å®šæ•°é‡çš„å­ DataFrame\n    Args:\n        df (pd.DataFrame): å¾…åˆ‡åˆ† DataFrame\n        num_splits (int): åˆ‡åˆ†æˆå¤šå°‘ä¸ªå­ DataFrame \n        \n    Returns:\n        list: å­ DataFrame åˆ—è¡¨\n    \"\"\" \n    batch_array_list = np.array_split(df.values, num_splits)\n    \n    return [pd.DataFrame(batch_array, columns=df.columns) for batch_array in batch_array_list]"
  },
  {
    "objectID": "posts/2024-09-07-ä½¿ç”¨Globæ¨¡å—å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶/index.html",
    "href": "posts/2024-09-07-ä½¿ç”¨Globæ¨¡å—å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶/index.html",
    "title": "ä½¿ç”¨Globæ¨¡å—å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶",
    "section": "",
    "text": "åœ¨è¿›è¡Œæ•°æ®åˆ†ææ—¶ï¼Œå¸¸å¸¸ä¼šé‡åˆ°éœ€è¦éå†è¯»å–æŸä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶çš„æƒ…å†µã€‚ä»¥æ–‡æœ¬åˆ†æä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä¾æ¬¡è¯»å–æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰ txt æ–‡ä»¶ï¼Œå¹¶è¿›è¡Œç›¸åº”å¤„ç†ã€‚\n\n\n\nfolder\n\n\næ¯”å¦‚ä¸Šå›¾ä¸­çš„æ–‡ä»¶å¤¹ï¼Œè¦å®ç°è¯»å–ä¸Šå¸‚å…¬å¸ 2018 å¹´ç®¡ç†å±‚è®¨è®ºä¸åˆ†æçš„æ–‡æœ¬ï¼Œä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨ os.listdir() è·å–æ‰€æœ‰æ–‡ä»¶åï¼Œç„¶åæ„é€ æ–‡ä»¶è·¯å¾„ï¼š\n\nimport os\n\nfile_path = \"./ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/\"\nfile_name_list = os.listdir(file_path)\n\nfor file in file_name_list:\n    full_path = f\"./ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/{file}\"\n    with open(full_path, \"r\", encoding='utf-8') as f:\n        annual_content = f.read()\n        pass\n\nä½†æ˜¯è¿™æ ·æ˜¾ç„¶ä¸å¤Ÿä¼˜é›…ğŸ˜ï¼Œglob æ¨¡å—å¯ä»¥å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼glob æ˜¯ Python æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºæŸ¥æ‰¾ç¬¦åˆç‰¹å®šæ¨¡å¼çš„æ–‡ä»¶æˆ–ç›®å½•åã€‚å®ƒé€šè¿‡ä½¿ç”¨ Unix é£æ ¼çš„è·¯å¾„æ¨¡å¼åŒ¹é…è§„åˆ™æ¥æœç´¢æ–‡ä»¶ç³»ç»Ÿï¼Œå¸¸ç”¨äºæ‰¹é‡æŸ¥æ‰¾ç¬¦åˆæŸç§ç‰¹å®šæ¡ä»¶çš„æ–‡ä»¶ã€‚æ¯”å¦‚ï¼Œè¦è·å– 2018 å¹´ä¸Šå¸‚å…¬å¸ç®¡ç†å±‚è®¨è®ºä¸åˆ†æçš„ txt æ–‡ä»¶è·¯å¾„ï¼Œä½¿ç”¨ glob å¯ä»¥è¿™æ ·å®Œæˆï¼š\n\nimport glob\n\nglob.glob(\"./ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/*.txt\")\n\n['./ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/000001_2018-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/000002_2018-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/000002_2018-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/000004_2018-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/000001_2018-06-30.txt']\n\n\nå¯ä»¥å‘ç°ï¼Œglob å¤§å¤§ä¾¿åˆ©äº†æ–‡ä»¶å’Œç›®å½•æŸ¥æ‰¾ ã€‚glob ä¹Ÿæ”¯æŒå¸¸ç”¨çš„é€šé…ç¬¦ï¼š\n\n*ï¼šåŒ¹é…ä»»æ„æ•°é‡çš„å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºå­—ç¬¦ã€‚æ¯”å¦‚ï¼Œ*.txt åŒ¹é…æ‰€æœ‰ .txt æ–‡ä»¶ã€‚\n?ï¼šåŒ¹é…å•ä¸ªå­—ç¬¦ã€‚æ¯”å¦‚ï¼Œfile?.txt åŒ¹é… file1.txt å’Œ file2.txtï¼Œä½†ä¸åŒ¹é… file10.txtã€‚\n[]ï¼šåŒ¹é…æŒ‡å®šå­—ç¬¦èŒƒå›´ã€‚æ¯”å¦‚ï¼Œfile[0-9].txt åŒ¹é… file1.txt åˆ° file9.txtï¼Œä½†ä¸åŒ¹é… file10.txtã€‚\n\n\nglob.glob()\nglob() æ˜¯ glob æ¨¡å—ä¸­å¸¸ç”¨çš„å‡½æ•°ä¹‹ä¸€ï¼Œå¦ä¸€ä¸ªæ˜¯ iglob()ã€‚å…¶å‚æ•°å¦‚ä¸‹ï¼š\nglob.glob(pathname, *, root_dir=None, dir_fd=None, recursive=False, include_hidden=False)\nrecursive å‚æ•°è¡¨ç¤ºæ˜¯å¦é€’å½’æŸ¥æ‰¾ã€‚æ¯”å¦‚ï¼Œè¦æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ txt æ–‡ä»¶ï¼š\n\nglob.glob(\"./ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/**/*.txt\", recursive=True)\n\n['./ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ_å­—æ®µè¯´æ˜.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2020/ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ_å­—æ®µè¯´æ˜.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2020/æ–‡æœ¬/000002_2020-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2020/æ–‡æœ¬/000001_2020-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2020/æ–‡æœ¬/000001_2020-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2020/æ–‡æœ¬/000004_2020-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2020/æ–‡æœ¬/000002_2020-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2019/ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ_å­—æ®µè¯´æ˜.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2019/æ–‡æœ¬/000001_2019-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2019/æ–‡æœ¬/000001_2019-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2019/æ–‡æœ¬/000004_2019-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2019/æ–‡æœ¬/000002_2019-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2019/æ–‡æœ¬/000002_2019-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2021/ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ_å­—æ®µè¯´æ˜.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2021/æ–‡æœ¬/000001_2021-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2021/æ–‡æœ¬/000002_2021-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2021/æ–‡æœ¬/000005_2021-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2021/æ–‡æœ¬/000004_2021-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2021/æ–‡æœ¬/000004_2021-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2022/ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ_å­—æ®µè¯´æ˜.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2022/æ–‡æœ¬/000002_2022-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2022/æ–‡æœ¬/000004_2022-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2022/æ–‡æœ¬/000005_2022-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2022/æ–‡æœ¬/000002_2022-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2022/æ–‡æœ¬/000001_2022-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ_å­—æ®µè¯´æ˜.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/000001_2018-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/000002_2018-12-31.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/000002_2018-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/000004_2018-06-30.txt',\n './ç®¡ç†å±‚è®¨è®ºä¸åˆ†æ/2018/æ–‡æœ¬/000001_2018-06-30.txt']\n\n\n\n\nglob.iglob()\nglob.iglob(pathname, *, root_dir=None, dir_fd=None, recursive=False, include_hidden=False)\niglob() ä¸ glob() ç±»ä¼¼ï¼Œä½†è¿”å›çš„æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œé€‚åˆå¤„ç†æ–‡ä»¶æ•°é‡è¾ƒå¤šçš„æƒ…å†µï¼Œå› ä¸ºå®ƒä¸ä¼šä¸€æ¬¡æ€§å°†ç»“æœåŠ è½½åˆ°å†…å­˜ä¸­ã€‚"
  },
  {
    "objectID": "posts/2023-02-02-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-äº‹ä»¶ç ”ç©¶/index.html",
    "href": "posts/2023-02-02-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-äº‹ä»¶ç ”ç©¶/index.html",
    "title": "æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-CARè®¡ç®—ä¸æ˜¾è‘—æ€§æ£€éªŒ",
    "section": "",
    "text": "äº‹ä»¶ç ”ç©¶æ³•åŸºæœ¬æ­¥éª¤\n\nå®šä¹‰äº‹ä»¶ä¸äº‹ä»¶çª—å£\nç ”ç©¶æ ·æœ¬é€‰æ‹©ä¸æ•°æ®å‡†å¤‡\nä¼°è®¡æ­£å¸¸æ”¶ç›Šç‡ä¸è®¡ç®—å¼‚å¸¸æ”¶ç›Šç‡\nç´¯è®¡å¼‚å¸¸æ”¶ç›Šç‡è®¡ç®—ä¸æ˜¾è‘—æ€§æ£€éªŒ\n\n\nimport datetime\nimport logging\n\nimport pandas as pd\nimport numpy as np\n\nimport statsmodels.api as sm\nimport tushare as ts\n\n\næ—¥ä¸ªè‚¡å›æŠ¥ç‡ï¼šå›½æ³°å®‰æ•°æ®åº“ï¼ˆTushareã€Baostockï¼‰\n3 å› å­æ•°æ®ï¼šå›½æ³°å®‰æ•°æ®åº“\næ— é£é™©åˆ©ç‡ï¼š3 ä¸ªæœˆå®šæœŸå­˜æ¬¾åˆ©ç‡\n\n\ndata_2013_2017 = pd.read_csv('./data/æ—¥ä¸ªè‚¡å›æŠ¥ç‡æ–‡ä»¶2013_2017/TRD_Dalyr.csv', dtype={'Stkcd':str})\ndata_2013_2017_1 = pd.read_csv('./data/æ—¥ä¸ªè‚¡å›æŠ¥ç‡æ–‡ä»¶2013_2017/TRD_Dalyr1.csv', dtype={'Stkcd':str})\ndata_2013_2017_2 = pd.read_csv('./data/æ—¥ä¸ªè‚¡å›æŠ¥ç‡æ–‡ä»¶2013_2017/TRD_Dalyr2.csv', dtype={'Stkcd':str})\ndata_2013_2017_3 = pd.read_csv('./data/æ—¥ä¸ªè‚¡å›æŠ¥ç‡æ–‡ä»¶2013_2017/TRD_Dalyr3.csv', dtype={'Stkcd':str})\n\ndata_2018_2022 = pd.read_csv('./data/æ—¥ä¸ªè‚¡å›æŠ¥ç‡æ–‡ä»¶2018_2022/TRD_Dalyr.csv', dtype={'Stkcd':str})\ndata_2018_2022_1 = pd.read_csv('./data/æ—¥ä¸ªè‚¡å›æŠ¥ç‡æ–‡ä»¶2018_2022/TRD_Dalyr1.csv', dtype={'Stkcd':str})\ndata_2018_2022_2 = pd.read_csv('./data/æ—¥ä¸ªè‚¡å›æŠ¥ç‡æ–‡ä»¶2018_2022/TRD_Dalyr2.csv', dtype={'Stkcd':str})\ndata_2018_2022_3 = pd.read_csv('./data/æ—¥ä¸ªè‚¡å›æŠ¥ç‡æ–‡ä»¶2018_2022/TRD_Dalyr3.csv', dtype={'Stkcd':str})\n\n\n# data:æŒ‰æµé€šå¸‚å€¼åŠ æƒçš„Aè‚¡æ—¥æ”¶ç›Šç‡æ•°æ®\ndata = pd.concat([data_2013_2017, data_2013_2017_1, data_2013_2017_2, data_2013_2017_3,\n                  data_2018_2022, data_2018_2022_1, data_2018_2022_2, data_2018_2022_3])\n\n\nlen(data)\n\n7012621\n\n\n\ndata.head()\n\n\n\n\n\n\n\n\nStkcd\nTrddt\nDretwd\n\n\n\n\n0\n000001\n2013-01-04\n-0.001873\n\n\n1\n000001\n2013-01-07\n0.019387\n\n\n2\n000001\n2013-01-08\n-0.018405\n\n\n3\n000001\n2013-01-09\n-0.008750\n\n\n4\n000001\n2013-01-10\n0.000631\n\n\n\n\n\n\n\n\ndata = data.rename(columns={'Trddt':'TradingDate'}) # æ›´æ”¹åˆ—åï¼Œæ–¹ä¾¿åç»­åšæ¯”è¾ƒåˆå¹¶\n\n\n# æ•´ç† 3å› å­æ•°æ®\nff_factor = pd.read_csv('./data/3factor.csv', skiprows=[1,2], converters= {'TradingDate': pd.to_datetime})\n\n\nff_factor.head(5)\n\n\n\n\n\n\n\n\nMarkettypeID\nTradingDate\nRiskPremium1\nSMB1\nHML1\n\n\n\n\n0\nP9706\n1990-12-19\n2.473374\nNaN\nNaN\n\n\n1\nP9710\n1990-12-19\n2.473374\nNaN\nNaN\n\n\n2\nP9709\n1990-12-19\n2.473374\nNaN\nNaN\n\n\n3\nP9712\n1990-12-19\n2.473374\nNaN\nNaN\n\n\n4\nP9713\n1990-12-19\n2.473374\nNaN\nNaN\n\n\n\n\n\n\n\n\n# æ— é£é™©åˆ©ç‡æ•°æ®\nrisk_free_rate = pd.read_excel('./data/å®šæœŸå­˜æ¬¾åˆ©ç‡_3ä¸ªæœˆ.xlsx', dtype={'æŒ‡æ ‡åç§°':datetime.date})\n\n\nrisk_free_rate.head(5)\n\n\n\n\n\n\n\n\næŒ‡æ ‡åç§°\nå®šæœŸå­˜æ¬¾åˆ©ç‡:3ä¸ªæœˆ(æœˆ)\n\n\n\n\n0\n1989-02-28\n7.56\n\n\n1\n1989-03-31\n7.56\n\n\n2\n1989-04-30\n7.56\n\n\n3\n1989-05-31\n7.56\n\n\n4\n1989-06-30\n7.56\n\n\n\n\n\n\n\n\nr_dict = {}\nfor t,r in zip(risk_free_rate.iloc[:,0], risk_free_rate.iloc[:,1]):\n    t_temp = t + datetime.timedelta(days=10) # æœˆåº•å…¬å¸ƒä¸‹æœˆä¸‰æœˆå®šæœŸå­˜æ¬¾åˆ©ç‡ï¼Œ+10å¤©å°†æ—¥æœŸå¯¹åº”åˆ°ä¸‹æœˆ\n    r_dict[str(t_temp.year) + str(t_temp.month)] = r/100\n    \nr_list = []\nfor t in ff_factor.iloc[:,1]:\n    r = r_dict[str(t.year)+str(t.month)]\n    r_list.append(r)\n    \nff_factor[['r']] = np.array(r_list).reshape(-1,1) # å°†æ— é£é™©åˆ©ç‡æ·»åŠ åˆ° ff ä¸‰å› å­è¡¨æ ¼å†…ï¼Œæ–¹ä¾¿åç»­å›å½’æ‹Ÿåˆ|\n\n\nff_factor.head(5)\n\n\n\n\n\n\n\n\nMarkettypeID\nTradingDate\nRiskPremium1\nSMB1\nHML1\nr\n\n\n\n\n0\nP9706\n1990-12-19\n2.473374\nNaN\nNaN\n0.0432\n\n\n1\nP9710\n1990-12-19\n2.473374\nNaN\nNaN\n0.0432\n\n\n2\nP9709\n1990-12-19\n2.473374\nNaN\nNaN\n0.0432\n\n\n3\nP9712\n1990-12-19\n2.473374\nNaN\nNaN\n0.0432\n\n\n4\nP9713\n1990-12-19\n2.473374\nNaN\nNaN\n0.0432\n\n\n\n\n\n\n\n\nff_factor['TradingDate'] = ff_factor['TradingDate'].astype(str) # å°†æ—¶é—´åˆ—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œæ–¹ä¾¿åç»­åšåˆ¤æ–­åˆå¹¶\n\n\nsample = pd.read_csv('./data/final.csv', dtype={'secCode':str})\nsample.head()\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\n\n\n\n\n0\n002152\nå¹¿ç”µè¿é€š\n9900003423\nå¹¿ç”µè¿é€šï¼š2016å¹´4æœˆ1æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-06\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n9ã€å…¬å¸æè¿‡æœ‰å‚¨å¤‡åŒºå—é“¾æŠ€æœ¯ï¼Œæ˜¯å¦å¯ä»¥ä»‹ç»ï¼Ÿ\n\n\n1\n002177\nå¾¡é“¶è‚¡ä»½\n9900003781\nå¾¡é“¶è‚¡ä»½ï¼š2016å¹´4æœˆ21æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-21\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n4ã€å…¬å¸åœ¨åŒºå—é“¾æŠ€æœ¯ä¸Šæœªæ¥æœ‰ä»€ä¹ˆè§„åˆ’ï¼Ÿ\n\n\n2\n300386\né£å¤©è¯šä¿¡\n9900023058\né£å¤©è¯šä¿¡ï¼š2016å¹´4æœˆ22æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-25\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\nå…¬å¸åœ¨åŒºå—é“¾éƒ¨åˆ†å¦‚ä½•å¸ƒå±€?\n\n\n3\n300423\né²äº¿é€š\n9900028812\né²äº¿é€šï¼šå…³äºæœ¬æ¬¡äº¤æ˜“å‰12ä¸ªæœˆå†…è´­ä¹°ã€å‡ºå”®èµ„äº§çš„è¯´æ˜\n2016-06-09\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nåŒæ—¶ï¼Œä¸Šå¸‚å…¬å¸æ‹Ÿé‡‡ç”¨å®šä»·å‘è¡Œçš„æ–¹å¼å‘çºªæ³•æ¸…ã€å­”å‰‘å¹³ã€å­™å¥‡é”‹ã€ç‹éº’è¯šå’Œä¸­ä¿¡å»ºæŠ•-æ•°è´æ³½åäººå·¥æ™º...\n\n\n4\n000961\nä¸­å—å»ºè®¾\ngssz0000961\nä¸­å—å»ºè®¾ï¼šå…³äºæœ¬å…¬å¸æŠ•èµ„ä¸Šæµ·æ‰¿æ³°ä¿¡æ¯ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸çš„è¿›å±•å…¬å‘Š\n2016-06-23\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nï¼Œä»¥åŒºå—é“¾æŠ€æœ¯å¤„ç†ç›å¨œèŠ±å›­ä¸åŒç‰ˆæœ¬çš„ä¸ªäººæ•°æ®ï¼Œå½¢æˆå¯¹æ•°æ®ä¿¡æ¯çš„å®‰å…¨ä¿æŠ¤ã€‚\n\n\n\n\n\n\n\n\npro = ts.pro_api()\n\n# æŸ¥è¯¢å½“å‰æ‰€æœ‰æ­£å¸¸ä¸Šå¸‚äº¤æ˜“å’Œé€€å¸‚çš„è‚¡ç¥¨åˆ—è¡¨\nstocks_L = pro.stock_basic(exchange='', list_status='L', fields='symbol,name,area,industry,list_date,market')\nstocks_D = pro.stock_basic(exchange='', list_status='D', fields='symbol,name,area,industry,list_date,market')\n\n\nstocks_L.head()\n\n\n\n\n\n\n\n\nsymbol\nname\narea\nindustry\nmarket\nlist_date\n\n\n\n\n0\n000001\nå¹³å®‰é“¶è¡Œ\næ·±åœ³\né“¶è¡Œ\nä¸»æ¿\n19910403\n\n\n1\n000002\nä¸‡ç§‘A\næ·±åœ³\nå…¨å›½åœ°äº§\nä¸»æ¿\n19910129\n\n\n2\n000004\nSTå›½å\næ·±åœ³\nè½¯ä»¶æœåŠ¡\nä¸»æ¿\n19910114\n\n\n3\n000005\nSTæ˜Ÿæº\næ·±åœ³\nç¯å¢ƒä¿æŠ¤\nä¸»æ¿\n19901210\n\n\n4\n000006\næ·±æŒ¯ä¸šA\næ·±åœ³\nåŒºåŸŸåœ°äº§\nä¸»æ¿\n19920427\n\n\n\n\n\n\n\n\nstocks_D.head()\n\n\n\n\n\n\n\n\nsymbol\nname\narea\nindustry\nmarket\nlist_date\n\n\n\n\n0\n000003\nPTé‡‘ç”°A(é€€)\nNone\nNone\nä¸»æ¿\n19910703\n\n\n1\n000013\n*STçŸ³åŒ–A(é€€)\nNone\nNone\nä¸»æ¿\n19920506\n\n\n2\n000015\nPTä¸­æµ©A(é€€)\nNone\nNone\nä¸»æ¿\n19920625\n\n\n3\n000018\nç¥åŸAé€€(é€€)\nNone\nNone\nä¸»æ¿\n19920616\n\n\n4\n000024\næ‹›å•†åœ°äº§(é€€)\nNone\nNone\nä¸»æ¿\n19930607\n\n\n\n\n\n\n\n\nstocks = pd.concat([stocks_L, stocks_D])\n\n\n# æ„é€ ä¸€ä¸ª code:market å­—å…¸\ncm_dict = {}\nfor c,m in zip(stocks.loc[:,'symbol'], stocks.loc[:,'market']):\n    cm_dict[c] = m\n    \nmarket_l = []\nfor code in sample.loc[:, 'secCode']:\n    m = cm_dict[code]\n    market_l.append(m)\n\nsample[['market']] = np.array(market_l).reshape(-1, 1)\n\n\nsample.head()\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\nmarket\n\n\n\n\n0\n002152\nå¹¿ç”µè¿é€š\n9900003423\nå¹¿ç”µè¿é€šï¼š2016å¹´4æœˆ1æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-06\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n9ã€å…¬å¸æè¿‡æœ‰å‚¨å¤‡åŒºå—é“¾æŠ€æœ¯ï¼Œæ˜¯å¦å¯ä»¥ä»‹ç»ï¼Ÿ\nä¸­å°æ¿\n\n\n1\n002177\nå¾¡é“¶è‚¡ä»½\n9900003781\nå¾¡é“¶è‚¡ä»½ï¼š2016å¹´4æœˆ21æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-21\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n4ã€å…¬å¸åœ¨åŒºå—é“¾æŠ€æœ¯ä¸Šæœªæ¥æœ‰ä»€ä¹ˆè§„åˆ’ï¼Ÿ\nä¸­å°æ¿\n\n\n2\n300386\né£å¤©è¯šä¿¡\n9900023058\né£å¤©è¯šä¿¡ï¼š2016å¹´4æœˆ22æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-25\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\nå…¬å¸åœ¨åŒºå—é“¾éƒ¨åˆ†å¦‚ä½•å¸ƒå±€?\nåˆ›ä¸šæ¿\n\n\n3\n300423\né²äº¿é€š\n9900028812\né²äº¿é€šï¼šå…³äºæœ¬æ¬¡äº¤æ˜“å‰12ä¸ªæœˆå†…è´­ä¹°ã€å‡ºå”®èµ„äº§çš„è¯´æ˜\n2016-06-09\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nåŒæ—¶ï¼Œä¸Šå¸‚å…¬å¸æ‹Ÿé‡‡ç”¨å®šä»·å‘è¡Œçš„æ–¹å¼å‘çºªæ³•æ¸…ã€å­”å‰‘å¹³ã€å­™å¥‡é”‹ã€ç‹éº’è¯šå’Œä¸­ä¿¡å»ºæŠ•-æ•°è´æ³½åäººå·¥æ™º...\nåˆ›ä¸šæ¿\n\n\n4\n000961\nä¸­å—å»ºè®¾\ngssz0000961\nä¸­å—å»ºè®¾ï¼šå…³äºæœ¬å…¬å¸æŠ•èµ„ä¸Šæµ·æ‰¿æ³°ä¿¡æ¯ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸çš„è¿›å±•å…¬å‘Š\n2016-06-23\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nï¼Œä»¥åŒºå—é“¾æŠ€æœ¯å¤„ç†ç›å¨œèŠ±å›­ä¸åŒç‰ˆæœ¬çš„ä¸ªäººæ•°æ®ï¼Œå½¢æˆå¯¹æ•°æ®ä¿¡æ¯çš„å®‰å…¨ä¿æŠ¤ã€‚\nä¸»æ¿\n\n\n\n\n\n\n\n\n# MarkettypeID [è‚¡ç¥¨å¸‚åœºç±»å‹ç¼–ç ] - P9705ï¼šåˆ›ä¸šæ¿;P9706ï¼šç»¼åˆAè‚¡å¸‚åœºï¼ˆä¸åŒ…å«ç§‘åˆ›æ¿ã€åˆ›ä¸šæ¿ï¼‰;\n# P9707ï¼šç»¼åˆBè‚¡å¸‚åœº;P9709ï¼šç»¼åˆAè‚¡å’Œåˆ›ä¸šæ¿; P9710ï¼šç»¼åˆABè‚¡å’Œåˆ›ä¸šæ¿ï¼›P9711ï¼šç§‘åˆ›æ¿ï¼›\n# æ„é€ ä¸€ä¸ª market:markettypeID å­—å…¸\nmm_dict = {'ä¸­å°æ¿':'P9706', 'ä¸»æ¿':'P9706', 'åˆ›ä¸šæ¿':'P9705', 'ç§‘åˆ›æ¿':'P9711'}\n\nmarkettypeID = []\nfor m in sample.loc[:,'market']:\n    m_id = mm_dict[m]\n    markettypeID.append(m_id)\n\nsample[['markettypeID']] = np.array(markettypeID).reshape(-1,1)\n\n\nsample\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\nmarket\nmarkettypeID\n\n\n\n\n0\n002152\nå¹¿ç”µè¿é€š\n9900003423\nå¹¿ç”µè¿é€šï¼š2016å¹´4æœˆ1æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-06\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n9ã€å…¬å¸æè¿‡æœ‰å‚¨å¤‡åŒºå—é“¾æŠ€æœ¯ï¼Œæ˜¯å¦å¯ä»¥ä»‹ç»ï¼Ÿ\nä¸­å°æ¿\nP9706\n\n\n1\n002177\nå¾¡é“¶è‚¡ä»½\n9900003781\nå¾¡é“¶è‚¡ä»½ï¼š2016å¹´4æœˆ21æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-21\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n4ã€å…¬å¸åœ¨åŒºå—é“¾æŠ€æœ¯ä¸Šæœªæ¥æœ‰ä»€ä¹ˆè§„åˆ’ï¼Ÿ\nä¸­å°æ¿\nP9706\n\n\n2\n300386\né£å¤©è¯šä¿¡\n9900023058\né£å¤©è¯šä¿¡ï¼š2016å¹´4æœˆ22æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-25\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\nå…¬å¸åœ¨åŒºå—é“¾éƒ¨åˆ†å¦‚ä½•å¸ƒå±€?\nåˆ›ä¸šæ¿\nP9705\n\n\n3\n300423\né²äº¿é€š\n9900028812\né²äº¿é€šï¼šå…³äºæœ¬æ¬¡äº¤æ˜“å‰12ä¸ªæœˆå†…è´­ä¹°ã€å‡ºå”®èµ„äº§çš„è¯´æ˜\n2016-06-09\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nåŒæ—¶ï¼Œä¸Šå¸‚å…¬å¸æ‹Ÿé‡‡ç”¨å®šä»·å‘è¡Œçš„æ–¹å¼å‘çºªæ³•æ¸…ã€å­”å‰‘å¹³ã€å­™å¥‡é”‹ã€ç‹éº’è¯šå’Œä¸­ä¿¡å»ºæŠ•-æ•°è´æ³½åäººå·¥æ™º...\nåˆ›ä¸šæ¿\nP9705\n\n\n4\n000961\nä¸­å—å»ºè®¾\ngssz0000961\nä¸­å—å»ºè®¾ï¼šå…³äºæœ¬å…¬å¸æŠ•èµ„ä¸Šæµ·æ‰¿æ³°ä¿¡æ¯ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸çš„è¿›å±•å…¬å‘Š\n2016-06-23\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nï¼Œä»¥åŒºå—é“¾æŠ€æœ¯å¤„ç†ç›å¨œèŠ±å›­ä¸åŒç‰ˆæœ¬çš„ä¸ªäººæ•°æ®ï¼Œå½¢æˆå¯¹æ•°æ®ä¿¡æ¯çš„å®‰å…¨ä¿æŠ¤ã€‚\nä¸»æ¿\nP9706\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n325\n300133\nåç­–å½±è§†\n9900013428\nåç­–å½±è§†ï¼šå…³äºå…¨èµ„å­å…¬å¸å¢èµ„æ‰©è‚¡æš¨å…³è”äº¤æ˜“çš„å…¬å‘Š\n2021-12-17\nhttp://static.cninfo.com.cn/finalpage/2021-12-...\nå½±ä¸šä¸Šæµ·åŸºäºèŠ‚ç›®åº“æ­å»ºçš„æ­£ç‰ˆå½±è§†ç´ æåº“â€œåç­–æ–°è§†ç•Œâ€å·²è¿›å…¥æ­£å¼è¿è¥ï¼Œç›®å‰æ­£åœ¨æ¨è¿›åŸºäºåŒºå—é“¾æŠ€...\nåˆ›ä¸šæ¿\nP9705\n\n\n326\n300235\næ–¹ç›´ç§‘æŠ€\n9900011849\næ–¹ç›´ç§‘æŠ€ï¼šå…³äºå¯¹æ·±åœ³è¯åˆ¸äº¤æ˜“æ‰€å…³æ³¨å‡½çš„å›å¤å…¬å‘Š\n2021-12-20\nhttp://static.cninfo.com.cn/finalpage/2021-12-...\nå…ƒå®‡å®™æ˜¯æ•´åˆå¤šç§æ–°æŠ€æœ¯è€Œäº§ç”Ÿçš„æ–°å‹è™šå®ç›¸èçš„äº’è”ç½‘åº”ç”¨å’Œç¤¾ä¼šå½¢æ€ï¼Œå®ƒåŸºäºæ‰©å±•ç°å®æŠ€æœ¯æä¾›æ²‰æµ¸...\nåˆ›ä¸šæ¿\nP9705\n\n\n327\n300649\næ­å·å›­æ—\n9900023811\næ­å·å›­æ—ï¼šå…³äºæ”¶è´­å‚è‚¡å…¬å¸éƒ¨åˆ†è‚¡æƒçš„å…¬å‘Š\n2021-12-24\nhttp://static.cninfo.com.cn/finalpage/2021-12-...\nä¸€èˆ¬é¡¹ç›®ï¼šç½‘ç»œæŠ€æœ¯æœåŠ¡ï¼›ç‰©è”ç½‘æŠ€æœ¯æœåŠ¡ï¼›æŠ€æœ¯æœåŠ¡ã€æŠ€æœ¯å¼€å‘ã€æŠ€æœ¯å’¨è¯¢ã€æŠ€æœ¯äº¤æµã€æŠ€æœ¯è½¬è®©ã€æŠ€...\nåˆ›ä¸šæ¿\nP9705\n\n\n328\n300533\nå†°å·ç½‘ç»œ\n9900027730\nå†°å·ç½‘ç»œï¼šå…³äºå…¨èµ„å­å…¬å¸è®¾ç«‹ä¸‰å®¶å­å…¬å¸å¹¶å®Œæˆå·¥å•†æ³¨å†Œç™»è®°çš„å…¬å‘Š\n2021-12-24\nhttp://static.cninfo.com.cn/finalpage/2021-12-...\näººå·¥æ™ºèƒ½é€šç”¨åº”ç”¨ç³»ç»Ÿï¼›æ™ºèƒ½æ§åˆ¶ç³»ç»Ÿé›†æˆï¼›é‡å­è®¡ç®—æŠ€æœ¯æœåŠ¡ï¼›ç”µç«ä¿¡æ¯ç§‘æŠ€ï¼›äº‘è®¡ç®—è£…å¤‡æŠ€æœ¯æœåŠ¡ï¼›...\nåˆ›ä¸šæ¿\nP9705\n\n\n329\n301116\nç›Šå®¢é£Ÿå“\n9900028946\nç›Šå®¢é£Ÿå“ï¼šæ³•å¾‹æ„è§ä¹¦åŠè¡¥å……æ³•å¾‹æ„è§ä¹¦\n2021-12-27\nhttp://static.cninfo.com.cn/finalpage/2021-12-...\nä¸å«ç‰¹ç§è®¾å¤‡åˆ¶é€ ï¼‰ï¼›æ¶²æ°”å¯†å…ƒä»¶åŠç³»ç»Ÿåˆ¶é€ ï¼›å·¥ä¸šè‡ªåŠ¨æ§åˆ¶ç³»ç»Ÿè£…ç½®é”€å”®ï¼›ç‰©æ–™æ¬è¿è£…å¤‡é”€å”®ï¼›éå±…ä½...\nåˆ›ä¸šæ¿\nP9705\n\n\n\n\n330 rows Ã— 9 columns\n\n\n\n\ndaily_returns = data.loc[data.iloc[:,0] == '002152']\n\n\ndaily_returns\n\n\n\n\n\n\n\n\nStkcd\nTradingDate\nDretwd\n\n\n\n\n676981\n002152\n2013-01-04\n-0.019027\n\n\n676982\n002152\n2013-01-07\n-0.008621\n\n\n676983\n002152\n2013-01-08\n0.011594\n\n\n676984\n002152\n2013-01-09\n0.002865\n\n\n676985\n002152\n2013-01-10\n-0.003571\n\n\n...\n...\n...\n...\n\n\n612679\n002152\n2022-03-10\n0.008427\n\n\n612680\n002152\n2022-03-11\n0.016713\n\n\n612681\n002152\n2022-03-14\n-0.011872\n\n\n612682\n002152\n2022-03-15\n-0.046211\n\n\n612683\n002152\n2022-03-16\n0.023256\n\n\n\n\n2173 rows Ã— 3 columns\n\n\n\n\ndef get_window(code, t, m_id):\n    \"\"\"è·å–äº‹ä»¶æœŸå’Œç†è®ºæ”¶ç›Šç‡ä¼°è®¡æœŸ\n\n    Args:\n        code (str): stock code\n        t (str): announcement date\n        m_id (str): MarkettypeID\n\n    Returns:\n        eventWD (DataFrame): event window\n        estimationWD (DataFrame): estimation window\n    \"\"\"\n    # ä¸ªè‚¡æ—¥æ”¶ç›Šç‡æ•°æ®\n    daily_returns = data.loc[data.iloc[:,0] == code]\n    # äº¤æ˜“æ—¥æ•°æ®\n    trading_dates = daily_returns.loc[:, 'TradingDate'] \n    \n    t_1 = (datetime.date.fromisoformat(t) + datetime.timedelta(days=1)).strftime('%Y-%m-%d')\n    t_2 = (datetime.date.fromisoformat(t) + datetime.timedelta(days=2)).strftime('%Y-%m-%d')\n    t_3 = (datetime.date.fromisoformat(t) + datetime.timedelta(days=3)).strftime('%Y-%m-%d')\n    t_4 = (datetime.date.fromisoformat(t) + datetime.timedelta(days=4)).strftime('%Y-%m-%d')\n    t_5 = (datetime.date.fromisoformat(t) + datetime.timedelta(days=5)).strftime('%Y-%m-%d')\n    t_6 = (datetime.date.fromisoformat(t) + datetime.timedelta(days=6)).strftime('%Y-%m-%d')\n    t_7 = (datetime.date.fromisoformat(t) + datetime.timedelta(days=7)).strftime('%Y-%m-%d')\n    \n    # åˆ¤æ–­å…¬å‘Šæ—¥æ˜¯å¦ä¸ºäº¤æ˜“æ—¥ï¼Œå¹´å‡æœ€é•¿ 7 å¤©\n    if t in list(trading_dates): \n        i = list(trading_dates).index(t)\n    elif t_1 in list(trading_dates):\n        i = list(trading_dates).index(t_1)\n    elif t_2 in list(trading_dates):\n        i = list(trading_dates).index(t_2)\n    elif t_3 in list(trading_dates):\n        i = list(trading_dates).index(t_3)\n    elif t_4 in list(trading_dates):\n        i = list(trading_dates).index(t_4)\n    elif t_5 in list(trading_dates):\n        i = list(trading_dates).index(t_5)\n    elif t_6 in list(trading_dates):\n        i = list(trading_dates).index(t_6)\n    elif t_7 in list(trading_dates):\n        i = list(trading_dates).index(t_7)\n    else:\n        i = 0\n        \n    # ä¼°è®¡æœŸä¸º 200 å¤©   \n    # å…¬å¸ä¸Šå¸‚æ—¶é—´è¾ƒçŸ­æ—¶ï¼Œä¼°è®¡æœŸæ•°æ®ä¸å¤Ÿ\n    if i &gt;= 210:\n        eventWD = daily_returns.iloc[i-1:i+2, :]\n        estimationWD = daily_returns.iloc[i-210:i-10, :]\n        eventWD.insert(0,'MarkettypeID', m_id)\n        estimationWD.insert(0, 'MarkettypeID', m_id)\n        return estimationWD, eventWD\n    else:\n        return\n\n\ndef abnormal_return(estimationWD, eventWD, ff_factor):\n    \"\"\"è·å–å¼‚å¸¸æ”¶ç›Šç‡\n\n    Args:\n        estimationWD (DataFrame): estimation window\n        eventWD (DataFrame): event window\n        ff_factor (DataFrame): fama-french factors\n\n    Returns:\n        ar (array): abnormal returns\n    \"\"\"\n    \n    estimation_data = pd.merge(estimationWD, ff_factor, how='left', on=['MarkettypeID', 'TradingDate'])\n    event_data = pd.merge(eventWD, ff_factor, how='left', on=['MarkettypeID', 'TradingDate'])\n\n    X = estimation_data.loc[:,['RiskPremium1','SMB1','HML1']].values\n    X = sm.add_constant(X)\n    y = np.array(estimation_data.loc[:,'Dretwd']-estimation_data.loc[:,'r']).reshape(-1,1)\n    model = sm.OLS(y, X)\n    result = model.fit()\n\n    # rr: ç†è®ºæ”¶ç›Šç‡\n    rr = (np.dot(\n        sm.add_constant(event_data.loc[:,['RiskPremium1','SMB1','HML1']].values),\n        result.params.reshape(-1,1)) \n        + event_data.loc[:,'r'].values.reshape(-1,1))\n\n    # ar: å¼‚å¸¸æ”¶ç›Šç‡ï¼Œæ¯åªè‚¡ç¥¨åœ¨äº‹ä»¶æœŸçš„æ”¶ç›Šç‡ array\n    ar = event_data.loc[:,'Dretwd'].values.reshape(-1,1) - rr\n    return ar\n\n\nsample.head()\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\nmarket\nmarkettypeID\n\n\n\n\n0\n002152\nå¹¿ç”µè¿é€š\n9900003423\nå¹¿ç”µè¿é€šï¼š2016å¹´4æœˆ1æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-06\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n9ã€å…¬å¸æè¿‡æœ‰å‚¨å¤‡åŒºå—é“¾æŠ€æœ¯ï¼Œæ˜¯å¦å¯ä»¥ä»‹ç»ï¼Ÿ\nä¸­å°æ¿\nP9706\n\n\n1\n002177\nå¾¡é“¶è‚¡ä»½\n9900003781\nå¾¡é“¶è‚¡ä»½ï¼š2016å¹´4æœˆ21æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-21\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n4ã€å…¬å¸åœ¨åŒºå—é“¾æŠ€æœ¯ä¸Šæœªæ¥æœ‰ä»€ä¹ˆè§„åˆ’ï¼Ÿ\nä¸­å°æ¿\nP9706\n\n\n2\n300386\né£å¤©è¯šä¿¡\n9900023058\né£å¤©è¯šä¿¡ï¼š2016å¹´4æœˆ22æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-25\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\nå…¬å¸åœ¨åŒºå—é“¾éƒ¨åˆ†å¦‚ä½•å¸ƒå±€?\nåˆ›ä¸šæ¿\nP9705\n\n\n3\n300423\né²äº¿é€š\n9900028812\né²äº¿é€šï¼šå…³äºæœ¬æ¬¡äº¤æ˜“å‰12ä¸ªæœˆå†…è´­ä¹°ã€å‡ºå”®èµ„äº§çš„è¯´æ˜\n2016-06-09\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nåŒæ—¶ï¼Œä¸Šå¸‚å…¬å¸æ‹Ÿé‡‡ç”¨å®šä»·å‘è¡Œçš„æ–¹å¼å‘çºªæ³•æ¸…ã€å­”å‰‘å¹³ã€å­™å¥‡é”‹ã€ç‹éº’è¯šå’Œä¸­ä¿¡å»ºæŠ•-æ•°è´æ³½åäººå·¥æ™º...\nåˆ›ä¸šæ¿\nP9705\n\n\n4\n000961\nä¸­å—å»ºè®¾\ngssz0000961\nä¸­å—å»ºè®¾ï¼šå…³äºæœ¬å…¬å¸æŠ•èµ„ä¸Šæµ·æ‰¿æ³°ä¿¡æ¯ç§‘æŠ€è‚¡ä»½æœ‰é™å…¬å¸çš„è¿›å±•å…¬å‘Š\n2016-06-23\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nï¼Œä»¥åŒºå—é“¾æŠ€æœ¯å¤„ç†ç›å¨œèŠ±å›­ä¸åŒç‰ˆæœ¬çš„ä¸ªäººæ•°æ®ï¼Œå½¢æˆå¯¹æ•°æ®ä¿¡æ¯çš„å®‰å…¨ä¿æŠ¤ã€‚\nä¸»æ¿\nP9706\n\n\n\n\n\n\n\n\nar_l = []\ndelete_code = []\nfor code,t,m_id in zip(sample.loc[:,'secCode'], sample.loc[:,'announcementTime'], sample.loc[:,'markettypeID']):\n    try:\n        estimationWD, eventWD = get_window(code, t, m_id)\n    except:\n        delete_code.append(code)\n        continue\n        \n    ar_array = abnormal_return(estimationWD, eventWD, ff_factor)\n    ar = sum(ar_array)[0]\n    ar_l.append(ar)\n\n\nAR = pd.DataFrame(np.array(ar_l).reshape(-1,1))\n\n\nAR.describe()\n\n\n\n\n\n\n\n\n0\n\n\n\n\ncount\n304.000000\n\n\nmean\n0.014020\n\n\nstd\n0.068285\n\n\nmin\n-0.173427\n\n\n25%\n-0.018811\n\n\n50%\n0.003446\n\n\n75%\n0.032451\n\n\nmax\n0.337091\n\n\n\n\n\n\n\n\nfrom scipy import stats\n\n\nstats.ttest_1samp(ar_l, 0)\n\nTtest_1sampResult(statistic=3.579861379325141, pvalue=0.00040021773286985055)\n\n\n\nstats.wilcoxon(ar_l, len(ar_l)*[0], correction=True,alternative='two-sided')\n\nWilcoxonResult(statistic=19144.0, pvalue=0.008515412037149648)\n\n\n\ndelete_code\n\n['300423',\n '603106',\n '300612',\n '000793',\n '601619',\n '000038',\n '300654',\n '300525',\n '000061',\n '601066',\n '300773',\n '300788',\n '601512',\n '688158',\n '688051',\n '688096',\n '300975',\n '003040',\n '300996',\n '300889',\n '601686',\n '003032',\n '688135',\n '300949',\n '301213',\n '301116']\n\n\n\nlen(delete_code)\n\n26"
  },
  {
    "objectID": "posts/2022-05-01-Plotting-with-Pandas/index.html",
    "href": "posts/2022-05-01-Plotting-with-Pandas/index.html",
    "title": "Plotting with Pandas",
    "section": "",
    "text": "åœ¨æ•°æ®åˆ†æè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ç¢°åˆ°éœ€è¦å¿«é€Ÿç»˜å›¾çš„åœºæ™¯ã€‚æ¯”å¦‚ï¼Œåœ¨å›å½’åˆ†æå‰çœ‹ä¸€ä¸‹ y å’Œ x çš„æ•£ç‚¹å›¾ã€‚å¯¹äºè¿™ç±»éœ€æ±‚ï¼Œpandas æä¾›äº†ä¸€ä¸ª pandas.DataFrame.plot æ–¹æ³•å¯ä»¥æ–¹ä¾¿å¿«æ·åœ°å®ç°å¯è§†åŒ–ã€‚pandas.DataFrame.plot æ–¹æ³•æ˜¯å¯¹ matplotlib.axes.Axes.plot çš„å°è£…ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨è¯¥æ–¹æ³•å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥ matplotlib åŒ…ã€‚ \n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\né¦–å…ˆæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ª 10\\times4 çš„ DataFrameï¼Œåœ¨æ¥ä¸‹æ¥çš„ç»˜å›¾ä¸­ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨è¯¥æ•°æ®ä½œä¸ºç¤ºä¾‹ã€‚\n\nNote: np.random.randn(x, y) è¿”å›æ¥è‡ªæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„æ ·æœ¬ï¼Œæ ·æœ¬é‡ä¸º x \\times yã€‚ pd.date_range() è¿”å›å›ºå®šé¢‘ç‡çš„æ—¶é—´ç´¢å¼•ã€‚\n\n\nts = pd.DataFrame(np.random.randn(10, 4), index = pd.date_range('1/1/2022', periods = 10), columns=['A','B','C','D'])\nts = ts.cumsum()\nts.head()\n\n\n\n\n\n\n\n\nA\nB\nC\nD\n\n\n\n\n2022-01-01\n-0.275063\n-0.555619\n-0.299752\n-0.284489\n\n\n2022-01-02\n1.519735\n-0.615560\n-0.524613\n0.406859\n\n\n2022-01-03\n1.539964\n-0.803152\n0.471348\n1.377172\n\n\n2022-01-04\n1.957513\n-0.881174\n0.838217\n2.101817\n\n\n2022-01-05\n3.216571\n-0.842396\n-0.144859\n2.219383\n\n\n\n\n\n\n\nä¸‹é¢ï¼Œæˆ‘ä»¬è°ƒç”¨ plot æ–¹æ³•æŸ¥çœ‹ä¸€ä¸‹åˆšåˆšç”Ÿæˆçš„æ•°æ®ã€‚å¯¹ DataFrame ä¸­çš„æ¯ä¸€åˆ—æ•°å€¼å‹æ•°æ®ï¼Œpandas é»˜è®¤ä½¿ç”¨æŠ˜çº¿å›¾è¿›è¡Œç»˜åˆ¶ã€‚\n\nts.plot()\n\n\n\n\n\n\n\n\npandas ä¹Ÿæ”¯æŒå¯¹ Series ç±»å‹è°ƒç”¨ plot æ–¹æ³•ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹ä»»æ„ä¸€åˆ—è¿›è¡Œç»˜å›¾ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ A åˆ—æ•°æ®ï¼š\n\nts['A'].plot()\n\n\n\n\n\n\n\n\né™¤äº†æŠ˜çº¿å›¾ï¼Œplot æ–¹æ³•è¿˜æ”¯æŒå…¶ä»–ç±»å›¾çš„ç»˜åˆ¶ï¼Œå¯ä»¥é€šè¿‡ kind å‚æ•°å®ç°ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ A åˆ—æ•°æ®ä¸ B åˆ—æ•°æ®çš„æ•£ç‚¹å›¾ã€‚\n\nts.plot(x='A', y='B', kind='scatter')\n\n\n\n\n\n\n\n\næ­¤å¤–ï¼Œpandas ä¹Ÿæä¾›å¦å¤–ä¸€ç§æ–¹å¼æ¥ç®€åŒ–è°ƒç”¨ï¼Œå³ä½¿ç”¨ DataFrame.plot.scatter() çš„æ–¹å¼æ¥è°ƒç”¨ï¼š\n\nts.plot.scatter(x='A', y='B')\n\n\n\n\n\n\n\n\nplot æ–¹æ³•æ”¯æŒå¦‚ä¸‹å›¾ç±»çš„ç»˜åˆ¶ï¼š\n\nline : æŠ˜çº¿å›¾ï¼ˆline plotï¼Œé»˜è®¤ï¼‰\nbar : æŸ±çŠ¶å›¾ï¼ˆvertical bar plotï¼‰\nbarh : æ¨ªå‘æŸ±çŠ¶å›¾ï¼ˆhorizontal bar plotï¼‰\nhist : ç›´æ–¹å›¾ï¼ˆhistogramï¼‰\nbox : ç®±å‹å›¾ï¼ˆbox plotï¼‰\nkde : æ ¸å¯†åº¦ä¼°è®¡å›¾ï¼ˆKernel Density Estimation plotï¼‰\ndensity : same as â€˜kdeâ€™\narea : é¢ç§¯å›¾ï¼ˆarea plotï¼‰\npie : é¥¼å›¾ï¼ˆpie plotï¼‰\nscatter : æ•£ç‚¹å›¾ï¼ˆscatter plotï¼ŒDataFrame onlyï¼‰\nhexbin : å…­è¾¹å½¢å›¾ï¼ˆhexbin plotï¼ŒDataFrame onlyï¼‰\n\næœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›æŠŠæ¯ä¸€åˆ—æ•°æ®ç»˜åˆ¶åœ¨ä¸€å¼ å­å›¾ä¸Šã€‚åœ¨è°ƒç”¨ plot æ–¹æ³•æ—¶ï¼Œå°† subplots å‚æ•°è®¾ç½®ä¸º true å³å¯å®ç°ã€‚\n\nts.plot(subplots=True)\n\narray([&lt;AxesSubplot:&gt;, &lt;AxesSubplot:&gt;, &lt;AxesSubplot:&gt;, &lt;AxesSubplot:&gt;],\n      dtype=object)\n\n\n\n\n\n\n\n\n\nè¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ layout å‚æ•°ä¸ºå­å›¾æ’ç‰ˆï¼š\n\nts.plot(subplots=True, layout=(2,2))\n\narray([[&lt;AxesSubplot:&gt;, &lt;AxesSubplot:&gt;],\n       [&lt;AxesSubplot:&gt;, &lt;AxesSubplot:&gt;]], dtype=object)\n\n\n\n\n\n\n\n\n\nplot æ–¹æ³•ä¸­æœ‰ä¸€ä¸ª ax å‚æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ª matplotlib åæ ‡è½´å¯¹è±¡ï¼ˆmatplotlib axes objectï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬ä¾¿å¯ä»¥åœ¨ matplotlib axes å¯¹è±¡ä¸Šåˆ©ç”¨ plot æ–¹æ³•ç”»å›¾ã€‚è¿™æ„å‘³ç€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ matplotlib æä¾›çš„æ–¹æ³•å¯¹å›¾åƒè¿›è¡Œå®šåˆ¶ã€‚\n\nts.index\n\nDatetimeIndex(['2022-01-01', '2022-01-02', '2022-01-03', '2022-01-04',\n               '2022-01-05', '2022-01-06', '2022-01-07', '2022-01-08',\n               '2022-01-09', '2022-01-10'],\n              dtype='datetime64[ns]', freq='D')\n\n\n\nfig, axs = plt.subplots(figsize=(12,4), dpi=500)\nts.plot.bar(ax=axs, align='center', grid=True, title='NO$_2$ concentration Bar Plot')\nfor label in axs.xaxis.get_ticklabels():\n    label.set_color('darkblue')\n    label.set_rotation(30)\n    label.set_fontsize(8)\n    \naxs.set_ylabel(\"NO$_2$ concentration\")\n\nText(0, 0.5, 'NO$_2$ concentration')\n\n\n\n\n\n\n\n\n\n\nfig, axs = plt.subplots(figsize=(12,4), dpi=500)\nts.plot.bar(ax=axs, align='center', grid=True, title='NO$_2$ concentration Bar Plot')\naxs.set_xticks(range(len(ts.index)))\naxs.set_xticklabels([i.strftime('%Y-%m-%d') for i in ts.index], rotation=30)\n\n[Text(0, 0, '2022-01-01'),\n Text(1, 0, '2022-01-02'),\n Text(2, 0, '2022-01-03'),\n Text(3, 0, '2022-01-04'),\n Text(4, 0, '2022-01-05'),\n Text(5, 0, '2022-01-06'),\n Text(6, 0, '2022-01-07'),\n Text(7, 0, '2022-01-08'),\n Text(8, 0, '2022-01-09'),\n Text(9, 0, '2022-01-10')]\n\n\n\n\n\n\n\n\n\n\nfig.savefig('no2_concentration.png')"
  },
  {
    "objectID": "posts/2024-08-14-ç†µå€¼æ³•çš„åŸç†åŠPythonå®ç°/index.html",
    "href": "posts/2024-08-14-ç†µå€¼æ³•çš„åŸç†åŠPythonå®ç°/index.html",
    "title": "ç†µå€¼æ³•çš„åŸç†åŠPythonå®ç°",
    "section": "",
    "text": "åœ¨å®è¯åˆ†æä¸­ï¼Œå¯¹äºä¸€ä¸ªå†…æ¶µè¾ƒä¸ºä¸°å¯Œçš„å˜é‡ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šæ„å»ºä¸€ä¸ªç»¼åˆè¯„ä»·æŒ‡æ ‡ä½“ç³»è¿›è¡Œæµ‹åº¦ã€‚æ¯”å¦‚ä»Šå¹´å¤§ç«çš„æ–°è´¨ç”Ÿäº§åŠ›ï¼Œå¾ˆå¤šå­¦è€…ä»æ–°è´¨åŠ³åŠ¨è€…ã€æ–°è´¨åŠ³åŠ¨å¯¹è±¡å’Œæ–°è´¨åŠ³åŠ¨èµ„æ–™å‡ºå‘å»ºç«‹ä¸€çº§æŒ‡æ ‡ï¼Œåˆåœ¨ä¸€çº§æŒ‡æ ‡ä½“ç³»ä¸‹å†åˆ†åˆ«å»ºç«‹äºŒçº§ä¹ƒè‡³ä¸‰çº§æŒ‡æ ‡ï¼Œå½¢æˆå¤šç»´ç»¼åˆè¯„ä»·æŒ‡æ ‡ä½“ç³»ã€‚è¿™ç§è¯„ä»·æŒ‡æ ‡ä½“ç³»çš„æ„å»ºæ–¹å¼å¸¦æ¥äº†ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•ç¡®å®šå„æŒ‡æ ‡ä½“ç³»ä¹‹é—´çš„æƒé‡å‘¢ï¼Ÿæœ‰ä¸€ç§è§£å†³åŠæ³•å«åšä¸“å®¶æ‰“åˆ†ï¼Œä¹Ÿå°±æ˜¯ç”±å¤šä½ä¸“å®¶è¿›è¡Œèµ‹æƒï¼Œç„¶åå†å–ä¸“å®¶èµ‹æƒçš„å‡å€¼ã€‚è¿™ç§æ–¹å¼æœ‰å®ƒçš„ä¼˜ç‚¹ï¼Œä½†äººçš„ä¸»è§‚æ€§ä¸å¯é¿å…çš„ä¼šå½±å“è¯„ä»·ç»“æœã€‚æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥é¿å…äººçš„ä¸»è§‚æ€§å‘¢ï¼Ÿè¿™ä¸ªç­”æ¡ˆå°±æ˜¯ç†µå€¼æ³•ã€‚è¦ç†è§£ç†µå€¼æ³•ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ç†è§£ä¿¡æ¯é‡å’Œä¿¡æ¯ç†µã€‚\n\nä¿¡æ¯é‡å’Œä¿¡æ¯ç†µ\nä¿¡æ¯é‡å¯ä»¥ç®€å•ç†è§£ä¸ºä¸€ä¸ªäº‹ä»¶å‘ç”Ÿå¸¦æ¥çš„ä¿¡æ¯å«é‡ã€‚ä¿¡æ¯é‡ä¸äº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡æˆåæ¯”ï¼Œè¿™æ„å‘³è¶Šå¹³å¸¸çš„äº‹ä»¶å‘ç”Ÿå¸¦æ¥çš„ä¿¡æ¯é‡è¶Šä½ï¼Œè€Œä¸å¯»å¸¸çš„äº‹ä»¶å‘ç”Ÿå¸¦æ¥çš„ä¿¡æ¯é‡è¶Šé«˜ã€‚æ¯”å¦‚æˆ‘å‘Šè¯‰ä½ ï¼Œæ˜å¤©å¤ªé˜³ä»ä¸œè¾¹å‡èµ·ï¼Œä½ ä¼šè§‰å¾—æˆ‘åœ¨è¯´åºŸè¯ï¼Œå³è¯é‡Œæ²¡æœ‰ä¿¡æ¯é‡ã€‚å¦‚æœæˆ‘å‘Šè¯‰ä½ ä¸€ä»¶ä½ ä¸çŸ¥é“çš„å…«å¦ï¼Œä½ ä¼šè§‰å¾—æˆ‘è¯´çš„å†…å®¹ä¿¡æ¯é‡çˆ†ç‚¸ï¼Œè€Œå…«å¦ä¹Ÿå°±æ˜¯ç”Ÿæ´»ä¸­ä¸å¸¸è§çš„äº‹å„¿ã€‚åœ¨ä¿¡æ¯è®ºä¸­ï¼Œå¯¹äºä¸€ä¸ªäº‹ä»¶ ğ‘‹=ğ‘¥_ğ‘–ï¼Œå®ƒçš„ä¿¡æ¯é‡ I(x_i) å®šä¹‰ä¸ºï¼š\n\nI(x_i) = -log_{2}p(x_i)\n\nå…¶ä¸­ï¼Œp(x_i) æ˜¯äº‹ä»¶ x_i å‘ç”Ÿçš„æ¦‚ç‡ã€‚\nä¿¡æ¯ç†µï¼ˆEntropyï¼‰éšæœºäº‹ä»¶ä¿¡æ¯é‡çš„æœŸæœ›ã€‚å¯¹äºä¸€ä¸ªéšæœºäº‹ä»¶ Xï¼Œå…¶ä¿¡æ¯ç†µ H(X) å®šä¹‰ä¸ºï¼š\n\nH(X) = -\\sum_{i=1}^{n}p(x_i)log_{2}p(x_i)\n\næˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå½“X æ˜¯ç¡®å®šæ€§çš„æ—¶å€™ï¼Œä¿¡æ¯ç†µ H(x) å–æœ€å°å€¼ 0ã€‚å½“ X æœä»å‡åŒ€åˆ†å¸ƒçš„æ—¶å€™ï¼Œä¿¡æ¯ç†µ H(X) å–æœ€å¤§å€¼ log_{2}nã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéšæœºå˜é‡ X ç­‰å¯èƒ½å–åˆ°æ¯ä¸€ä¸ªå€¼ï¼Œç³»ç»Ÿå®Œå…¨ä¸å¯é¢„æµ‹ã€‚å› æ­¤ï¼Œä¿¡æ¯ç†µå¯ä»¥æµ‹åº¦ç³»ç»Ÿçš„ä¸ç¡®å®šæ€§ï¼Œç³»ç»Ÿçš„ä¸ç¡®å®šæ€§è¶Šå¤§ï¼Œä¿¡æ¯ç†µè¶Šå¤§ï¼Œåä¹‹ä¿¡æ¯ç†µè¶Šå°ã€‚\n\n\nç†µå€¼æ³•\nå¯¹äºä¸€ä¸ªæŒ‡æ ‡è€Œè¨€ï¼Œå¦‚æœå®ƒçš„å–å€¼ç¦»æ•£ç¨‹åº¦éå¸¸å°ï¼Œä»£è¡¨å„ä¸ªæ ·æœ¬ä¹‹é—´çš„å·®å¼‚å¾ˆå°ï¼Œé‚£ä¹ˆè¯¥æŒ‡æ ‡å¯¹äºæ•´ä½“è¯„ä»·ä½“ç³»è€Œè¨€ç›¸å¯¹å½±å“è¾ƒå°ã€‚æç«¯ä¸€ç‚¹ï¼Œå¦‚æœä¸€ä¸ªæŒ‡æ ‡å„æ ·æœ¬å–å€¼ç›¸åŒï¼Œæ¯”å¦‚è€ƒè™‘æ€§åˆ«è¿™ä¸ªæŒ‡æ ‡ï¼Œæ‰€æœ‰çš„æ ·æœ¬å‡ä¸ºç”·æ€§ï¼Œé‚£æˆ‘ä»¬å°±æ²¡æœ‰å¿…è¦å°†è¿™ä¸ªæŒ‡æ ‡çº³å…¥è¯„ä»·ä½“ç³»äº†ã€‚å› æ­¤ï¼ŒæŒ‡æ ‡çš„ç¦»æ•£ç¨‹åº¦ï¼Œæˆ–è€…è¯´æŒ‡æ ‡åœ¨ä¸åŒæ ·æœ¬ä¹‹é—´çš„å·®å¼‚æ€§åœ¨ä¸€å®šç¨‹åº¦ä¸Šåæ˜ äº†æŒ‡æ ‡å¯¹äºè¯„ä»·ä½“ç³»çš„é‡è¦æ€§ã€‚è€Œä¿¡æ¯ç†µå¯ä»¥å¾ˆå¥½çš„åº¦é‡æŒ‡æ ‡åœ¨ä¸åŒæ ·æœ¬ä¹‹é—´çš„å·®å¼‚æ€§ã€‚å½“ä¸€ä¸ªæŒ‡æ ‡çš„ç†µå€¼è¾ƒé«˜æ—¶ï¼Œæ„å‘³ç€è¯¥æŒ‡æ ‡çš„å„ä¸ªæ ·æœ¬ä¹‹é—´çš„æ•°å€¼åˆ†å¸ƒè¾ƒä¸ºå‡åŒ€ï¼Œå³å„ä¸ªæ ·æœ¬åœ¨è¯¥æŒ‡æ ‡ä¸Šç›¸ä¼¼ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥æŒ‡æ ‡å¯¹äºåŒºåˆ†ä¸åŒæ ·æœ¬çš„èƒ½åŠ›è¾ƒå¼±ï¼Œå› æ­¤æˆ‘ä»¬è®¤ä¸ºå®ƒæä¾›çš„æœ‰ç”¨ä¿¡æ¯é‡è¾ƒå°‘ã€‚å½“ä¸€ä¸ªæŒ‡æ ‡çš„ç†µå€¼è¾ƒä½æ—¶ï¼Œæ„å‘³ç€è¯¥æŒ‡æ ‡çš„å„ä¸ªæ ·æœ¬ä¹‹é—´çš„å·®å¼‚è¾ƒå¤§ï¼Œæ•°å€¼åˆ†å¸ƒä¸å‡åŒ€ã€‚è¿™è¡¨æ˜è¯¥æŒ‡æ ‡å¯¹ä¸åŒæ ·æœ¬æœ‰è¾ƒå¥½çš„åŒºåˆ†èƒ½åŠ›ï¼Œèƒ½å¤Ÿæä¾›æ›´å¤šçš„æœ‰ç”¨ä¿¡æ¯é‡ï¼Œå› æ­¤åœ¨ç»¼åˆè¯„ä»·ä¸­åº”å½“ç»™äºˆæ›´å¤§çš„æƒé‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®—å„æŒ‡æ ‡çš„ä¿¡æ¯ç†µæ¥è¿›è¡Œèµ‹æƒï¼Œè€Œè¿™ä¸æ¶‰åŠäººçš„ä¸»è§‚åˆ¤æ–­ã€‚\nè€ƒè™‘ m ä¸ªå¾…è¯„ä»·çš„æ ·æœ¬å’Œ n é¡¹æŒ‡æ ‡ï¼Œå½¢æˆåŸå§‹æŒ‡æ ‡æ•°æ®çŸ©é˜µï¼š\n\nX =\n\\left(\n\\begin{matrix}\nX_{11} & X_{12} & \\cdots & X_{1n} \\\\\nX_{21} & X_{22} & \\cdots & X_{2n} \\\\\n\\vdots & \\vdots & \\vdots & \\vdots \\\\\nX_{m1} & X_{m2} & \\cdots & X_{mn} \\\\\n\\end{matrix}\n\\right)\n\nå…¶ä¸­ï¼ŒX_{ij} ä»£è¡¨ç¬¬ i ä¸ªæ ·æœ¬ç¬¬ j é¡¹æŒ‡æ ‡çš„è¯„ä»·æ•°å€¼ã€‚ä½¿ç”¨ç†µå€¼æ³•å¯¹åŸå§‹æŒ‡æ ‡æ•°æ®çŸ©é˜µè¿›è¡Œæµ‹åº¦ï¼ŒåŸºæœ¬æ­¥éª¤å¦‚ä¸‹ï¼š\n\næ•°æ®é¢„å¤„ç†\n\nä¸ºæ¶ˆé™¤å„åŸå§‹æŒ‡æ ‡å€¼æ•°é‡å’Œé‡çº²å·®å¼‚å¸¦æ¥çš„å½±å“ï¼Œåœ¨å¯¹æŒ‡æ ‡è¿›è¡Œèµ‹æƒæ“ä½œå‰,éœ€è¦å…ˆå¯¹åŸå§‹æŒ‡æ ‡æ•°æ®è¿›è¡Œé¢„å¤„ç†ã€‚æ–‡çŒ®ä¸­å¤šé‡‡ç”¨æå·®æ ‡å‡†åŒ–å¤„ç†ï¼ˆæœ±å–œå®‰ã€é­å›½æ ‹ï¼Œ2015ï¼‰ã€‚å¯¹äºæ­£å‘æŒ‡æ ‡ï¼Œå³åœ¨è¯„ä»·æ—¶è¯¥æŒ‡æ ‡è¶Šå¤§è¶Šå¥½ï¼š\n\nx_{ij} = \\frac{X_{ij} - min(X_j)}{max(X_j) - min(X_j)}\n\nå¯¹äºè´Ÿå‘æŒ‡æ ‡ï¼Œå³åœ¨è¯„ä»·æ—¶è¯¥æŒ‡æ ‡è¶Šå°è¶Šå¥½ï¼š\n\nx_{ij} = \\frac{max(X_j) - X_{ij}}{max(X_j) - min(X_j)}\n\n\nè®¡ç®—ä¿¡æ¯ç†µ\n\nè®¡ç®—ç¬¬ j ä¸ªè¯„ä»·æŒ‡æ ‡çš„ä¿¡æ¯ç†µï¼Œé¦–å…ˆéœ€è¦è®¡ç®—æ¯ä¸ªæ ·æœ¬æ ‡å¿—å€¼çš„æ¯”é‡ \\omega_{ij}ï¼š\n\n\\omega_{ij} = \\frac{x_{ij}}{\\sum_{i=1}^{m}x_{ij}}\n\næ³¨æ„ï¼Œè¿™é‡Œçš„æ¯”é‡ \\omega_{ij} ä¸æ˜¯ä¸¥æ ¼æ„ä¹‰ä¸Šçš„æ¦‚ç‡ï¼Œä½†å®ƒåœ¨å½¢å¼ä¸Šä¸æ¦‚ç‡åˆ†å¸ƒç›¸ä¼¼ï¼Œå¯ä»¥è¢«è§†ä¸ºè¯¥æ ·æœ¬åœ¨æŒ‡æ ‡ j ä¸‹çš„é‡è¦æ€§â€œæ¦‚ç‡â€ã€‚ç„¶åï¼Œè®¡ç®—æŒ‡æ ‡ j çš„ä¿¡æ¯ç†µ e_jï¼š\n\ne_j = -\\frac{1}{logm}\\sum_{i=1}^{m}\\omega_{ij}log\\omega_{ij}\n\nè¿™é‡Œé™¤ä»¥ logm æ˜¯ä¸ºäº†å¯¹ç†µå€¼è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œç¡®ä¿ç†µå€¼çš„èŒƒå›´åœ¨ [0, 1] ä¹‹é—´ã€‚\n\nè®¡ç®—å·®å¼‚æ€§ç³»æ•°\n\nä»€ä¹ˆæ˜¯å·®å¼‚æ€§ç³»æ•°ï¼Œä¸ºä»€ä¹ˆæœ‰äº†ä¿¡æ¯ç†µè¿˜è¦è®¡ç®—å·®å¼‚æ€§ç³»æ•°ï¼Œè¦å›ç­”è¿™ä¸¤ä¸ªé—®é¢˜æˆ‘ä»¬è¦å†å›é¡¾ä¸€ä¸‹ä¿¡æ¯é‡å’Œä¿¡æ¯ç†µçš„æ¦‚å¿µã€‚åœ¨ä¿¡æ¯è®ºä¸­ï¼Œä¿¡æ¯ç†µæ˜¯éšæœºå˜é‡æ‰€æä¾›çš„å¹³å‡ä¿¡æ¯é‡çš„åº¦é‡ã€‚ç†µå€¼è¾ƒé«˜è¡¨ç¤ºè¯¥éšæœºå˜é‡å…·æœ‰è¾ƒå¤§çš„ä¸ç¡®å®šæ€§ï¼Œå³åœ¨ä¸åŒå¯èƒ½ç»“æœä¹‹é—´çš„é€‰æ‹©è¶Šå¤šï¼Œå› æ­¤å¹³å‡è€Œè¨€ï¼Œè§‚å¯Ÿè¯¥å˜é‡æ—¶è·å¾—çš„ä¿¡æ¯é‡å°±è¶Šå¤§ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç†µå€¼æ³•ä¸­ï¼Œâ€œä¿¡æ¯é‡â€æœ‰ä¸€ä¸ªç‰¹å®šçš„è§£è¯»ï¼Œå®ƒå¹¶ä¸ä»…ä»…æŒ‡ä¿¡æ¯è®ºä¸­çš„â€œå¹³å‡ä¿¡æ¯é‡â€ï¼Œè€Œæ˜¯æ›´å¤šåœ°æŒ‡è¿™ä¸ªæŒ‡æ ‡åœ¨æ ·æœ¬ä¹‹é—´çš„â€œå·®å¼‚æ€§â€æˆ–â€œåŒºåˆ†èƒ½åŠ›â€ã€‚å·®å¼‚æ€§ç³»æ•°çš„å¼•å…¥ï¼Œæ˜¯ä¸ºäº†å°†ä¿¡æ¯ç†µçš„è¿™ä¸ªæ„ä¹‰é€†è½¬è¿‡æ¥ï¼šä¿¡æ¯ç†µè¾ƒä½æ—¶ï¼Œå·®å¼‚æ€§ç³»æ•°è¾ƒé«˜ï¼Œè¯´æ˜è¿™ä¸ªæŒ‡æ ‡çš„åŒºåˆ†èƒ½åŠ›è¾ƒå¼ºï¼Œå¯¹ç³»ç»Ÿçš„ä¸ç¡®å®šæ€§æœ‰æ›´å¤§çš„å‡å°‘ä½œç”¨ï¼Œæä¾›çš„ä¿¡æ¯é‡æ›´â€œæœ‰ç”¨â€ã€‚å› æ­¤åœ¨ç†µå€¼æ³•ä¸­ï¼Œå·®å¼‚æ€§ç³»æ•°æ›´ç›´æ¥åœ°åæ˜ äº†ä¸€ä¸ªæŒ‡æ ‡çš„é‡è¦æ€§ã€‚\n\ng_j = 1 - e_j\n\n\nè®¡ç®—æŒ‡æ ‡æƒé‡\n\n\n\\lambda_j = \\frac{g_j}{\\sum_{j=1}^{n}g_j}\n\n\nè®¡ç®—ç»¼åˆå¾—åˆ†\n\n\nS_i = \\sum_{j=1}^{n}\\lambda_j x_{ij},i=1,2,\\cdots,m\n\n\n\nPythonä»£ç å®ç°\n\nimport numpy as np\nimport pandas as pd\nfrom typing import Tuple\n\ndef standardize(data: pd.DataFrame, flags: list, offset=0.0001) -&gt; pd.DataFrame:\n    \"\"\"å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–\n\n    Args:\n        data (pd.DataFrame): å¾…æ ‡å‡†åŒ–æ•°æ®\n        flags (list): æŒ‡æ ‡æ­£å‘æˆ–è€…åå‘æ ‡è¯†ï¼Œä¾‹å¦‚[\"+\", \"-\", \"+\"]\n        offset (float): åç§»é‡ï¼Œé»˜è®¤ä¸º 0.0001\n\n    Returns:\n        pd.DataFrame: æ ‡å‡†åŒ–åçš„æ•°æ®\n    \"\"\"    \n    standardized_list = []\n    for i, flag in enumerate(flags):\n        if flag == \"+\":\n            standardized_feature = (\n                (data.iloc[:, i] - data.iloc[:, i].min())\n                / (data.iloc[:, i].max() - data.iloc[:, i].min())\n            ) + offset\n            standardized_list.append(standardized_feature)\n        else:\n            standardized_feature = (\n                (data.iloc[:, i].max() - data.iloc[:, i])\n                / (data.iloc[:, i].max() - data.iloc[:, i].min())\n            ) + offset\n            standardized_list.append(standardized_feature)\n    standardized_df = pd.concat(standardized_list, axis=1)\n\n    return standardized_df\n\ndef entropy_weight(data: pd.DataFrame, flags: list, offset=0.0001) -&gt; Tuple[list, pd.DataFrame]:\n    \"\"\"å¯¹äºç»™å®šçš„è¾“å…¥æ•°æ®ï¼Œè®¡ç®—ç†µæƒæ³•ç»¼åˆå¾—åˆ†ï¼Œä»¥åŠå¯¹åº”çš„æƒé‡\n\n    Args:\n        data (pd.DataFrame): è¾“å…¥åŸå§‹æ•°æ®\n        flags (list): æŒ‡æ ‡æ­£å‘æˆ–è€…åå‘æ ‡è¯†ï¼Œä¾‹å¦‚[\"+\", \"-\", \"+\"]\n        offset (float): åç§»é‡ï¼Œé»˜è®¤ä¸º 0.0001\n\n    Returns:\n        Tuple[list, pd.DataFrame]: æƒé‡ï¼›å¤„ç†åçš„æ•°æ®\n    \"\"\"    \n    standardized_df = standardize(data, flags, offset)\n    p = standardized_df / standardized_df.sum().values\n    g_list = []\n    for feature in p.columns:\n        entropy = sum(p.loc[:, feature] * np.log2(p.loc[:, feature])) * (\n            -1 / np.log2(p.shape[0])\n        )\n        g = 1 - entropy\n        print(f\"{feature}ç†µå€¼ä¸ºï¼š{entropy}ï¼›å·®å¼‚æ€§ç³»æ•°ä¸º{g}\")\n        g_list.append(g)\n    weight = g_list / sum(g_list)\n    score = np.dot(standardized_df.values, np.array(weight)).round(4)\n    score_df = pd.DataFrame(score, index=data.index, columns=[\"ç»¼åˆå¾—åˆ†\"])\n\n    return weight, score_df\n\n\nimport matplotlib.pyplot as plt\nfrom numpy.random import default_rng\n\nrng = default_rng(12345)\n\n\n# æµ‹è¯•æ ·æœ¬\ndf = pd.DataFrame({\n    \"æ–°è´¨åŠ³åŠ¨åŠ›\": rng.uniform(0, 1, 100),\n    \"æ–°è´¨åŠ³åŠ¨å¯¹è±¡\": rng.binomial(1, 0.5, 100),\n    })\n\n\ndf\n\n\n\n\n\n\n\n\næ–°è´¨åŠ³åŠ¨åŠ›\næ–°è´¨åŠ³åŠ¨å¯¹è±¡\n\n\n\n\n0\n0.958712\n0\n\n\n1\n0.083186\n1\n\n\n2\n0.184418\n0\n\n\n3\n0.370891\n1\n\n\n4\n0.914208\n1\n\n\n...\n...\n...\n\n\n95\n0.614658\n1\n\n\n96\n0.621998\n0\n\n\n97\n0.453705\n0\n\n\n98\n0.379921\n0\n\n\n99\n0.435844\n1\n\n\n\n\n100 rows Ã— 2 columns\n\n\n\n\nfig, axs = plt.subplots(1, 1, figsize=(12,6), dpi=200)\ndf.plot(ax=axs, linestyle=\"none\", marker=\".\")\n\n\n\n\n\n\n\n\n\nweight, score_df = entropy_weight(df, [\"+\", \"+\"])\n\næ–°è´¨åŠ³åŠ¨åŠ›ç†µå€¼ä¸ºï¼š0.955955464314207ï¼›å·®å¼‚æ€§ç³»æ•°ä¸º0.04404453568579303\næ–°è´¨åŠ³åŠ¨å¯¹è±¡ç†µå€¼ä¸ºï¼š0.8408607632351521ï¼›å·®å¼‚æ€§ç³»æ•°ä¸º0.15913923676484787\n\n\n\nscore_df\n\n\n\n\n\n\n\n\nç»¼åˆå¾—åˆ†\n\n\n\n\n0\n0.2103\n\n\n1\n0.8005\n\n\n2\n0.0396\n\n\n3\n0.8639\n\n\n4\n0.9837\n\n\n...\n...\n\n\n95\n0.9177\n\n\n96\n0.1361\n\n\n97\n0.0990\n\n\n98\n0.0827\n\n\n99\n0.8783\n\n\n\n\n100 rows Ã— 1 columns\n\n\n\n\n\nå‚è€ƒèµ„æ–™\n\næœ±å–œå®‰,é­å›½æ ‹.ç†µå€¼æ³•ä¸­æ— é‡çº²åŒ–æ–¹æ³•ä¼˜è‰¯æ ‡å‡†çš„æ¢è®¨[J].ç»Ÿè®¡ä¸å†³ç­–,2015,(02):12-15."
  },
  {
    "objectID": "posts/2023-10-17-å†³ç­–æ ‘ç®—æ³•/index.html",
    "href": "posts/2023-10-17-å†³ç­–æ ‘ç®—æ³•/index.html",
    "title": "å†³ç­–æ ‘ç®—æ³•",
    "section": "",
    "text": "ä¿¡æ¯é‡æ˜¯å¯¹ä¿¡æ¯çš„åº¦é‡ï¼Œå…¶å¤§å°ä¸æ¦‚ç‡æœ‰å…³ï¼Œæ¦‚ç‡è¶Šå°ï¼Œäº‹ä»¶å‘ç”Ÿå¸¦æ¥çš„ä¿¡æ¯é‡è¶Šå¤§ã€‚å› æ­¤ä¿¡æ¯é‡æ˜¯æ¦‚ç‡çš„å‡å‡½æ•°ï¼Œæ•…é€‰æ‹© logp(x_i)^{-1} æ¥è¡¡é‡ä¿¡æ¯é‡ã€‚\nä¿¡æ¯ç†µæ˜¯ä¿¡æ¯é‡çš„æœŸæœ›ï¼Œè¡¡é‡äº‹ä»¶å‘ç”Ÿå¸¦æ¥çš„å¹³å‡ä¿¡æ¯ã€‚\nä¿¡æ¯ç†µä¹Ÿç”¨æ¥è¯„ä¼°æ ·æœ¬é›†åˆçš„çº¯åº¦ã€‚å¦‚æœæ ·æœ¬é›†åˆæœ‰å¾ˆå¤šç±»åˆ«ï¼Œåˆ™æ ·æœ¬çš„çº¯åº¦å°±æ¯”è¾ƒä½ï¼Œä¿¡æ¯ç†µå°±è¶Šå¤§ï¼›å¦‚æœæ ·æœ¬çš„é›†åˆçš„ç±»åˆ«æ¯”è¾ƒå°‘ï¼Œåˆ™æ ·æœ¬çš„çº¯åº¦å°±æ¯”è¾ƒé«˜ï¼Œä¿¡æ¯ç†µå°±è¶Šå°ã€‚\nä¿¡æ¯ç†µå…¬å¼ï¼š\n\nH(X) = -\\sum_{i=1}^{n}p(x_i)logp(x_i)\n\nå¯¹è”åˆåˆ†å¸ƒ p(x,y)ï¼ŒY å¯¹ X çš„æ¡ä»¶ç†µæ˜¯ Y çš„æ¡ä»¶åˆ†å¸ƒçš„ç†µå¯¹ X çš„æ•°å­¦æœŸæœ›ã€‚å…¶å…¬å¼ä¸ºï¼š\n\n\\begin{split}\nH(Y/X) &= \\sum_{i=1}^{n}p(x_i)(-\\sum_{j=1}^{m}p(y_j/x)logp(y_j/x)) \\\\\n&= -\\sum_{x \\in X} \\sum_{y \\in Y} p(x,y)logp(y/x)\n\\end{split}\n\nç»™å®šæ¡ä»¶ä¸‹çš„æ¡ä»¶ç†µä¼šå˜å°ï¼Œå› ä¸ºæ¡ä»¶ç»™äº†æ–°çš„ä¿¡æ¯ï¼Œç³»ç»Ÿçš„ä¸ç¡®å®šæ€§ä¼šå‡å°ã€‚ä¿¡æ¯ç†µä¸æ¡ä»¶ç†µçš„å·®å€¼å³ä¸ºä¿¡æ¯å¢ç›Šã€‚\nä¿¡æ¯å¢ç›Šæ³•åˆ™çš„ç¼ºé™·åœ¨äºåˆ©ç”¨ä¿¡æ¯å¢ç›Šä¼šå€¾å‘äºé€‰æ‹©ç‰¹å¾å–å€¼è¾ƒå¤šçš„èŠ‚ç‚¹ã€‚ç‰¹å¾å–å€¼è¾ƒå¤šï¼Œæ¡ä»¶ç†µè¶Šå°ï¼Œä¿¡æ¯å¢ç›Šè¶Šå¤§ã€‚è€ƒè™‘æé™æƒ…å†µï¼Œå‡è®¾é‡‡ç”¨æ ·æœ¬ç¼–å·ä½œä¸ºåˆ†ç±»ç‰¹å¾ï¼Œé‚£ä¹ˆæ¯ä¸ªç¼–å·å”¯ä¸€ç¡®å®šä¸€ä¸ªæ ·æœ¬ï¼Œæ¡ä»¶ç†µä¸º 0ï¼Œä¿¡æ¯å¢ç›Šæœ€å¤§ã€‚ä½†è¿™æ ·çš„åˆ†ç±»æ–¹å¼æ˜¾ç„¶æ²¡æœ‰æ„ä¹‰ï¼Œä¸å…·å¤‡æ³›åŒ–èƒ½åŠ›ã€‚\né‡‡ç”¨ä¿¡æ¯å¢ç›Šç‡ä½œä¸ºè¯„åˆ¤å±æ€§åˆ†ç±»çš„æ ‡å‡†ï¼š\n\nGain\\_ratio(D, a) = \\frac{Gain(D,a)}{IV(a)}  \\\\\nIV(a) = -\\sum_{v=1}^{V}\\frac{D^v}{D}log\\frac{D^v}{D}\n\nIV(a) è¢«ç§°ä¸ºç‰¹å¾ a çš„å›ºæœ‰å€¼ï¼Œè®¡ç®—æ–¹å¼ä¸ä¿¡æ¯ç†µçš„è®¡ç®—æ–¹å¼ç±»ä¼¼ï¼Œè¡¡é‡çš„æ˜¯ç‰¹å¾ a çš„çº¯åº¦ã€‚å¦‚æœç‰¹å¾ a çš„å–å€¼å¾ˆå¤šï¼Œé‚£ä¹ˆ a çš„çº¯åº¦å°±å¾ˆä½ï¼ŒIV(a) çš„å–å€¼å°±è¶Šå¤§ï¼Œæœ€åå¾—åˆ°çš„ä¿¡æ¯å¢ç›Šç‡å°±è¶Šä½ã€‚\nIV(a) æ˜¯ä¸€ä¸ªæƒ©ç½šé¡¹ï¼Œå¯¹ç±»åˆ«è¾ƒå¤šçš„ç‰¹å¾å¢åŠ ä¸€ä¸ªæƒ©ç½šå› å­ã€‚é‡‡ç”¨ä¿¡æ¯å¢ç›Šç‡ä½œä¸ºåˆ¤å®šåˆ’åˆ†ç‰¹å¾çš„æ–¹æ³•è¢«ç§°ä¸º C4.5ã€‚åœ¨å®é™…ä¸­ï¼ŒC4.5 å…ˆé€šè¿‡ä¸€éç­›é€‰ï¼Œå°†ä¿¡æ¯å¢ç›Šä½äºå¹³å‡æ°´å¹³çš„å±æ€§å‰”é™¤æ‰ï¼Œä¹‹åä»å‰©ä¸‹çš„å±æ€§ä¸­é€‰æ‹©ä¿¡æ¯å¢ç›Šç‡æœ€é«˜çš„ã€‚"
  },
  {
    "objectID": "posts/2023-01-31-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-æ•°æ®æ¸…æ´—Part1/index.html",
    "href": "posts/2023-01-31-æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-æ•°æ®æ¸…æ´—Part1/index.html",
    "title": "æ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-æ•°æ®æ¸…æ´—Part1",
    "section": "",
    "text": "è¿™ç¯‡åšå®¢ï¼ˆè§†é¢‘ï¼‰è®°å½•åŒºå—é“¾æŠ€æœ¯æŠ•èµ„å…¬å‘Šæ•ˆåº”ç ”ç©¶æ ·æœ¬çš„æ•°æ®æ¸…æ´—è¿‡ç¨‹ï¼Œä¸»è¦å†…å®¹æ˜¯å‰”é™¤å¹¶éåŒºå—é“¾æŠ€æœ¯æŠ•èµ„äº‹ä»¶ç›¸å…³å…¬å‘Šï¼›å‰”é™¤ ST ç±»å…¬å¸ï¼›å‰”é™¤å¹´åº¦ã€å­£åº¦å…¬å‘Šã€å‘å€ºç±»å…¬å‘Šã€æ‹›è‚¡è¯´æ˜ä¹¦ã€å‘è¡Œè‚¡ç¥¨å‹Ÿé›†è¯´æ˜ä¹¦ã€éå…¬å¼€å‘è¡Œæ™®é€šè‚¡ã€éå…¬å¼€å‘è¡Œä¼˜å…ˆè‚¡ã€å‘è¡Œä¿èä¹¦ã€ç¤¾ä¼šè´£ä»»å…¬å‘Šç­‰ã€‚ \n\nimport numpy as np\nimport pandas as pd\n\n\nraw_data = pd.read_csv('./data/raw_data.csv')\n\n\nraw_data.head()\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\n\n\n\n\n0\n000631\né¡ºå‘æ’ä¸š\ngssz0000631\n*ST å…°å®ï¼šé‡å¤§èµ„äº§å‡ºå”®ã€å‘è¡Œè‚¡ä»½è´­ä¹°èµ„äº§æš¨å…³è”äº¤æ˜“æŠ¥å‘Šä¹¦ï¼ˆä¿®è®¢ç¨¿ï¼‰\n2009-02-28\nhttp://static.cninfo.com.cn/finalpage/2009-02-...\nï¼ˆäºŒï¼‰å…¬å¸ä¸šç»©æŒç»­ä¸‹æ»‘ï¼Œä¸”æ— æ”¹å–„è¿¹è±¡ ç”±äºä¸ªåˆ«é“¶è¡Œå‘ç°å…¬å¸èµ„é‡‘é“¾ç´§å¼ ï¼Œé€æ­¥åœæ­¢è½¬è´·å¹¶æ”¶ç¼©é“¶æ ¹...\n\n\n1\n600596\næ–°å®‰è‚¡ä»½\ngssh0600596\næ–°å®‰è‚¡ä»½ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n2009-03-10\nhttp://static.cninfo.com.cn/finalpage/2009-03-...\n3.æ–°å®‰åŒ…è£…å…¬å¸æ¬è¿äº‹é¡¹ å› æ–°å®‰æ±Ÿæ¡¥ä¸œåŒºå—æ—§åŸæ”¹é€ ï¼Œæ–°å®‰åŒ…è£…å…¬å¸äºæœ¬æœŸä»è€å‚åŒºï¼ˆæ–°å®‰æ±Ÿè¡—é“æ¡¥...\n\n\n2\n600267\næµ·æ­£è¯ä¸š\ngssh0600267\næµ·æ­£è¯ä¸šï¼š2008å¹´å¹´åº¦è‚¡ä¸œå¤§ä¼šä¼šè®®èµ„æ–™\n2009-03-20\nhttp://static.cninfo.com.cn/finalpage/2009-03-...\n100.00% 141,278 100.00% 115,132 100.00% å…¬å¸å‡­å€ŸåŸæ–™...\n\n\n3\n002244\næ»¨æ±Ÿé›†å›¢\n9900004730\næ»¨æ±Ÿé›†å›¢ï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n2009-03-20\nhttp://static.cninfo.com.cn/finalpage/2009-03-...\næ±Ÿå¹²ç§‘æŠ€ç»æµå›­åŒºåœ°å—å¼€å‘åè®®ä¹¦ã€‹ï¼ˆæ±Ÿç§‘å›­åå­—ã€2006ã€‘035 å·ï¼‰ï¼Œçº¦å®šå°±â€œS08ã€09ã€...\n\n\n4\n000301\nä¸œæ–¹ç››è™¹\ngssz0000301\nä¸œæ–¹å¸‚åœºï¼š2008å¹´å¹´åº¦æŠ¥å‘Š\n2009-03-24\nhttp://static.cninfo.com.cn/finalpage/2009-03-...\nå…¬å¸å°†é‡‡å–æªæ–½è¿›ä¸€æ­¥å®Œå–„äº§ä¸šé“¾ï¼Œç»§ç»­å‡å°‘å…³è”äº¤æ˜“ã€‚\n\n\n\n\n\n\n\n\nraw_data.info()\n\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 11050 entries, 0 to 11049\nData columns (total 7 columns):\n #   Column               Non-Null Count  Dtype \n---  ------               --------------  ----- \n 0   secCode              11050 non-null  object\n 1   secName              11050 non-null  object\n 2   orgId                11050 non-null  object\n 3   announcementTitle    11050 non-null  object\n 4   announcementTime     11050 non-null  object\n 5   adjunctUrl           11050 non-null  object\n 6   announcementContent  11050 non-null  object\ndtypes: object(7)\nmemory usage: 604.4+ KB\n\n\n\n# å‰”é™¤ announcement_content ä¸­ä¸å« â€œåŒºå—é“¾â€ å…³é”®è¯çš„æ ·æœ¬\ndef filter_content(c):\n    if c.find('åŒºå—é“¾') == -1:\n        return False\n    return True\n\n\nraw_data.loc[:,'announcementContent'].apply(lambda c:filter_content(c))\n\n0        False\n1        False\n2        False\n3        False\n4        False\n         ...  \n11045    False\n11046    False\n11047    False\n11048    False\n11049     True\nName: announcementContent, Length: 11050, dtype: bool\n\n\n\ndata1 = raw_data.loc[raw_data.loc[:,'announcementContent'].apply(lambda c:filter_content(c)), :]\n\n\nlen(data1)\n\n7196\n\n\n\n# å‰”é™¤ ST ç±»å…¬å¸\ndef filter_ST(t):\n    if t.find('ST') == -1:\n        return True\n    return False\n\n\ndata2 = data1.loc[data1.loc[:,'secName'].apply(lambda t: filter_ST(t)), :]\n\n\nlen(data2)\n\n6937\n\n\n\n# å‰”é™¤å¹´åº¦ã€å­£åº¦å…¬å‘Šã€å‘å€ºç±»å…¬å‘Šã€æ‹›è‚¡è¯´æ˜ä¹¦ã€å‘è¡Œè‚¡ç¥¨å‹Ÿé›†è¯´æ˜ä¹¦ã€éå…¬å¼€å‘è¡Œæ™®é€šè‚¡ã€éå…¬å¼€å‘è¡Œä¼˜å…ˆè‚¡ã€å‘è¡Œä¿èä¹¦ã€ç¤¾ä¼šè´£ä»»å…¬å‘Š\ndef filter_title(t):\n    if any([t.find('å¹´åº¦')!=-1, t.find('å­£åº¦')!=-1, t.find('å€ºåˆ¸')!=-1, t.find('å…¬å¼€å‘è¡Œè‚¡ç¥¨')!=-1, t.find('å‘è¡Œè‚¡ç¥¨å‹Ÿé›†')!=-1,\n            t.find('éå…¬å¼€å‘è¡Œ')!=-1, t.find('å‘è¡Œä¿èä¹¦')!=-1, t.find('ç¤¾ä¼šè´£ä»»')!=-1, t.find('å‘è¡Œ')!=-1]):\n        return False\n    return True\n\n\ndata3 = data2.loc[data2.loc[:,'announcementTitle'].apply(lambda t:filter_title(t)), :]\n\n\nlen(data3)\n\n1348\n\n\n\n# ç­›é€‰é¦–ä»½å…¬å‘Š\nfinal = data3.drop_duplicates(subset=['secCode'], keep='first')\n\n\nlen(final)\n\n394\n\n\n\nfinal.head()\n\n\n\n\n\n\n\n\nsecCode\nsecName\norgId\nannouncementTitle\nannouncementTime\nadjunctUrl\nannouncementContent\n\n\n\n\n1150\n002152\nå¹¿ç”µè¿é€š\n9900003423\nå¹¿ç”µè¿é€šï¼š2016å¹´4æœˆ1æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-06\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n9ã€å…¬å¸æè¿‡æœ‰å‚¨å¤‡åŒºå—é“¾æŠ€æœ¯ï¼Œæ˜¯å¦å¯ä»¥ä»‹ç»ï¼Ÿ\n\n\n1174\n002177\nå¾¡é“¶è‚¡ä»½\n9900003781\nå¾¡é“¶è‚¡ä»½ï¼š2016å¹´4æœˆ21æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-21\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\n4ã€å…¬å¸åœ¨åŒºå—é“¾æŠ€æœ¯ä¸Šæœªæ¥æœ‰ä»€ä¹ˆè§„åˆ’ï¼Ÿ\n\n\n1196\n300386\né£å¤©è¯šä¿¡\n9900023058\né£å¤©è¯šä¿¡ï¼š2016å¹´4æœˆ22æ—¥æŠ•èµ„è€…å…³ç³»æ´»åŠ¨è®°å½•è¡¨\n2016-04-25\nhttp://static.cninfo.com.cn/finalpage/2016-04-...\nå…¬å¸åœ¨åŒºå—é“¾éƒ¨åˆ†å¦‚ä½•å¸ƒå±€?\n\n\n1255\n000997\næ–° å¤§ é™†\ngssz0000997\næ–° å¤§ é™†ï¼šè‘£äº‹ä¼šå…³äºæœ¬æ¬¡å‹Ÿé›†èµ„é‡‘ä½¿ç”¨çš„å¯è¡Œæ€§åˆ†æ\n2016-06-03\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\næ”¯ä»˜è¡Œä¸šæŠ€æœ¯åˆ›æ–°å’Œä¸šåŠ¡åˆ›æ–°ä¸æ–­æ¶Œç°ï¼ŒåŒ…æ‹¬ NFCã€æ¡ç ï¼ˆäºŒç»´ç ï¼‰æ”¯ä»˜ã€å¯ä¿¡æœåŠ¡å¹³å°ï¼ˆTSMï¼‰...\n\n\n1266\n300423\né²äº¿é€š\n9900028812\né²äº¿é€šï¼šå…³äºæœ¬æ¬¡äº¤æ˜“å‰12ä¸ªæœˆå†…è´­ä¹°ã€å‡ºå”®èµ„äº§çš„è¯´æ˜\n2016-06-09\nhttp://static.cninfo.com.cn/finalpage/2016-06-...\nåŒæ—¶ï¼Œä¸Šå¸‚å…¬å¸æ‹Ÿé‡‡ç”¨å®šä»·å‘è¡Œçš„æ–¹å¼å‘çºªæ³•æ¸…ã€å­”å‰‘å¹³ã€å­™å¥‡é”‹ã€ç‹éº’è¯šå’Œä¸­ä¿¡å»ºæŠ•-æ•°è´æ³½åäººå·¥æ™º...\n\n\n\n\n\n\n\n\nfinal.to_csv('./data/tidyed_data.csv', index=False, encoding='utf_8_sig')"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "",
    "text": "import pandas as pd\n\nprint(pd.__version__)\n\n2.2.1"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.read_csv",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.read_csv",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "pandas.read_csv",
    "text": "pandas.read_csv\n\ndtypeï¼šæŒ‡å®šæ•°æ®ç±»å‹ï¼Œæ¯”å¦‚æŒ‡å®šè‚¡ç¥¨ä»£ç è¿™ä¸€åˆ—ä¸º str ç±»å‹\n\ndata = pd.read_csv(\"./stocks.csv\", dtype={\"secCode\":str})\n\nparse_datesï¼šå°è¯•å°†æŸä¸€åˆ—è§£æä¸ºæ—¥æœŸã€‚è®¾å®šä¸º Trueï¼Œåˆ™è§£æç´¢å¼•ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ—è¡¨æŒ‡å®šè§£ææŸä¸€åˆ—\n\ndata = pd.read_csv(\"./stocks.csv\", parse_dates=[1])        # è§£æç¬¬äºŒåˆ—\ndata = pd.read_csv(\"./stocks.csv\", pares_dates=[\"date\"])   # è§£æ date åˆ—\n\non_bad_linesï¼š{â€˜errorâ€™, â€˜warnâ€™, â€˜skipâ€™}"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.rename",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.rename",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "pandas.DataFrame.rename",
    "text": "pandas.DataFrame.rename\n\nmapperï¼šmapper ä¸ axis æ­é…ä½¿ç”¨\ncolumnsï¼šä¿®æ”¹åˆ—å\nindexï¼šä¿®æ”¹ç´¢å¼•\ninplaceï¼šæ˜¯å¦åŸåœ°ä¿®æ”¹\naxis\n\n\ndata = pd.DataFrame(\n    {\"A\": [1, 2, 3], \"B\": [2, 3, 4], \"C\": [3, 4, 5]}, index=[\"x\", \"y\", \"z\"]\n)\n\ndata\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\nx\n1\n2\n3\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5\n\n\n\n\n\n\n\n\ndata.rename(columns={\"A\": \"a\", \"B\": \"b\"})\n\n\n\n\n\n\n\n\na\nb\nC\n\n\n\n\nx\n1\n2\n3\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5\n\n\n\n\n\n\n\n\ndata.rename(index={\"x\": \"X\", \"y\": \"Y\"})\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\nX\n1\n2\n3\n\n\nY\n2\n3\n4\n\n\nz\n3\n4\n5\n\n\n\n\n\n\n\n\ndata.rename(mapper=lambda c: c.lower(), axis=1)\n\n\n\n\n\n\n\n\na\nb\nc\n\n\n\n\nx\n1\n2\n3\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.insert",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.insert",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "pandas.DataFrame.insert",
    "text": "pandas.DataFrame.insert\n\nlocï¼šæ’å…¥çš„ç´¢å¼•ä½ç½®\ncolumnï¼šåˆ—å\nvalueï¼šScalar/Series/array-likeï¼Œæ’å…¥åˆ—çš„å†…å®¹\n\n\ndata = pd.DataFrame(\n    {\"A\": [1, 2, 3], \"B\": [2, 3, 4], \"C\": [3, 4, 5]}, index=[\"x\", \"y\", \"z\"]\n)\n\ndata\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\nx\n1\n2\n3\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5\n\n\n\n\n\n\n\n\ndata.insert(0, column=\"D\", value=0)\ndata\n\n\n\n\n\n\n\n\nD\nA\nB\nC\n\n\n\n\nx\n0\n1\n2\n3\n\n\ny\n0\n2\n3\n4\n\n\nz\n0\n3\n4\n5\n\n\n\n\n\n\n\n\ndata.insert(0, column=\"E\", value=[6, 6, 6])\ndata\n\n\n\n\n\n\n\n\nE\nD\nA\nB\nC\n\n\n\n\nx\n6\n0\n1\n2\n3\n\n\ny\n6\n0\n2\n3\n4\n\n\nz\n6\n0\n3\n4\n5"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.assign",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.assign",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "pandas.DataFrame.assign",
    "text": "pandas.DataFrame.assign\n\ndata = pd.DataFrame(\n    {\"A\": [1, 2, 3], \"B\": [2, 3, 4], \"C\": [3, 4, 5]}, index=[\"x\", \"y\", \"z\"]\n)\n\ndata\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\nx\n1\n2\n3\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5\n\n\n\n\n\n\n\n\ndata.assign(D=lambda df: df.C + 1)\n\n\n\n\n\n\n\n\nA\nB\nC\nD\n\n\n\n\nx\n1\n2\n3\n4\n\n\ny\n2\n3\n4\n5\n\n\nz\n3\n4\n5\n6\n\n\n\n\n\n\n\n\ndata.assign(D=lambda df: df.C + 1, E=lambda df: df.D + 1)\n\n\n\n\n\n\n\n\nA\nB\nC\nD\nE\n\n\n\n\nx\n1\n2\n3\n4\n5\n\n\ny\n2\n3\n4\n5\n6\n\n\nz\n3\n4\n5\n6\n7"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#lociloc",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#lociloc",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "loc/iloc",
    "text": "loc/iloc\né€‰æ‹©å·²æœ‰åˆ—ååˆ™ä¿®æ”¹åŸå§‹æ•°æ®ï¼›æ–°å®šä¹‰åˆ—ååˆ™æ’å…¥æ–°çš„æ•°æ®\n\ndata = pd.DataFrame(\n    {\"A\": [1, 2, 3], \"B\": [2, 3, 4], \"C\": [3, 4, 5]}, index=[\"x\", \"y\", \"z\"]\n)\n\ndata\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\nx\n1\n2\n3\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5\n\n\n\n\n\n\n\n\ndata.loc[:, \"D\"] = 0\ndata\n\n\n\n\n\n\n\n\nA\nB\nC\nD\n\n\n\n\nx\n1\n2\n3\n0\n\n\ny\n2\n3\n4\n0\n\n\nz\n3\n4\n5\n0\n\n\n\n\n\n\n\n\ndata.loc[:, \"D\"] = 1\ndata\n\n\n\n\n\n\n\n\nA\nB\nC\nD\n\n\n\n\nx\n1\n2\n3\n1\n\n\ny\n2\n3\n4\n1\n\n\nz\n3\n4\n5\n1"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#lociloc-1",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#lociloc-1",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "loc/iloc",
    "text": "loc/iloc\n\ndata = pd.DataFrame(\n    {\"A\": [1, 2, 3], \"B\": [2, 3, 4], \"C\": [3, 4, 5]}, index=[\"x\", \"y\", \"z\"]\n)\n\ndata\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\nx\n1\n2\n3\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5\n\n\n\n\n\n\n\n\ndata.loc[\"x\"] = 0\ndata\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\nx\n0\n0\n0\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5\n\n\n\n\n\n\n\n\ndata.loc[\"m\"] = 1\ndata\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\nx\n0\n0\n0\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5\n\n\nm\n1\n1\n1"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.drop",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.drop",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "pandas.DataFrame.drop",
    "text": "pandas.DataFrame.drop\n\ndata = pd.DataFrame(\n    {\"A\": [1, 2, 3], \"B\": [2, 3, 4], \"C\": [3, 4, 5]}, index=[\"x\", \"y\", \"z\"]\n)\n\ndata\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\nx\n1\n2\n3\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5\n\n\n\n\n\n\n\n\ndata.drop(labels=[\"A\", \"B\"], axis=1)\n\n\n\n\n\n\n\n\nC\n\n\n\n\nx\n3\n\n\ny\n4\n\n\nz\n5\n\n\n\n\n\n\n\n\ndata.drop(columns=[\"A\", \"B\"])\n\n\n\n\n\n\n\n\nC\n\n\n\n\nx\n3\n\n\ny\n4\n\n\nz\n5\n\n\n\n\n\n\n\n\ndata.drop(labels=[\"x\"], axis=0)\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5\n\n\n\n\n\n\n\n\ndata.drop(index=[\"x\"], inplace=True)\ndata\n\n\n\n\n\n\n\n\nA\nB\nC\n\n\n\n\ny\n2\n3\n4\n\n\nz\n3\n4\n5"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.set_index",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.set_index",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "pandas.DataFrame.set_index",
    "text": "pandas.DataFrame.set_index\n\nkeysï¼šlabel or array-like or list of labels/arrays\ndropï¼šæ˜¯å¦åˆ é™¤ä½œä¸ºç´¢å¼•çš„åˆ—ï¼Œé»˜è®¤ä¸º True\nappendï¼šWhether to append columns to existing index, default False.\ninplace\n\n\ndata = pd.DataFrame(\n    {\"month\": [1, 4, 7, 10], \"year\": [2012, 2014, 2013, 2014], \"sale\": [55, 40, 84, 31]}\n)\n\ndata\n\n\n\n\n\n\n\n\nmonth\nyear\nsale\n\n\n\n\n0\n1\n2012\n55\n\n\n1\n4\n2014\n40\n\n\n2\n7\n2013\n84\n\n\n3\n10\n2014\n31\n\n\n\n\n\n\n\n\ndata.set_index(\"month\", drop=False)\n\n\n\n\n\n\n\n\nmonth\nyear\nsale\n\n\nmonth\n\n\n\n\n\n\n\n1\n1\n2012\n55\n\n\n4\n4\n2014\n40\n\n\n7\n7\n2013\n84\n\n\n10\n10\n2014\n31\n\n\n\n\n\n\n\n\ndata.set_index([\"month\", \"year\"])\n\n\n\n\n\n\n\n\n\nsale\n\n\nmonth\nyear\n\n\n\n\n\n1\n2012\n55\n\n\n4\n2014\n40\n\n\n7\n2013\n84\n\n\n10\n2014\n31\n\n\n\n\n\n\n\n\ndata.set_index(\"month\", append=True)\n\n\n\n\n\n\n\n\n\nyear\nsale\n\n\n\nmonth\n\n\n\n\n\n\n0\n1\n2012\n55\n\n\n1\n4\n2014\n40\n\n\n2\n7\n2013\n84\n\n\n3\n10\n2014\n31"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.reset_index",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.dataframe.reset_index",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "pandas.DataFrame.reset_index",
    "text": "pandas.DataFrame.reset_index\n\ndata = pd.DataFrame(\n    [(\"bird\", 389.0), (\"bird\", 24.0), (\"mammal\", 80.5), (\"mammal\", 78)],\n    index=[\"falcon\", \"parrot\", \"lion\", \"monkey\"],\n    columns=(\"class\", \"max_speed\"),\n)\n\ndata\n\n\n\n\n\n\n\n\nclass\nmax_speed\n\n\n\n\nfalcon\nbird\n389.0\n\n\nparrot\nbird\n24.0\n\n\nlion\nmammal\n80.5\n\n\nmonkey\nmammal\n78.0\n\n\n\n\n\n\n\n\ndata.reset_index()\n\n\n\n\n\n\n\n\nindex\nclass\nmax_speed\n\n\n\n\n0\nfalcon\nbird\n389.0\n\n\n1\nparrot\nbird\n24.0\n\n\n2\nlion\nmammal\n80.5\n\n\n3\nmonkey\nmammal\n78.0\n\n\n\n\n\n\n\n\ndata.reset_index(drop=True)\n\n\n\n\n\n\n\n\nclass\nmax_speed\n\n\n\n\n0\nbird\n389.0\n\n\n1\nbird\n24.0\n\n\n2\nmammal\n80.5\n\n\n3\nmammal\n78.0"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.series.str.split",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.series.str.split",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "pandas.Series.str.split",
    "text": "pandas.Series.str.split\nè¿™ä¸ªæ–¹æ³•æˆ‘å¸¸ç”¨åœ¨éœ€è¦ä»æ—¥æœŸä¸­æå–å¹´ä»½æ—¶ï¼Œæ¯”å¦‚ï¼š\n\ndata = pd.DataFrame(\n    {\"ticker\": [\"000001\", \"000018\", \"600201\"],\n     \"date\": [\"2018-08-03\", \"2019-02-12\", \"2020-12-31\"]},\n)\n\ndata\n\n\n\n\n\n\n\n\nticker\ndate\n\n\n\n\n0\n000001\n2018-08-03\n\n\n1\n000018\n2019-02-12\n\n\n2\n600201\n2020-12-31\n\n\n\n\n\n\n\n\n# æå–å¹´ä»½ï¼Œexpand=True\ndata.loc[:, \"year\"] = data.date.str.split(\"-\", expand=True, n=1).iloc[:,0]\ndata\n\n\n\n\n\n\n\n\nticker\ndate\nyear\n\n\n\n\n0\n000001\n2018-08-03\n2018\n\n\n1\n000018\n2019-02-12\n2019\n\n\n2\n600201\n2020-12-31\n2020"
  },
  {
    "objectID": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.series.str.zfill",
    "href": "posts/2024-01-16-Pandaså¤‡å¿˜å½•/index.html#pandas.series.str.zfill",
    "title": "Pandaså¤‡å¿˜å½•",
    "section": "pandas.series.str.zfill",
    "text": "pandas.series.str.zfill\nåœ¨è¯»å–è‚¡ä»·æ•°æ®æ—¶ï¼Œæœ‰æ—¶å€™è‚¡ç¥¨ä»£ç å‰é¢çš„ 0 ç¼ºå¤±ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥å¡«å……ã€‚\n\ndata = pd.DataFrame(\n    {\"ticker\": [\"1\", \"18\", \"600201\"],\n     \"date\": [\"2018-08-03\", \"2019-02-12\", \"2020-12-31\"]},\n)\n\ndata\n\n\n\n\n\n\n\n\nticker\ndate\n\n\n\n\n0\n1\n2018-08-03\n\n\n1\n18\n2019-02-12\n\n\n2\n600201\n2020-12-31\n\n\n\n\n\n\n\n\ndata.loc[:, \"ticker\"] = data.ticker.str.zfill(6)\ndata\n\n\n\n\n\n\n\n\nticker\ndate\n\n\n\n\n0\n000001\n2018-08-03\n\n\n1\n000018\n2019-02-12\n\n\n2\n600201\n2020-12-31"
  },
  {
    "objectID": "posts/2023-04-11-åœ¨-Pandas-ä¸­å¦‚ä½•å®ç°å¤æ‚çš„ç­›é€‰/index.html",
    "href": "posts/2023-04-11-åœ¨-Pandas-ä¸­å¦‚ä½•å®ç°å¤æ‚çš„ç­›é€‰/index.html",
    "title": "åœ¨Pandasä¸­å¦‚ä½•å®ç°å¤æ‚çš„ç­›é€‰å’ŒæŸ¥è¯¢",
    "section": "",
    "text": "åœ¨åˆ©ç”¨ Pandas è¿›è¡Œæ•°æ®åˆ†æçš„è¿‡ç¨‹å½“ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šç¢°åˆ°éœ€è¦å®ç°å¤æ‚æŸ¥è¯¢æˆ–è€…ç­›é€‰çš„åœºæ™¯ã€‚\næ¯”å¦‚è¯´ä»å…¨æ ·æœ¬è‚¡ç¥¨ä¸­ï¼Œå‰”é™¤ ST å’Œ *ST è‚¡ç¥¨ï¼Œç„¶åç­›é€‰å±äºä¸­å°æ¿çš„è‚¡ç¥¨ã€‚è¿™ç¯‡æ–‡ç« æ€»ç»“æˆ‘åœ¨ç§‘ç ”å®è·µè¿‡ç¨‹å½“ä¸­ï¼Œä½¿ç”¨ Pandas å®ç°å¤æ‚ç­›é€‰çš„æ–¹æ³•ã€‚\né¦–å…ˆå¯¼å…¥ Pandas å’Œ akshareï¼Œä»¥ä¸‹çš„æ¼”ç¤ºæ•°æ®æ¥è‡ªäºä» akshare è°ƒç”¨çš„æ²ªæ·±äº¬ A è‚¡è¡Œæƒ…æ•°æ®ã€‚\n\nimport numpy as np\nimport pandas as pd\nimport akshare as ak\n\n\ndata = ak.stock_zh_a_spot_em()\ndata.head()\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n0\n1\n603119\nNæµ™è£\n35.37\n130.87\n20.05\n505082.0\n1.561754e+09\n72.85\n37.54\n...\nNaN\n73.63\n79.87\n6.46\n9.903600e+09\n2.426214e+09\n-0.03\n-0.34\n130.87\n130.87\n\n\n1\n2\n301371\nNæ•·å°”ä½³\n70.70\n26.98\n15.02\n278191.0\n2.015432e+09\n19.83\n80.04\n...\nNaN\n73.92\n44.38\n5.64\n2.828566e+10\n2.660599e+09\n0.11\n0.41\n26.98\n26.98\n\n\n2\n3\n301316\næ…§åšäº‘é€š\n27.60\n20.00\n4.60\n135775.0\n3.483604e+08\n21.04\n27.60\n...\n3.10\n33.94\n212.80\n11.68\n1.104028e+10\n1.104274e+09\n0.00\n0.00\n18.10\n44.43\n\n\n3\n4\n301289\nå›½ç¼†æ£€æµ‹\n43.62\n20.00\n7.27\n75204.0\n3.119352e+08\n21.79\n43.62\n...\n13.27\n29.67\n56.11\n3.86\n3.402360e+09\n1.105763e+09\n0.00\n0.00\n28.26\n35.55\n\n\n4\n5\n300881\nç››å¾·é‘«æ³°\n40.98\n20.00\n6.83\n118733.0\n4.645422e+08\n20.73\n40.98\n...\n2.57\n40.73\n56.02\n5.48\n4.507800e+09\n1.194567e+09\n0.00\n0.00\n23.81\n42.05\n\n\n\n\n5 rows Ã— 23 columns\n\n\n\n\nåˆ©ç”¨ loc å‡½æ•°å’Œå¸ƒå°”åˆ—è¡¨è¿›è¡Œç­›é€‰\næˆ‘æœ€å¸¸ç”¨çš„ä¸€ä¸ªåšæ³•æ˜¯ä½¿ç”¨ loc å‡½æ•°å’Œå¸ƒå°”åˆ—è¡¨è¿›è¡Œç­›é€‰ã€‚loc å‡½æ•°å¯ä»¥æ¥å—å¸ƒå°”åˆ—è¡¨ä½œä¸ºå‚æ•°ï¼Œè€Œæ ¹æ®å®é™…éœ€æ±‚ï¼Œæˆ‘ä»¬æœ‰å¤šç§æ–¹å¼å¯ä»¥ç”Ÿæˆå¸ƒå°”åˆ—è¡¨ï¼Œæœ€æ™®éçš„æ˜¯åˆ©ç”¨é€»è¾‘è¿ç®—æ¥ç”Ÿæˆå¸ƒå°”åˆ—è¡¨ã€‚\n\né€»è¾‘è¿ç®—äº§ç”Ÿå¸ƒå°”åˆ—è¡¨\n\næ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦ç­›é€‰å‡ºå¸‚å‡€ç‡å¤§äº 10 çš„è‚¡ç¥¨ï¼Œä½¿ç”¨å¦‚ä¸‹é€»è¾‘è¿ç®—ï¼Œå¯ä»¥äº§ç”Ÿä¸€ä¸ªå¸ƒå°”åˆ—è¡¨ã€‚\n\ndata.å¸‚å‡€ç‡ &gt; 10\n\n0       False\n1       False\n2        True\n3       False\n4       False\n        ...  \n5483    False\n5484    False\n5485    False\n5486    False\n5487    False\nName: å¸‚å‡€ç‡, Length: 5488, dtype: bool\n\n\nç„¶åæˆ‘ä»¬å°†è¿™ä¸ªå¸ƒå°”åˆ—è¡¨ä¼ å…¥ loc å‡½æ•°ä¸­ï¼Œå°±å¯ä»¥ç­›é€‰å‡ºå¸‚å‡€ç‡å¤§äº 10 çš„è‚¡ç¥¨ã€‚\n\ndata.loc[data.å¸‚å‡€ç‡ &gt; 10, :]\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n2\n3\n301316\næ…§åšäº‘é€š\n27.60\n20.00\n4.60\n135775.0\n3.483604e+08\n21.04\n27.60\n...\n3.10\n33.94\n212.80\n11.68\n1.104028e+10\n1.104274e+09\n0.00\n0.00\n18.10\n44.43\n\n\n31\n32\n000980\nä¼—æ³°æ±½è½¦\n4.84\n10.00\n0.44\n5986844.0\n2.750542e+09\n11.59\n4.84\n...\n1.34\n13.96\n-32.52\n10.85\n2.440593e+10\n2.075127e+10\n0.00\n0.00\n60.80\n13.62\n\n\n32\n33\n000890\næ³•å°”èƒœ\n5.39\n10.00\n0.49\n860438.0\n4.285253e+08\n15.51\n5.39\n...\n1.53\n20.51\n-45.72\n165.44\n2.261126e+09\n2.261057e+09\n0.00\n0.00\n23.06\n40.00\n\n\n46\n47\n300394\nå¤©å­šé€šä¿¡\n97.69\n9.29\n8.30\n250569.0\n2.361952e+09\n11.84\n98.88\n...\n1.69\n6.99\n82.45\n14.37\n3.856400e+10\n3.501563e+10\n-0.02\n-0.20\n88.23\n293.12\n\n\n52\n53\n300025\nåæ˜Ÿåˆ›ä¸š\n14.30\n7.92\n1.05\n240567.0\n3.384392e+08\n8.68\n14.50\n...\n2.76\n5.55\n-327.75\n10.83\n7.275739e+09\n6.201523e+09\n0.00\n0.00\n32.78\n201.05\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n5366\n5367\n002316\näºšè”å‘å±•\n5.45\n-4.55\n-0.26\n605077.0\n3.320110e+08\n4.73\n5.69\n...\n0.55\n19.21\n-108.92\n42.25\n2.142504e+09\n1.716791e+09\n0.00\n0.18\n19.26\n55.27\n\n\n5386\n5387\n688359\nä¸‰å­šæ–°ç§‘\n64.40\n-4.87\n-3.30\n12630.0\n8.158510e+07\n9.00\n68.10\n...\n1.36\n2.53\n-122.05\n12.81\n5.984048e+09\n3.217939e+09\n0.00\n0.42\n-20.89\n-4.58\n\n\n5423\n5424\n600769\nç¥¥é¾™ç”µä¸š\n9.18\n-6.13\n-0.60\n144311.0\n1.329581e+08\n7.67\n9.75\n...\n2.30\n3.85\n249.21\n42.27\n3.442291e+09\n3.442291e+09\n-0.11\n0.11\n8.00\n11.95\n\n\n5424\n5425\n300114\nä¸­èˆªç”µæµ‹\n52.44\n-6.16\n-3.44\n453818.0\n2.432903e+09\n5.71\n55.49\n...\n1.00\n7.68\n338.46\n13.47\n3.097948e+10\n3.097948e+10\n0.02\n-0.06\n3.86\n412.61\n\n\n5434\n5435\n002336\näººäººä¹\n17.47\n-6.38\n-1.19\n470951.0\n8.387931e+08\n8.47\n18.58\n...\n1.01\n12.62\n-19.49\n637.20\n7.686800e+09\n6.519367e+09\n-0.11\n0.17\n47.05\n-6.88\n\n\n\n\n190 rows Ã— 23 columns\n\n\n\nä¹Ÿå¯ä»¥ä½¿ç”¨å¤æ‚çš„é€»è¾‘è¿ç®—ï¼Œæ¯”å¦‚æˆ‘ä»¬ç­›é€‰å¸‚å‡€ç‡å¤§äº 10 ï¼ŒåŒæ—¶æ¢æ‰‹ç‡å¤§äº 35% çš„è‚¡ç¥¨ã€‚\n\ndata.loc[(data.å¸‚å‡€ç‡ &gt; 10) & (data.æ¢æ‰‹ç‡ &gt; 35), :]\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n5337\n5338\n000721\nè¥¿å®‰é¥®é£Ÿ\n14.67\n-4.12\n-0.63\n1547593.0\n2.390809e+09\n10.98\n16.29\n...\n1.9\n35.37\n-67.62\n16.61\n8.419323e+09\n6.418153e+09\n0.0\n-0.07\n16.71\n-15.2\n\n\n\n\n1 rows Ã— 23 columns\n\n\n\nä½¿ç”¨ loc å‡½æ•°ä¹Ÿå¾ˆå®¹æ˜“å®ç°å¯¹åˆ—çš„ç­›é€‰ï¼Œæˆ‘ä»¬åªéœ€è¦å°†éœ€è¦çš„åˆ—ä»¥åˆ—è¡¨å½¢å¼ä¼ å…¥å³å¯ã€‚\n\ndata.loc[(data.å¸‚å‡€ç‡ &gt; 10) & (data.æ¢æ‰‹ç‡ &gt; 35), [\"ä»£ç \", \"åç§°\", \"æœ€æ–°ä»·\"]]\n\n\n\n\n\n\n\n\nä»£ç \nåç§°\næœ€æ–°ä»·\n\n\n\n\n5337\n000721\nè¥¿å®‰é¥®é£Ÿ\n14.67\n\n\n\n\n\n\n\n\nå‡½æ•°åˆ¤æ–­äº§ç”Ÿå¸ƒå°”å˜é‡\n\nç¬¬äºŒç§å¸¸ç”¨çš„æ‰‹æ®µæ˜¯ä½¿ç”¨å‡½æ•°åˆ¤æ–­ç”Ÿæˆå¸ƒå°”å˜é‡ã€‚æ¯”å¦‚æˆ‘ä»¬æŒ‘é€‰ä¸Šäº¤æ‰€çš„è‚¡ç¥¨ï¼Œè¿™é‡Œä½¿ç”¨ startswith å‡½æ•°æ¥å¯¹ä»£ç è¿™ä¸€åˆ—åšåˆ¤æ–­ã€‚\n\ndata.loc[[code.startswith(\"6\") for code in data.ä»£ç ], :]\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n0\n1\n603119\nNæµ™è£\n35.37\n130.87\n20.05\n505082.0\n1.561754e+09\n72.85\n37.54\n...\nNaN\n73.63\n79.87\n6.46\n9.903600e+09\n2.426214e+09\n-0.03\n-0.34\n130.87\n130.87\n\n\n10\n11\n688622\nç¦¾ä¿¡ä»ªå™¨\n34.85\n10.95\n3.44\n27626.0\n9.574625e+07\n9.87\n36.00\n...\n9.74\n7.18\n-37.27\n4.74\n2.439417e+09\n1.341637e+09\n-0.03\n-0.03\n-5.76\n7.23\n\n\n11\n12\n688776\nå›½å…‰ç”µæ°”\n87.80\n10.66\n8.46\n22037.0\n1.848112e+08\n11.33\n87.99\n...\n4.84\n6.52\n116.36\n5.39\n9.516064e+09\n2.968588e+09\n-0.22\n1.09\n-5.88\n-29.79\n\n\n14\n15\n600239\näº‘å—åŸæŠ•\n2.92\n10.19\n0.27\n1178068.0\n3.334986e+08\n9.06\n2.92\n...\n1.40\n7.34\n7.63\n2.89\n4.688606e+09\n4.688606e+09\n0.00\n0.00\n28.07\n51.30\n\n\n16\n17\n600577\nç²¾è¾¾è‚¡ä»½\n4.79\n10.11\n0.44\n1857359.0\n8.645382e+08\n10.80\n4.79\n...\n9.05\n9.31\n24.64\n2.07\n9.959123e+09\n9.559956e+09\n0.00\n0.00\n14.05\n16.26\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n5463\n5464\n688566\nå‰è´å°”\n29.59\n-8.53\n-2.76\n48715.0\n1.487687e+08\n9.83\n32.38\n...\n2.78\n2.61\n36.38\n3.28\n5.531602e+09\n5.531602e+09\n-0.03\n0.03\n-7.15\n39.71\n\n\n5466\n5467\n688646\nCé€¸é£\n48.67\n-8.98\n-4.80\n67526.0\n3.338214e+08\n5.29\n51.41\n...\n0.56\n37.75\n133.46\n2.95\n4.631564e+09\n8.706737e+08\n-0.06\n-0.21\n4.00\n4.00\n\n\n5474\n5475\n603383\né¡¶ç‚¹è½¯ä»¶\n57.96\n-10.00\n-6.44\n78618.0\n4.696362e+08\n8.25\n63.27\n...\n1.75\n4.66\n112.07\n7.93\n9.923753e+09\n9.787619e+09\n0.00\n0.00\n10.09\n35.29\n\n\n5475\n5476\n603778\nä¹¾æ™¯å›­æ—\n4.85\n-10.02\n-0.54\n518583.0\n2.522182e+08\n1.86\n4.95\n...\n1.93\n8.07\n67.14\n3.02\n3.117857e+09\n3.117857e+09\n0.00\n0.00\n-19.44\n-29.91\n\n\n5476\n5477\n603682\né”¦å’Œå•†ç®¡\n7.52\n-10.05\n-0.84\n625823.0\n4.835391e+08\n5.86\n8.01\n...\n1.07\n13.24\n38.32\n3.10\n3.553200e+09\n3.553200e+09\n0.00\n0.00\n40.04\n39.00\n\n\n\n\n2339 rows Ã— 23 columns\n\n\n\nå†æ¯”å¦‚ï¼Œå‰”é™¤ ST è‚¡ã€‚\n\ndata.loc[~np.array([name.startswith(\"ST\") for name in data.åç§°]), :]\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n0\n1\n603119\nNæµ™è£\n35.37\n130.87\n20.05\n505082.0\n1.561754e+09\n72.85\n37.54\n...\nNaN\n73.63\n79.87\n6.46\n9.903600e+09\n2.426214e+09\n-0.03\n-0.34\n130.87\n130.87\n\n\n1\n2\n301371\nNæ•·å°”ä½³\n70.70\n26.98\n15.02\n278191.0\n2.015432e+09\n19.83\n80.04\n...\nNaN\n73.92\n44.38\n5.64\n2.828566e+10\n2.660599e+09\n0.11\n0.41\n26.98\n26.98\n\n\n2\n3\n301316\næ…§åšäº‘é€š\n27.60\n20.00\n4.60\n135775.0\n3.483604e+08\n21.04\n27.60\n...\n3.10\n33.94\n212.80\n11.68\n1.104028e+10\n1.104274e+09\n0.00\n0.00\n18.10\n44.43\n\n\n3\n4\n301289\nå›½ç¼†æ£€æµ‹\n43.62\n20.00\n7.27\n75204.0\n3.119352e+08\n21.79\n43.62\n...\n13.27\n29.67\n56.11\n3.86\n3.402360e+09\n1.105763e+09\n0.00\n0.00\n28.26\n35.55\n\n\n4\n5\n300881\nç››å¾·é‘«æ³°\n40.98\n20.00\n6.83\n118733.0\n4.645422e+08\n20.73\n40.98\n...\n2.57\n40.73\n56.02\n5.48\n4.507800e+09\n1.194567e+09\n0.00\n0.00\n23.81\n42.05\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n5483\n5484\n301024\néœæ™®è‚¡ä»½\n30.61\n-11.04\n-3.80\n70147.0\n2.218308e+08\n10.40\n33.83\n...\n0.79\n39.55\n-73.00\n3.12\n1.946337e+09\n5.429449e+08\n0.03\n-0.16\n23.68\n40.41\n\n\n5484\n5485\n300554\nä¸‰è¶…æ–°æ\n18.55\n-11.58\n-2.43\n113466.0\n2.149169e+08\n7.53\n20.08\n...\n7.79\n14.82\n233.03\n2.67\n2.118625e+09\n1.420001e+09\n-0.16\n-0.27\n0.54\n-24.90\n\n\n5485\n5486\n301381\nèµ›ç»´æ—¶ä»£\n40.62\n-11.98\n-5.53\n142905.0\n6.005835e+08\n11.09\n45.72\n...\n0.86\n45.50\n78.18\n7.29\n1.625206e+10\n1.275912e+09\n0.02\n-0.51\n98.63\n98.63\n\n\n5486\n5487\n301015\nç™¾æ´‹åŒ»è¯\n22.16\n-11.99\n-3.02\n108565.0\n2.501874e+08\n14.26\n25.30\n...\n6.25\n9.17\n23.76\n5.75\n1.163622e+10\n2.623190e+09\n0.00\n0.41\n-18.38\n-3.99\n\n\n5487\n5488\n301172\nCå›é€¸\n43.91\n-12.16\n-6.08\n179476.0\n8.451293e+08\n14.96\n51.30\n...\n0.86\n64.87\n-314.59\n3.87\n5.409712e+09\n1.214778e+09\n-0.02\n-0.52\n40.15\n40.15\n\n\n\n\n5406 rows Ã— 23 columns\n\n\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å‡½æ•°ï¼Œæ¥å®ç°æ›´å¤æ‚çš„åˆ¤æ–­éœ€æ±‚ã€‚æ¯”å¦‚ï¼Œå¯¹äºä¸Šé¢çš„å‰”é™¤ ST è‚¡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰å‡½æ•°å®ç°ï¼š\n\ndef filter_ST(name):\n    return not name.startswith(\"ST\")\n\n\ndata.loc[data.loc[:,'åç§°'].apply(lambda name: filter_ST(name)), :]\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n0\n1\n603119\nNæµ™è£\n35.37\n130.87\n20.05\n505082.0\n1.561754e+09\n72.85\n37.54\n...\nNaN\n73.63\n79.87\n6.46\n9.903600e+09\n2.426214e+09\n-0.03\n-0.34\n130.87\n130.87\n\n\n1\n2\n301371\nNæ•·å°”ä½³\n70.70\n26.98\n15.02\n278191.0\n2.015432e+09\n19.83\n80.04\n...\nNaN\n73.92\n44.38\n5.64\n2.828566e+10\n2.660599e+09\n0.11\n0.41\n26.98\n26.98\n\n\n2\n3\n301316\næ…§åšäº‘é€š\n27.60\n20.00\n4.60\n135775.0\n3.483604e+08\n21.04\n27.60\n...\n3.10\n33.94\n212.80\n11.68\n1.104028e+10\n1.104274e+09\n0.00\n0.00\n18.10\n44.43\n\n\n3\n4\n301289\nå›½ç¼†æ£€æµ‹\n43.62\n20.00\n7.27\n75204.0\n3.119352e+08\n21.79\n43.62\n...\n13.27\n29.67\n56.11\n3.86\n3.402360e+09\n1.105763e+09\n0.00\n0.00\n28.26\n35.55\n\n\n4\n5\n300881\nç››å¾·é‘«æ³°\n40.98\n20.00\n6.83\n118733.0\n4.645422e+08\n20.73\n40.98\n...\n2.57\n40.73\n56.02\n5.48\n4.507800e+09\n1.194567e+09\n0.00\n0.00\n23.81\n42.05\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n5483\n5484\n301024\néœæ™®è‚¡ä»½\n30.61\n-11.04\n-3.80\n70147.0\n2.218308e+08\n10.40\n33.83\n...\n0.79\n39.55\n-73.00\n3.12\n1.946337e+09\n5.429449e+08\n0.03\n-0.16\n23.68\n40.41\n\n\n5484\n5485\n300554\nä¸‰è¶…æ–°æ\n18.55\n-11.58\n-2.43\n113466.0\n2.149169e+08\n7.53\n20.08\n...\n7.79\n14.82\n233.03\n2.67\n2.118625e+09\n1.420001e+09\n-0.16\n-0.27\n0.54\n-24.90\n\n\n5485\n5486\n301381\nèµ›ç»´æ—¶ä»£\n40.62\n-11.98\n-5.53\n142905.0\n6.005835e+08\n11.09\n45.72\n...\n0.86\n45.50\n78.18\n7.29\n1.625206e+10\n1.275912e+09\n0.02\n-0.51\n98.63\n98.63\n\n\n5486\n5487\n301015\nç™¾æ´‹åŒ»è¯\n22.16\n-11.99\n-3.02\n108565.0\n2.501874e+08\n14.26\n25.30\n...\n6.25\n9.17\n23.76\n5.75\n1.163622e+10\n2.623190e+09\n0.00\n0.41\n-18.38\n-3.99\n\n\n5487\n5488\n301172\nCå›é€¸\n43.91\n-12.16\n-6.08\n179476.0\n8.451293e+08\n14.96\n51.30\n...\n0.86\n64.87\n-314.59\n3.87\n5.409712e+09\n1.214778e+09\n-0.02\n-0.52\n40.15\n40.15\n\n\n\n\n5406 rows Ã— 23 columns\n\n\n\n\neval å‡½æ•°äº§ç”Ÿå¸ƒå°”å˜é‡\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ eval å‡½æ•°æ¥äº§ç”Ÿå¸ƒå°”å˜é‡ï¼š\n\ndata.loc[data.eval(\"å¸‚å‡€ç‡ &gt; 10 and æ¢æ‰‹ç‡ &gt; 35\"), :]\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n5337\n5338\n000721\nè¥¿å®‰é¥®é£Ÿ\n14.67\n-4.12\n-0.63\n1547593.0\n2.390809e+09\n10.98\n16.29\n...\n1.9\n35.37\n-67.62\n16.61\n8.419323e+09\n6.418153e+09\n0.0\n-0.07\n16.71\n-15.2\n\n\n\n\n1 rows Ã— 23 columns\n\n\n\n\n\nåˆ©ç”¨ merge å‡½æ•°ç­›é€‰\næœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®æ ·æœ¬æ¥ç­›é€‰æ•°æ®ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ merge å‡½æ•°æ¥è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶è¿‡ç¨‹ä¹Ÿå°±æ˜¯æ•°æ®çš„ç­›é€‰è¿‡ç¨‹ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ ·æœ¬è‚¡ç¥¨çš„å†å²æ•°æ®è¿›è¡Œå›å½’ï¼Œéœ€è¦ä»å…¨æ ·æœ¬å†å²æ•°æ®ä¸­ç­›é€‰å‡ºæ ·æœ¬è‚¡ç¥¨çš„å†å²æ”¶ç›Šç‡æ•°æ®ã€‚ä¸‹é¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬é¦–é€‰è¯»å–å…¨æ ·æœ¬è‚¡ç¥¨çš„å†å²æ”¶ç›Šç‡æ•°æ®ï¼Œç„¶åç­›é€‰å‡ºå¸‚å‡€ç‡å¤§äº 10 ï¼ŒåŒæ—¶æ¢æ‰‹ç‡å¤§äº 35% çš„è‚¡ç¥¨å†å²æ”¶ç›Šç‡æ•°æ®ã€‚\n\nr = pd.read_csv(\"TRD_Dalyr.csv\", dtype={'Stkcd':str})\n\n\nr.head()\n\n\n\n\n\n\n\n\nStkcd\nTrddt\nDretwd\n\n\n\n\n0\n000001\n2018-01-02\n0.030075\n\n\n1\n000001\n2018-01-03\n-0.027007\n\n\n2\n000001\n2018-01-04\n-0.006002\n\n\n3\n000001\n2018-01-05\n0.003774\n\n\n4\n000001\n2018-01-08\n-0.025564\n\n\n\n\n\n\n\n\nbanks = data.loc[(data.å¸‚å‡€ç‡ &gt; 10) & (data.æ¢æ‰‹ç‡ &gt; 35), [\"ä»£ç \", \"åç§°\"]]\n\n\nbanks\n\n\n\n\n\n\n\n\nä»£ç \nåç§°\n\n\n\n\n5337\n000721\nè¥¿å®‰é¥®é£Ÿ\n\n\n\n\n\n\n\n\nr.merge(banks, left_on=\"Stkcd\", right_on=\"ä»£ç \", how=\"inner\")\n\n\n\n\n\n\n\n\nStkcd\nTrddt\nDretwd\nä»£ç \nåç§°\n\n\n\n\n0\n000721\n2018-01-02\n0.003540\n000721\nè¥¿å®‰é¥®é£Ÿ\n\n\n1\n000721\n2018-01-03\n0.010582\n000721\nè¥¿å®‰é¥®é£Ÿ\n\n\n2\n000721\n2018-01-04\n0.000000\n000721\nè¥¿å®‰é¥®é£Ÿ\n\n\n3\n000721\n2018-01-05\n0.001745\n000721\nè¥¿å®‰é¥®é£Ÿ\n\n\n4\n000721\n2018-01-08\n-0.010453\n000721\nè¥¿å®‰é¥®é£Ÿ\n\n\n...\n...\n...\n...\n...\n...\n\n\n1015\n000721\n2022-03-10\n0.042986\n000721\nè¥¿å®‰é¥®é£Ÿ\n\n\n1016\n000721\n2022-03-11\n-0.004338\n000721\nè¥¿å®‰é¥®é£Ÿ\n\n\n1017\n000721\n2022-03-14\n0.008715\n000721\nè¥¿å®‰é¥®é£Ÿ\n\n\n1018\n000721\n2022-03-15\n-0.036717\n000721\nè¥¿å®‰é¥®é£Ÿ\n\n\n1019\n000721\n2022-03-16\n0.067265\n000721\nè¥¿å®‰é¥®é£Ÿ\n\n\n\n\n1020 rows Ã— 5 columns\n\n\n\n\n\nåˆ©ç”¨ query å‡½æ•°è¿›è¡Œç­›é€‰\nquery æ˜¯ Pandas æä¾›çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä½¿ç”¨å¸ƒå°”è¡¨è¾¾å¼å¯¹ DataFrame è¿›è¡ŒæŸ¥è¯¢ï¼Œè¿™ä¸ªå¸ƒå°”è¡¨è¾¾å¼æ”¯æŒä¸€ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²ã€‚æ¯”å¦‚ï¼ŒæŸ¥è¯¢å¸‚å‡€ç‡å¤§äº 10ï¼ŒåŒæ—¶æ¢æ‰‹ç‡å¤§äº 35% çš„è‚¡ç¥¨ï¼š\n\ndata.query(\"å¸‚å‡€ç‡ &gt; 10 and æ¢æ‰‹ç‡ &gt; 35\")\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n5337\n5338\n000721\nè¥¿å®‰é¥®é£Ÿ\n14.67\n-4.12\n-0.63\n1547593.0\n2.390809e+09\n10.98\n16.29\n...\n1.9\n35.37\n-67.62\n16.61\n8.419323e+09\n6.418153e+09\n0.0\n-0.07\n16.71\n-15.2\n\n\n\n\n1 rows Ã— 23 columns\n\n\n\nquery ä¹Ÿæ”¯æŒä¼ å…¥å˜é‡ï¼Œä½¿ç”¨ @ ä¼ å…¥ã€‚\n\nname = \"è¥¿å®‰é¥®é£Ÿ\"\ndata.query(\"åç§° == @name\")\n\n\n\n\n\n\n\n\nåºå·\nä»£ç \nåç§°\næœ€æ–°ä»·\næ¶¨è·Œå¹…\næ¶¨è·Œé¢\næˆäº¤é‡\næˆäº¤é¢\næŒ¯å¹…\næœ€é«˜\n...\né‡æ¯”\næ¢æ‰‹ç‡\nå¸‚ç›ˆç‡-åŠ¨æ€\nå¸‚å‡€ç‡\næ€»å¸‚å€¼\næµé€šå¸‚å€¼\næ¶¨é€Ÿ\n5åˆ†é’Ÿæ¶¨è·Œ\n60æ—¥æ¶¨è·Œå¹…\nå¹´åˆè‡³ä»Šæ¶¨è·Œå¹…\n\n\n\n\n5337\n5338\n000721\nè¥¿å®‰é¥®é£Ÿ\n14.67\n-4.12\n-0.63\n1547593.0\n2.390809e+09\n10.98\n16.29\n...\n1.9\n35.37\n-67.62\n16.61\n8.419323e+09\n6.418153e+09\n0.0\n-0.07\n16.71\n-15.2\n\n\n\n\n1 rows Ã— 23 columns"
  },
  {
    "objectID": "posts/2021-01-08-ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹/index.html",
    "href": "posts/2021-01-08-ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹/index.html",
    "title": "ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹",
    "section": "",
    "text": "è¿™ç¯‡æ–‡ç« æ—¢æ˜¯é¢å‘åƒæˆ‘è¿™ç§ç»ç®¡ç±»éç§‘ç­åŒå­¦çš„çˆ¬è™«æ•™ç¨‹ï¼Œä¹Ÿæ˜¯æˆ‘è‡ªå·±å¯¹äºçˆ¬è™«å­¦ä¹ çš„ä¸€ä¸ªæ€»ç»“ã€‚"
  },
  {
    "objectID": "posts/2021-01-08-ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹/index.html#åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥-url-å¹¶å›è½¦ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆ",
    "href": "posts/2021-01-08-ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹/index.html#åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥-url-å¹¶å›è½¦ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆ",
    "title": "ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹",
    "section": "1.1 åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥ URL å¹¶å›è½¦ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ",
    "text": "1.1 åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥ URL å¹¶å›è½¦ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\nURLï¼ˆUniform Resource Locatorï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰ä¸€èˆ¬ç§°ä¸ºç½‘é¡µåœ°å€ï¼Œå³ç½‘ç»œä¸ŠæŸä¸ªèµ„æºçš„åœ°å€ï¼Œæ¯”å¦‚ â€http://archive.ics.uci.edu/ml/index.phpâ€œï¼Œè¿™æ˜¯ UCI æœºå™¨å­¦ä¹ æ•°æ®é›†çš„ç½‘é¡µåœ°å€ã€‚åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥è¿™ä¸ªåœ°å€å¹¶å›è½¦ï¼Œæˆ‘ä»¬ä¼šè§åˆ°å¦‚ä¸‹é¡µé¢ï¼š\n\n\n\nfigure-1\n\n\næ­¤æ—¶ï¼Œæˆ‘ä»¬è·å–äº†æœåŠ¡å™¨ç«¯å‘é€è¿‡æ¥çš„æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥çœ‹ä¸€çœ‹è¿™äº›æ•°æ®ï¼Œé¼ æ ‡å³é”®é€‰æ‹©æ£€æŸ¥ï¼Œè¿›å…¥å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡» index.phpï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ•°æ®æ˜¯ä¸€ä¸ª document ç±»å‹çš„æ–‡ä»¶ã€‚ç‚¹å‡» Previewï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶å°±æ˜¯é¡µé¢æ‰€å±•ç¤ºçš„å†…å®¹ã€‚\n\n\n\nfigure-2\n\n\nç®€å•æ¥è¯´ï¼Œæµè§ˆå™¨å°±æ˜¯è¿™æ ·ä¸€ä¸ªç¨‹åºï¼Œå¸®æˆ‘ä»¬å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚ï¼Œè·å–å“åº”ï¼Œç„¶åå°†å“åº”å†…å®¹è¿›è¡Œè§£æå’Œæ¸²æŸ“ï¼Œæœ€ç»ˆå‘ˆç°ç»™æˆ‘ä»¬çš„å°±æ˜¯å¦‚ä¸Šå›¾æ‰€ç¤ºçš„é¡µé¢ã€‚ä½ å¯ä»¥å°†æµè§ˆå™¨ç†è§£ä¸ºä¸€ä¸ªé‚®å·®ï¼Œä»–å¸®æˆ‘ä»¬é€ä¿¡ï¼ŒåŒæ—¶ä¹Ÿé€å›å›ä¿¡ã€‚\nä»¥ä¸Šåªæ˜¯ä¸€ä¸ªç®€åŒ–çš„è¡¨è¾¾ï¼Œé‚£ä¹ˆå…·ä½“æ¥è¯´æµè§ˆå™¨åšäº†å“ªäº›å·¥ä½œå‘¢ï¼Ÿ\n\nURL è§£æï¼šå½“æˆ‘ä»¬åœ¨åœ°å€æ ä¸­è¾“å…¥ä¸€ä¸ª URL å¹¶å›è½¦ï¼Œæµè§ˆå™¨é¦–å…ˆåˆ¤æ–­æˆ‘ä»¬è¾“å…¥çš„æ˜¯ä¸€ä¸ªåˆæ³•çš„ URL è¿˜æ˜¯ä¸€ä¸ªå¾…æœç´¢çš„å…³é”®è¯ã€‚å¦‚æœæ˜¯æœç´¢å†…å®¹ï¼Œæµè§ˆå™¨ä¼šä½¿ç”¨é»˜è®¤çš„æœç´¢å¼•æ“ï¼Œåˆæˆå¸¦æœ‰æœç´¢å†…å®¹çš„ URLï¼›å¦‚æœæ˜¯è¯·æ±‚çš„ URLï¼Œåˆ™æ ¹æ®è§„åˆ™åˆ¤æ–­ URL æ˜¯å¦å®Œæ•´ï¼Œä¸å®Œæ•´åˆ™æ ¹æ®è§„åˆ™åˆæˆå®Œæ•´çš„ URL\nDNS æŸ¥è¯¢ï¼šå…¶æ¬¡ï¼Œæµè§ˆå™¨ä¼šæ ¹æ® URL åœ°å€æŸ¥æ‰¾å¯¹åº”çš„ IP åœ°å€ã€‚å‰é¢æåˆ°è¿‡ï¼ŒURL åœ°å€æ˜¯ç½‘ç»œä¸Šèµ„æºå­˜åœ¨çš„åœ°å€ï¼Œå¯¹äºæˆ‘ä»¬äººç±»æ¥è¯´æ¯”è¾ƒå¥½è®°å¿†ï¼Œä½†æ˜¯å¯¹äºè®¡ç®—æœºæ¥è¯´å¹¶ä¸å¥½å¤„ç†ï¼Œè®¡ç®—æœºæ›´æ“…é•¿å¤„ç†æ•°å­—ï¼Œå› æ­¤ä¾¿æœ‰äº† IP åœ°å€ã€‚IPï¼ˆInternet Protocolï¼‰åœ°å€æŒ‡æ˜äº†å‘é€æ–¹çš„åœ°å€ï¼Œæ˜¯ç½‘ç»œä¸Šçš„ä¸€ä¸ªè™šæ‹Ÿåœ°å€ã€‚æœ‰äº†åœ°å€ï¼Œæµè§ˆå™¨ä¾¿å¯ä»¥å‘é€è¯·æ±‚ã€‚\nTCP è¿æ¥ï¼šå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨è¦ç›¸äº’é€šä¿¡ï¼ŒåŒæ–¹å°±è¦åŸºäºç›¸åŒçš„æ–¹æ³•å’Œè§„åˆ™ï¼Œæˆ‘ä»¬å°†è¿™ç§è§„åˆ™ç§°ä¸ºåè®®ã€‚æ¯”å¦‚ä¸¤ä¸ªäººè¦æ‰“ç”µè¯é€šä¿¡ï¼Œæˆ‘ä»¬è§„å®šéƒ½ä½¿ç”¨ä¸­æ–‡ä½œä¸ºæ²Ÿé€šè¯­è¨€ï¼Œè¿™å°±æ˜¯ä¸€ç§åè®®ã€‚æµè§ˆå™¨åœ¨äºæœåŠ¡å™¨è¿›è¡Œé€šä¿¡æ—¶ï¼Œä¸ºäº†ç¡®ä¿æ•°æ®å¯ä»¥å‡†ç¡®çš„è¿›è¡Œä¼ é€ï¼Œé‡‡ç”¨äº† TCP åè®®ã€‚TCP åè®®è¦æ±‚å®¢æˆ·ç«¯åœ¨ä¸æœåŠ¡å™¨é€šä¿¡ä¹‹å‰éœ€è¦å…ˆå»ºç«‹ TCP è¿æ¥ï¼Œä½ å¯ä»¥ç†è§£ä¸ºä¸¤ä¸ªäººè¦é€šä¿¡å‰éœ€è¦å…ˆè¿ä¸€æ¡ç”µè¯çº¿ã€‚å…³äºè¿™éƒ¨åˆ†å†…å®¹ï¼Œå¤§å®¶å¯ä»¥å‚è€ƒã€Šå›¾è§£ HTTPã€‹ã€‚\nå‘å‡ºè¯·æ±‚ï¼šé€šè¿‡å‰é¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å·²ç»å¾—åˆ°æœåŠ¡å™¨çš„åœ°å€ï¼ŒåŒæ—¶å»ºç«‹äº† TCP è¿æ¥ï¼Œä¸‹é¢æµè§ˆå™¨å°±ä¼šå¼€å§‹æ„é€  HTTP æŠ¥æ–‡ï¼Œå‘é€ HTTP è¯·æ±‚ã€‚å…¶ä¸­ï¼ŒæŠ¥æ–‡åŒ…æ‹¬ï¼š\n\nè¯·æ±‚æŠ¥å¤´ï¼ˆRequest Headerï¼‰ï¼šè¯·æ±‚æ–¹æ³•ã€ç›®æ ‡åœ°å€ã€éµå¾ªçš„åè®®ç­‰ç­‰\nè¯·æ±‚ä¸»ä½“\n\næ¥å—å“åº”ï¼šæœåŠ¡å™¨æ¥æ”¶åˆ°æµè§ˆå™¨å‘å‡ºçš„è¯·æ±‚ï¼Œä¼šè¿”å›ç›¸åº”çš„å“åº”èµ„æºã€‚æµè§ˆå™¨æ¥æ”¶åˆ°å“åº”èµ„æºåï¼Œä¼šå¯¹èµ„æºè¿›è¡Œåˆ†æã€‚é¦–å…ˆæŸ¥çœ‹ Response Headerï¼Œæ ¹æ®ä¸åŒçš„çŠ¶æ€ç åšä¸åŒçš„äº‹ã€‚å¦‚æœå“åº”èµ„æºè¿›è¡Œäº†å‹ç¼©ï¼ˆæ¯”å¦‚ gzipï¼‰ï¼Œè¿˜éœ€è¦è¿›è¡Œè§£å‹ã€‚ç„¶åï¼Œå¯¹å“åº”èµ„æºåšç¼“å­˜ã€‚æ¥ä¸‹æ¥ï¼Œæ ¹æ®å“åº”èµ„æºé‡Œçš„ MIMEï¼ˆMultipurpose Internet Mail Extensionsï¼Œåª’ä½“ç±»å‹ï¼‰ç±»å‹å»è§£æå“åº”å†…å®¹ã€‚\næ¸²æŸ“é¡µé¢ï¼šæµè§ˆå™¨è‡ªåŠ¨å‘é€è¯·æ±‚è·å–åµŒå…¥åœ¨ HTML ä¸­çš„èµ„æºï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€CSSã€JS ç­‰ç­‰ï¼‰\n\nå‚è€ƒèµ„æ–™\n\nã€Šå›¾è§£ HTTPã€‹\nhttps://juejin.cn/post/6844903922084085773\nhttps://zhuanlan.zhihu.com/p/133906695\nhttps://juejin.cn/post/6975307495808237604"
  },
  {
    "objectID": "posts/2021-01-08-ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹/index.html#http-åè®®",
    "href": "posts/2021-01-08-ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹/index.html#http-åè®®",
    "title": "ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹",
    "section": "1.2 HTTP åè®®",
    "text": "1.2 HTTP åè®®\nhttp ä¸ https åŒºåˆ«\nHTTPS æ¯” HTTP æ›´å®‰å…¨ï¼Œä½†æ˜¯æ€§èƒ½æ›´ä½ã€‚HTTPï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œé»˜è®¤ç«¯å£æ˜¯80ã€‚è¶…æ–‡æœ¬ï¼šæŒ‡ä¸ä»…é™äºæ–‡æœ¬ï¼Œè¿˜åŒ…æ‹¬å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰æ–‡ä»¶ã€‚ä¼ è¾“åè®®ï¼šä½¿ç”¨å…±åŒçº¦å®šçš„å›ºå®šæ ¼å¼æ¥ä¼ é€’è½¬æ¢æˆå­—ç¬¦ä¸²çš„è¶…æ–‡æœ¬å†…å®¹ã€‚\nHTTPSï¼šHTTP + SSLï¼ˆå®‰å…¨å¥—æ¥å­—å±‚ï¼‰ï¼Œå³å¸¦æœ‰å®‰å…¨å¥—æ¥å­—å±‚çš„è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œé»˜è®¤ç«¯å£å·443ã€‚SSL å¯¹ä¼ è¾“çš„å†…å®¹è¿›è¡ŒåŠ å¯†\nè¯·æ±‚å¤´\n\nContent-Type\nHostï¼ˆä¸»æœºå’Œç«¯å£å·ï¼‰\nConnectionï¼ˆé“¾æ¥ç±»å‹ï¼‰\nUpgrade-Insecure-Requestsï¼ˆå‡çº§ä¸º HTTPS è¯·æ±‚ï¼‰\nUser-Agentï¼ˆç”¨æˆ·ä»£ç†ï¼šæä¾›ç³»ç»Ÿä¿¡æ¯ä¸æµè§ˆå™¨ä¿¡æ¯ï¼‰\nRefererï¼ˆé¡µé¢è·³è½¬å¤„ï¼Œé˜²ç›—é“¾ï¼‰\nCookieï¼ˆçŠ¶æ€ä¿æŒï¼‰\nAuthorizationï¼ˆç”¨äºè¡¨ç¤º HTTP åè®®ä¸­éœ€è¦è®¤è¯èµ„æºçš„è®¤è¯ä¿¡æ¯ï¼‰\n\nå“åº”å¤´\n\nSet-Cookie\n\nå¸¸è§çš„å“åº”çŠ¶æ€ç \n\n200ï¼šæˆåŠŸ\n302ï¼šè·³è½¬ï¼Œæ–°çš„ URL åœ¨å“åº”çš„ Location å¤´ä¸­ç»™å‡º\n303ï¼šæµè§ˆå™¨å¯¹äº POST çš„å“åº”é‡å®šå‘è‡³æ–°çš„ URL\n307ï¼šæµè§ˆå™¨å¯¹äº GET çš„å“åº”é‡å®šå‘è‡³æ–°çš„ URL\n403ï¼šèµ„æºä¸å¯ç”¨ï¼›æœåŠ¡å™¨ç†è§£å®¢æˆ·çš„è¯·æ±‚ï¼Œä½†æ‹’ç»å¤„ç†å®ƒï¼ˆæ²¡æœ‰æƒé™ï¼‰\n404ï¼šæ‰¾ä¸åˆ°è¯¥é¡µé¢\n500ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯\n503ï¼šæœåŠ¡å™¨ç”±äºç»´æŠ¤æˆ–è€…è´Ÿè½½è¿‡é‡æœªèƒ½åº”ç­”ï¼Œåœ¨å“åº”ä¸­å¯èƒ½ä¼šæºå¸¦ Retry-After å“åº”å¤´ï¼›æœ‰å¯èƒ½æ˜¯å› ä¸ºçˆ¬è™«é¢‘ç¹åœ°è®¿é—®ï¼Œä½¿æœåŠ¡å™¨å¿½è§†çˆ¬è™«è¯·æ±‚ï¼Œæœ€ç»ˆè¿”å› 503 å“åº”çŠ¶æ€ç \n\nä¸€åˆ‡çš„çŠ¶æ€ç éƒ½ä¸å¯è¡Œï¼Œä¸€åˆ‡éƒ½ä»¥æ˜¯å¦ä»æŠ“åŒ…å¾—åˆ°çš„å“åº”ä¸­è·å–åˆ°çš„æ•°æ®ä¸ºå‡†\nNetwork ä¸­æŠ“åŒ…å¾—åˆ°çš„æºç æ‰æ˜¯åˆ¤æ–­ä¾æ®ï¼ŒElements ä¸­æ˜¯æµè§ˆå™¨æ¸²æŸ“ä¹‹åçš„æºç ï¼Œä¸èƒ½ä½œä¸ºåˆ¤æ–­æ ‡å‡†"
  },
  {
    "objectID": "posts/2021-01-08-ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹/index.html#æŠ“åŒ…åˆ†æ",
    "href": "posts/2021-01-08-ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹/index.html#æŠ“åŒ…åˆ†æ",
    "title": "ä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹",
    "section": "3.1 æŠ“åŒ…åˆ†æ",
    "text": "3.1 æŠ“åŒ…åˆ†æ"
  },
  {
    "objectID": "posts/2023-03-15-ä¸‰é—¨é—®é¢˜/index.html",
    "href": "posts/2023-03-15-ä¸‰é—¨é—®é¢˜/index.html",
    "title": "ä¸‰é—¨é—®é¢˜ï¼Œç›´è§‰ç©¶ç«Ÿå»äº†å“ªé‡Œï¼Ÿ",
    "section": "",
    "text": "ä¸‰é—¨é—®é¢˜ä¹Ÿè¢«ç§°ä¸ºè’™æéœå°”é—®é¢˜ï¼Œä¼ è¨€å‡ºè‡ªäºç¾å›½çš„ç”µè§†æ¸¸æˆèŠ‚ç›® Letâ€™s Make a Dealã€‚\næ¸¸æˆæ˜¯è¿™æ ·è®¾ç½®çš„ï¼Œå‚èµ›è€…ä¼šé¢å¯¹ä¸‰æ‰‡é—¨ï¼Œå…¶ä¸­ä¸€æ‰‡é—¨åé¢æœ‰ä¸€è¾†æ±½è½¦ï¼Œå¦å¤–ä¸¤æ‰‡é—¨åé¢æ˜¯ä¸¤å¤´ç¾Šã€‚å‚èµ›è€…è‡ªç”±é€‰æ‹©ä¸€æ‰‡é—¨ï¼Œç„¶åä¸»æŒäººä¼šå¼€å¯å‰©ä¸‹ä¸¤æ‰‡é—¨ä¸­çš„ä¸€æ‰‡ï¼Œéœ²å‡ºå…¶ä¸­ä¸€å¤´ç¾Šã€‚è¿™æ—¶å€™ï¼Œä¸»æŒäººä¼šè¯¢é—®å‚èµ›è€…è¦ä¸è¦æ”¹å˜é€‰æ‹©ã€‚å¦‚æœæ˜¯ä½ ï¼Œä½ ä¼šæ”¹å˜é€‰æ‹©ä¹ˆï¼Ÿ\nç­”æ¡ˆæ˜¯åº”è¯¥æ”¹å˜é€‰æ‹©ï¼Œæ¢å‰©ä¸‹é‚£æ‰‡é—¨èµ¢å¾—æ±½è½¦çš„æ¦‚ç‡æ˜¯ \\frac{2}{3}ï¼Œä¸æ¢èµ¢å¾—æ±½è½¦çš„æ¦‚ç‡åªæœ‰ \\frac{1}{3}ã€‚ å¾ˆå¤šäººä¼šè®¤ä¸ºæ”¹ä¸æ”¹å˜é€‰æ‹©å…¶å®æ— æ‰€è°“ï¼Œæ‰“å¼€ä¸€æ‰‡é—¨ä¹‹åï¼Œè¿˜å‰©ä¸‹ä¸¤æ‰‡é—¨ï¼Œè¿™ä¸¤æ‰‡é—¨åé¢æœ‰ä¸€è¾†è½¦å’Œä¸€å¤´ç¾Šï¼Œæ‰€ä»¥æ”¹å˜é€‰æ‹©èµ¢å¾—æ±½è½¦çš„æ¦‚ç‡ä¸º \\frac{1}{2}ã€‚è€Œæ ¹æ®ç­”æ¡ˆï¼Œæ”¹å˜é€‰æ‹©èµ¢å¾—æ±½è½¦çš„æ¦‚ç‡æ˜¯ \\frac{2}{3}ï¼Œå¤§äº \\frac{1}{2}ï¼Œè¯´æ˜ä¸»æŒäººæ‰“å¼€ä¸€æ‰‡é—¨éœ²å‡ºç¾Šçš„è¡Œä¸ºï¼Œè¿œæ¯”æˆ‘ä»¬æƒ³è±¡çš„æä¾›äº†æ›´å¤šçš„ä¿¡æ¯ã€‚\n\nä½¿ç”¨æ¡ä»¶æ¦‚ç‡è®¡ç®—\näº‹å®ä¸Šï¼Œè¿™æ˜¯ä¸€ä¸ªæ¡ä»¶æ¦‚ç‡é—®é¢˜ã€‚è®°å‚èµ›è€…æ”¹å˜é€‰æ‹©èµ¢å¾—æ±½è½¦ä¸ºäº‹ä»¶ Aï¼Œå‚èµ›è€…ç¬¬ä¸€æ¬¡é€‰æ‹©çš„é‚£æ‰‡é—¨åæ˜¯æ±½è½¦ä¸ºäº‹ä»¶ B_{1}ï¼Œç¬¬ä¸€æ¬¡é€‰æ‹©çš„é‚£æ‰‡é—¨åæ˜¯ç¾Šä¸ºäº‹ä»¶ B_{2}ï¼Œä¸»æŒäººæ‰“å¼€çš„é—¨åé¢æ˜¯ç¾Šä¸ºäº‹ä»¶ Cã€‚é‚£ä¹ˆæˆ‘ä»¬è¦æ±‚çš„æ¦‚ç‡ä¸ºï¼š\n\nP(A/C) = \\frac{P(AC)}{P(C)}\n\nè¿™é‡Œï¼ŒP(AC) ä¸ºä¸»æŒäººæ‰“å¼€çš„é—¨åé¢æ˜¯ç¾Šï¼ŒåŒæ—¶å‚èµ›è€…æ”¹å˜é€‰æ‹©èµ¢å¾—æ±½è½¦çš„æ¦‚ç‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¨æ¦‚ç‡å…¬å¼æ±‚è§£ï¼Œå³åˆ†ä¸¤ç§æƒ…å†µï¼Œå‚èµ›è€…ç¬¬ä¸€æ¬¡é€‰æ‹©çš„é‚£æ‰‡é—¨åæ˜¯æ±½è½¦ï¼Œä¸å‚èµ›è€…ç¬¬ä¸€æ¬¡é€‰æ‹©çš„é‚£æ‰‡é—¨åæ˜¯ç¾Šï¼š\n\n\\begin{aligned}\nP(AC) &= P(AC/B_{1}) \\times P(B_{1}) + P(AC/B_{2}) \\times P(B_{2}) \\\\\\\nP(AC) &= 0 \\times \\frac{1}{3} + 1 \\times \\frac{2}{3} \\\\\\\nP(AC) &= \\frac{2}{3}\n\\end{aligned}\n\nä¸éš¾ç†è§£ï¼Œå½“å‚èµ›è€…ç¬¬ä¸€æ¬¡é€‰æ‹©çš„é—¨åæ˜¯è½¦æ—¶ï¼Œæ­¤æ—¶ä¸»æŒäººéšæ„é€‰æ‹©ä¸€æ‰‡é—¨ï¼Œå‚èµ›è€…æ”¹å˜é€‰æ‹©èµ¢å¾—æ±½è½¦çš„æ¦‚ç‡ä¸º 0ï¼Œå³ P(AC/B_{1}) ä¸º 0ã€‚å½“å‚èµ›è€…ç¬¬ä¸€æ¬¡é€‰æ‹©çš„é—¨åæ˜¯ç¾Šæ—¶ï¼Œç”±äºä¸»æŒäººçŸ¥é“å‰©ä¸‹çš„ä¸¤æ‰‡é—¨èƒŒåçš„æƒ…å†µï¼Œé‚£ä¹ˆä»–ä¸€å®šä¼šæ‰“å¼€æœ‰ç¾Šçš„é‚£æ‰‡é—¨ï¼Œæ­¤æ—¶å‚èµ›è€…æ”¹å˜é€‰æ‹©èµ¢å¾—æ±½è½¦çš„æ¦‚ç‡ä¸º 1ï¼Œå³ P(AC/B_{2}) ä¸º 1ã€‚ç”±æ­¤å¯ä»¥è®¡ç®—å‡º P(AC)=\\frac{2}{3}ã€‚\nåŒç†æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å…¨æ¦‚ç‡å…¬å¼è®¡ç®— P(C):\n\n\\begin{aligned}\nP(C) &= P(C/B_{1}) \\times P(B_{1}) + P(C/B_{2}) \\times P(B_{2}) \\\\\\\nP(C) &= 1 \\times \\frac{1}{3} + 1 \\times \\frac{2}{3} \\\\\\\nP(C) &= 1\n\\end{aligned}\n\näº‹å®ä¸Šï¼Œæ— è®ºå‚èµ›è€…ç¬¬ä¸€æ¬¡é€‰æ‹©çš„é—¨èƒŒåæ˜¯è½¦è¿˜æ˜¯ç¾Šï¼Œä¸»æŒäººæ‰“å¼€çš„é—¨èƒŒåæ˜¯ç¾Šçš„æ¦‚ç‡éƒ½ä¸º 1ï¼Œå› ä¸ºä¸»æŒäººçŸ¥é“é—¨èƒŒåçš„æƒ…å†µã€‚\nç”±æ­¤æˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºåœ¨ä¸»æŒäººæ‰“å¼€çš„é—¨åé¢æ˜¯ç¾Šçš„æƒ…å†µä¸‹ï¼Œå‚èµ›è€…æ”¹å˜é€‰æ‹©èµ¢å¾—æ±½è½¦çš„æ¦‚ç‡ä¸ºï¼š\n\nP(A/C) = \\frac{\\frac{2}{3}}{1} = \\frac{2}{3}\n\n\n\nå¦‚æœä¸»æŒäººä¸äº†è§£é—¨åçš„æƒ…å†µå‘¢ï¼Ÿ\né€šè¿‡ä¸Šé¢çš„è®¡ç®—ï¼Œæˆ‘ä»¬å‘ç°ä¸»æŒäººæ‰“å¼€å‰©ä¸‹çš„ä¸€æ‰‡é—¨æä¾›äº†æ›´å¤šçš„ä¿¡æ¯ï¼Œæœ¬è´¨ä¸Šæ˜¯å› ä¸ºä¸»æŒäººäº†è§£é—¨èƒŒåçš„æƒ…å†µã€‚é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬å‡è®¾ä¸»æŒäººä¸çŸ¥é“é—¨èƒŒåçš„æƒ…å†µï¼Œè®°äº‹ä»¶ C ä¸ºä¸»æŒäººæ‰“å¼€å‰©ä¸‹ä¸€æ‰‡é—¨ï¼Œé‚£æ‰‡é—¨èƒŒåæ°å¥½æ˜¯ç¾Šï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¦ä¸è¦æ”¹å˜é€‰æ‹©å‘¢ï¼Ÿ\næˆ‘ä»¬ä¾ç„¶å¯ä»¥ä½¿ç”¨æ¡ä»¶æ¦‚ç‡å’Œå…¨æ¦‚ç‡å…¬å¼æ¥è®¡ç®—ï¼š\n\n\\begin{aligned}\nP(A/C) &= \\frac{P(AC)}{P(C)} \\\\\\\nP(A/C) &= \\frac{P(AC/B_{1}) \\times P(B_{1}) + P(AC/B_{2}) \\times P(B_{2})}{P(C/B_{1}) \\times P(B_{1}) + P(C/B_{2}) \\times P(B_{2})} \\\\\\\nP(A/C) &= \\frac{0 \\times \\frac{1}{3} + \\frac{1}{2} \\times \\frac{2}{3}}{1 \\times \\frac{1}{3} + \\frac{1}{2} \\times \\frac{2}{3}} \\\\\\\nP(A/C) &= \\frac{1}{2}\n\\end{aligned}\n\næ­£å¥½æ˜¯ \\frac{1}{2}ï¼Œç¬¦åˆæˆ‘ä»¬çš„ç›´è§‰ï¼Œå‚èµ›è€…æ”¹ä¸æ”¹å˜é€‰æ‹©éƒ½ä¸€æ ·ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæ­¤æ—¶ P(C) ä¸ä¸º 1ï¼Œå› ä¸ºä¸»æŒäººä¸æ¸…æ¥šé—¨èƒŒåçš„æƒ…å†µã€‚P(AC/B_{2}) ä¹Ÿä¸ç­‰äº \\frac{2}{3}ï¼Œå› ä¸ºå½“å‚èµ›è€…ç¬¬ä¸€æ¬¡é€‰æ‹©çš„é—¨åæ˜¯ç¾Šæ—¶ï¼Œä¸»æŒäººæ‰“å¼€å‰©ä¸‹ä¸€æ‰‡é—¨èƒŒåæ°å¥½æ˜¯ç¾Šçš„æ¦‚ç‡ä¸º \\frac{1}{2}ã€‚\n\n\nä¸€ä¸ªç®€å•çš„æƒ³æ³•\nä¸€ä¸ªç®€å•çš„æƒ³æ³•æ˜¯å‚èµ›è€…ç¬¬ä¸€æ¬¡é€‰åˆ°è½¦çš„æ¦‚ç‡ä¸º \\frac{1}{3}ï¼Œè½¦åœ¨å‰©ä¸‹ä¸¤æ‰‡é—¨çš„æ¦‚ç‡ä¸º \\frac{2}{3}ã€‚ä¸»æŒäººæ‰“å¼€ä¸€æ‰‡é—¨åï¼Œè¿™ \\frac{2}{3} çš„æ¦‚ç‡éƒ½è¢«æŒ¤åˆ°å‰©ä¸‹é‚£æ‰‡é—¨ä¸Šå»äº†ï¼Œæ‰€ä»¥å‚èµ›è€…æ”¹å˜é€‰æ‹©èµ¢å¾—æ±½è½¦çš„æ¦‚ç‡ä¸º \\frac{2}{3}ã€‚\nå¦å¤–ä¸€ä¸ªæƒ³æ³•æ˜¯ï¼Œå‡è®¾æœ‰ 1000 æ‰‡é—¨ï¼Œä½ é¦–å…ˆé€‰æ‹©äº†ä¸€æ‰‡é—¨ï¼Œç„¶åä¸»æŒäººæ‰“å¼€äº†å‰©ä¸‹çš„ 999 æ‰‡é—¨ä¸­çš„ 998 æ‰‡é—¨ï¼Œé—¨åéƒ½æ˜¯ç¾Šã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ä½ è¿˜ä¼šåšæŒæœ€åˆçš„é€‰æ‹©ä¹ˆï¼Ÿä½ ä¼šè®¤ä¸ºè‡ªå·±å°±æ˜¯é‚£ä¸ªä¸Šå¤©çœ·é¡¾çš„äººï¼Œä¸€å¼€å§‹å°±åšäº†æ­£ç¡®çš„é€‰æ‹©ä¹ˆğŸ˜€"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "",
    "text": "ä¸€ç›´å¸Œæœ›æ­å»ºä¸€ä¸ªåšå®¢ï¼Œä¸€æ–¹é¢æ˜¯å¸Œæœ›èƒ½æœ‰ä¸€ä¸ªåœ°æ–¹è®°å½•æ•´ç†è‡ªå·±å­¦è¿‡çš„çŸ¥è¯†ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿå¸Œæœ›èƒ½äº¤åˆ°ä¸€äº›å¿—åŒé“åˆçš„æœ‹å‹ï¼ˆæœ‰äººå¯ä»¥è®¨è®ºçœŸæ˜¯å¤ªæ£’äº†ï¼ï¼‰åœ¨å„ç§é¼“æ£ä¹‹åï¼Œæˆ‘é€‰æ‹©äº† Nikolaï¼Œå› ä¸ºå®ƒåŸç”Ÿæ”¯æŒ Jupyter notebookã€‚è‡³äºä¸ºä»€ä¹ˆé€‰æ‹©é™æ€åšå®¢ï¼ŒNikola å®˜ç½‘è¿™ç¯‡æ–‡ç« å†™çš„å¾ˆå¥½ã€‚\nå…³äºå¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºåšå®¢å’Œä¸ªäººç½‘ç«™ï¼Œç›¸å…³çš„ä¸­æ–‡èµ„æºæ¯”è¾ƒå°‘ï¼Œè¿™ç¯‡æ–‡ç« æ˜¯æˆ‘ä¸ªäººï¼Œæ¥è‡ªä¸€ä¸ªéç§‘ç­èƒŒæ™¯çš„è¸©å‘ç»å†ã€‚åšå®¢åœ¨ WSL2 ä¸Šæ­å»ºï¼ŒWindows ä¸ Mac ä¸Šæ­å»ºä¹Ÿç±»ä¼¼ï¼Œç¯å¢ƒå¦‚ä¸‹ï¼š"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#nikola-å®‰è£…",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#nikola-å®‰è£…",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "Nikola å®‰è£…",
    "text": "Nikola å®‰è£…\nå®˜æ–¹æ–‡æ¡£æ¨èä½¿ç”¨è™šæ‹Ÿç¯å¢ƒæ¥å®‰è£… Nikolaï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Python è‡ªå¸¦çš„ venv æ¨¡å—æ¥åˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€‚\n# é¦–å…ˆæ–°å»ºä¸€ä¸ªåšå®¢ç›®å½•\nmkdir myblog\n\n# ç„¶åè¿›å…¥åˆ° myblog ç›®å½•ä¸‹ï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ\ncd myblog\npython3 -m venv blog\n\n# è¿›å…¥åˆ°è™šæ‹Ÿç¯å¢ƒç›®å½•ï¼Œæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ\ncd blog\nsource ./bin/activate\n\n# ä½¿ç”¨ pip å®‰è£… Nikola\npip install -U pip setuptools wheel\npip install -U \"Nikola[extras]\"\nå®˜æ–¹æ–‡æ¡£æ¨èåœ¨å®‰è£…æ—¶é€‰æ‹© Nikola[extras] ç‰ˆæœ¬ï¼ˆå¯ä»¥ä½“éªŒä¸€äº›é¢å¤–çš„åŠŸèƒ½ï¼‰ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥é€‰æ‹©å®‰è£… Nikola ç‰ˆæœ¬ã€‚"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#åˆå§‹åŒ–åšå®¢",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#åˆå§‹åŒ–åšå®¢",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "åˆå§‹åŒ–åšå®¢",
    "text": "åˆå§‹åŒ–åšå®¢\nåœ¨å®‰è£…å®Œ Nikola ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ Nikola æä¾›çš„å‘½ä»¤åˆå§‹åŒ–åšå®¢äº†ã€‚\nnikola init --demo my_blog\nè¿™æ¡å‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½• my_blogï¼Œ--demo my_blog å‚æ•°è¡¨ç¤ºåœ¨åˆå§‹åŒ–ç›®å½•çš„æ—¶å€™åˆ›å»ºä¸€äº› demo æ–‡ä»¶ï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä¸åˆ›å»º demo æ–‡ä»¶ï¼Œä½¿ç”¨ --quiet å‚æ•°ï¼‰ã€‚ä½ ä¼šçœ‹åˆ°å¦‚ä¸‹è¾“å‡ºå’Œæé—®ï¼š\nCreating Nikola Site\n====================\n\nThis is Nikola v8.2.1.  We will now ask you a few easy questions about your new site.\nIf you do not want to answer and want to go with the defaults instead, simply restart with the `-q` parameter.\n--- Questions about the site ---\nSite title [My Nikola Site]:\nå›ç­”å‘½ä»¤è¡Œä¸­çš„æé—®ï¼š\n\nSite titleï¼šç½‘ç«™å\nSite authorï¼šç½‘ç«™ä½œè€…\nSite authorâ€™s e-mailï¼šè”ç³»é‚®ç®±\nSite descriptionï¼šç½‘ç«™æè¿°ï¼Œç”Ÿæˆç½‘ç«™çš„ meta description\nSite URLï¼šç½‘é¡µ URL\nEnable pretty URLs (/page/ instead of /page.html) that donâ€™t need web server configuration? [Y/n]ï¼šæ˜¯å¦å¼€å¯ pretty URLs\nLanguage(s) to use [en]ï¼šé€‰æ‹©ç½‘ç«™æ˜¾ç¤ºè¯­è¨€\nTime zone [Asia/Shanghai]ï¼šé€‰æ‹©æ—¶åŒº\nComment systemï¼šé€‰æ‹©è¯„è®ºç³»ç»Ÿ\n\nå½“ä½ çœ‹åˆ°ä»¥ä¸‹æç¤ºæ—¶ï¼Œå°±è¯´æ˜åšå®¢åˆå§‹åŒ–æˆåŠŸäº†ã€‚\nThat's it, Nikola is now configured.  Make sure to edit conf.py to your liking.\nIf you are looking for themes and addons, check out https://themes.getnikola.com/ and https://plugins.getnikola.com/.\nHave fun!\n[2022-04-29 16:09:00] INFO: init: A new site with example data has been created at my_blog.\n[2022-04-29 16:09:00] INFO: init: See README.txt in that folder for more information.\næˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ my_blog ç›®å½•ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„åšå®¢æ ¹ç›®å½•ã€‚\n.\nâ”œâ”€â”€ files\nâ”œâ”€â”€ galleries\nâ”œâ”€â”€ images  # å›¾ç‰‡å­˜æ”¾ç›®å½•\nâ”œâ”€â”€ listings\nâ”‚Â Â  â””â”€â”€ __pycache__\nâ”œâ”€â”€ pages  # é¡µé¢å­˜æ”¾ç›®å½•\nâ”œâ”€â”€ posts  # æ–‡ç« å­˜æ”¾ç›®å½•\nâ””â”€â”€ templates  # ç”Ÿæˆç«™ç‚¹çš„æ¨¡æ¿æ–‡ä»¶å­˜æ”¾ç›®å½•"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#æ–°å»ºåšå®¢",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#æ–°å»ºåšå®¢",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "æ–°å»ºåšå®¢",
    "text": "æ–°å»ºåšå®¢\nåšå®¢åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ·»åŠ ç¬¬ä¸€ç¯‡åšå®¢äº†ã€‚\n\næ·»åŠ ç¬¬ä¸€ç¯‡åšå®¢\nå¦‚æœä½ ä¹ æƒ¯ä½¿ç”¨å‘½ä»¤è¡Œï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ nikola new_post -f markdown æ·»åŠ ç¬¬ä¸€ç¯‡åšå®¢ï¼š\nCreating New Post\n-----------------\n\nTitle: First post\nScanning posts........done!\n[2022-04-29 20:50:04] INFO: new_post: Your post's text is at: posts/first-post.md\n-f å‚æ•°æŒ‡å®šæ–‡ç« æ ¼å¼ï¼Œè¿™é‡Œæˆ‘ä»¬æŒ‡å®šä¸º markdown æ ¼å¼ï¼Œè¯¥å‘½ä»¤ä¼šåœ¨ posts æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª markdown æ–‡ä»¶ï¼Œä½ å¯ä»¥ cd åˆ° posts ç›®å½•ä¸‹ï¼Œç»§ç»­ç¼–è¾‘è¯¥åšå®¢ã€‚æ‰“å¼€è¯¥åšå®¢ï¼Œä½ ä¼šå‘ç°ä»¥ä¸‹å…ƒä¿¡æ¯ï¼š\n&lt;!--\n.. title: First post\n.. slug: first-post\n.. date: 2022-12-30 19:30:43 UTC+08:00\n.. tags: \n.. category: \n.. link: \n.. description: \n.. type: text\n--&gt;\n\ntitleï¼šæ–‡ç« æ ‡é¢˜\nslugï¼šå›ºå®šé“¾æ¥åœ°å€ï¼Œæ˜¯ URL æœ€åä¸€ä¸ªåæ–œæ ä¹‹åçš„é‚£ä¸€éƒ¨åˆ†ã€‚slug å¦‚æœä¸æŒ‡å®šï¼ŒNikola é»˜è®¤ä½¿ç”¨æ–‡ç« æ ‡é¢˜ä½œä¸º slugã€‚\ndateï¼šæ–‡ç« åˆ›å»ºæ—¶é—´\ntagsï¼šæ–‡ç« æ ‡ç­¾\ncategoryï¼šæ–‡ç« åˆ†ç±»\nlinkï¼šLink to original source for content. May be displayed by some themes.ï¼ˆå®˜æ–¹æ–‡æ¡£ä»‹ç»ï¼Œæš‚æ—¶æ²¡ç”¨è¿‡ï¼‰\ndescriptionï¼šé¡µé¢æè¿°\ntypeï¼šæ–‡ç« ç±»å‹\n\né™¤æ­¤ä¹‹å¤–ï¼Œå¦ä¸€ä¸ªå¸¸ç”¨çš„å…ƒä¿¡æ¯å­—æ®µæ˜¯ has_mathã€‚å¦‚æœæ–‡ç« ä¸­æœ‰ latex å…¬å¼ï¼Œå°±éœ€è¦æ·»åŠ è¯¥å­—æ®µã€‚ä¸€èˆ¬å¸¸ç”¨çš„ metadata å­—æ®µå°±è¿™äº›ï¼Œå¦‚æœä½ æƒ³æ·±å…¥äº†è§£ï¼Œæ¨èå®˜æ–¹æ–‡æ¡£ã€‚\nå¦‚æœä½ ä¸ä¹ æƒ¯ä½¿ç”¨å‘½ä»¤è¡Œï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨ posts ç›®å½•ä¸‹æ–°å»º markdown æ–‡ä»¶ï¼Œç„¶ååˆ©ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨è¿›è¡Œç¼–è¾‘ï¼Œä½†éœ€è¦æ‰‹åŠ¨æ·»åŠ å…ƒä¿¡æ¯ã€‚é™¤äº† markdownï¼ŒNikola ä¹Ÿæ”¯æŒå¦‚ä¸‹æ ¼å¼ï¼š\n\n\nreStructuredText (default and pre-configured)\nMarkdown (pre-configured since v7.8.7)\nJupyter Notebook\nHTML\nPHP\nanything Pandoc supports (including Textile, DocBook, LaTeX, MediaWiki, TWiki, OPML, Emacs Org-Mode, txt2tags, Microsoft Word .docx, EPUB, Haddock markup)\n\n\n\n\nç”Ÿæˆé™æ€æ–‡ä»¶\nå†™å®Œåšå®¢ä¹‹åï¼Œä¸‹é¢æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤ nikola build ç”Ÿæˆé™æ€æ–‡ä»¶ã€‚nikola build ä¼šåœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª output ç›®å½•ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯ä½ çš„ç«™ç‚¹èµ„æºç›®å½•ï¼Œä½ çš„åšå®¢ç½‘ç«™é‡Œæ‰€æœ‰æ˜¾ç¤ºçš„å†…å®¹éƒ½æ¥è‡ªäºè¿™ä¸ªç›®å½•ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸ªç›®å½•ï¼š\n.\nâ”œâ”€â”€ 2012  # åšå®¢å½’æ¡£ç›®å½•ï¼ŒNikola demo æ–‡ä»¶ä¸­æœ‰ä¸€ç¯‡æ˜¯ 2012 å¹´å†™çš„\nâ”œâ”€â”€ archive.html  # æ˜¾ç¤ºåšå®¢å½’æ¡£é¡µé¢\nâ”œâ”€â”€ assets  # css js fonts img ç­‰èµ„æºç›®å½•\nâ”œâ”€â”€ categories  # åšå®¢åˆ†ç±»\nâ”œâ”€â”€ favicon.ico\nâ”œâ”€â”€ galleries\nâ”œâ”€â”€ images\nâ”œâ”€â”€ index.html # åšå®¢é¦–é¡µ\nâ”œâ”€â”€ listings\nâ”œâ”€â”€ pages\nâ”œâ”€â”€ posts  # åšå®¢ç›®å½•\nâ”œâ”€â”€ robots.txt\nâ”œâ”€â”€ rss.xml\nâ”œâ”€â”€ sitemap.xml\nâ””â”€â”€ sitemapindex.xml\nè¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦å…³æ³¨ posts ç›®å½•ï¼Œnikola build å‘½ä»¤ä¼šå°†æˆ‘ä»¬å†™çš„ markdown æ–‡ä»¶è½¬åŒ–ä¸º html æ–‡ä»¶å¹¶ä¿å­˜åœ¨è¯¥ç›®å½•ä¸‹ã€‚\n\n\næœ¬åœ°è°ƒè¯•\nä½¿ç”¨å‘½ä»¤ nikola serve -b ä¼šæ‰“å¼€é»˜è®¤æµè§ˆå™¨ï¼Œæ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œæœ¬åœ°è°ƒè¯•ã€‚è¿™é‡Œï¼Œç”±äºæˆ‘æ˜¯åœ¨ WSL2 ä¸­æ­å»ºåšå®¢ï¼Œé”®å…¥ nikola serve -b å‘½ä»¤ä¹‹åï¼Œhttp://0.0.0.0:8000/ æ˜¾ç¤ºæ‹’ç»è®¿é—®ï¼ŒWindows å’Œ Mac åº”è¯¥ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚\nè§£å†³æ–¹æ³•æ˜¯åœ¨ windows C:\\Users\\Me ç›®å½•ä¸‹æ–°å»º .wslconfig é…ç½®æ–‡ä»¶ï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š\n[wsl2]\nlocalhostForwarding=true"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#è®©-nikola-æ”¯æŒ-jupyter-notebook",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#è®©-nikola-æ”¯æŒ-jupyter-notebook",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "è®© Nikola æ”¯æŒ Jupyter Notebook",
    "text": "è®© Nikola æ”¯æŒ Jupyter Notebook\nä¸‹é¢æˆ‘ä»¬è®© Nikola æ”¯æŒ Jupyter Notebookï¼Œæ¯•ç«Ÿè¿™æ˜¯æ•°æ®ç§‘å­¦å®¶çš„åšå®¢:)\né¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨ COMPILERS ä¸­å®šä¹‰ ipynb æ–‡ä»¶ã€‚æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ conf.pyï¼Œæœç´¢ COMPILERSï¼Œå¦‚ä¸‹å®šä¹‰ ipynb æ–‡ä»¶ï¼š\nCOMPILERS = {                                                                               \n    \"rest\": ['.rst', '.txt'],\n    \"markdown\": ['.md', '.mdown', '.markdown'],\n    \"textile\": ['.textile'],\n    \"txt2tags\": ['.t2t'],\n    \"bbcode\": ['.bb'],\n    \"wiki\": ['.wiki'],\n    \"ipynb\": ['.ipynb'],\n    \"html\": ['.html', '.htm'],\n    \"php\": ['.php'],\n}\nå…¶æ¬¡ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ POSTS ä¸­å®šä¹‰ .ipynb æ’ä»¶ã€‚ç¼–è¾‘ç«™ç‚¹é…ç½®æ–‡ä»¶ conf.pyï¼Œæœç´¢ POSTSï¼Œå¦‚ä¸‹å®šä¹‰ .ipynb æ’ä»¶ï¼š\n POSTS = (                                                                              \n     (\"posts/*.rst\", \"posts\", \"post.tmpl\"),\n     (\"posts/*.md\", \"posts\", \"post.tmpl\"),\n     (\"posts/*.txt\", \"posts\", \"post.tmpl\"),\n     (\"posts/*.html\", \"posts\", \"post.tmpl\"),\n     (\"posts/*.ipynb\", \"posts\", \"post.tmpl\"),\n )\nä½¿ç”¨ Jupyter Notebook å†™åšå®¢ä¸ markdown ç±»ä¼¼ï¼Œä½ å¯ä»¥åœ¨ posts æ–‡ä»¶ä¸‹æ–°å»º ipynb æ–‡ä»¶ï¼Œç„¶åç”¨ Jupyter Notebook æ‰“å¼€ç¼–è¾‘ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨å­—å…¸å‘ Jupyter Notebook ä¸­æ·»åŠ åšå®¢æ–‡ç« å¿…éœ€çš„å…ƒä¿¡æ¯ï¼Œæ–¹æ³•ä¸ºæ‰“å¼€ Jupyter Notebookï¼Œèœå•æ é€‰æ‹© Edit -&gt; Edit Notebook Metadataï¼Œæ·»åŠ å¦‚ä¸‹æ ¼å¼ä¿¡æ¯ï¼š\n{\n  \"nikola\": {\n    \"title\": \"Example for Jupyter Notebook metadata configuration\",\n    \"slug\": \"example-for-jupyter-notebook-metadata-configuration\",\n    \"date\": \"2022-04-29 19:52:05 UTC\"\n  }\n}"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#markdown-æ”¯æŒ",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#markdown-æ”¯æŒ",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "markdown æ”¯æŒ",
    "text": "markdown æ”¯æŒ\nNikola é»˜è®¤ä½¿ç”¨ python-markdown è§£æ markdownï¼Œä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨ pandocï¼Œè¿™ç¯‡åšå®¢è®²çš„éå¸¸æ¸…æ¥šã€‚\nå¦å¤–ï¼Œå¦‚æœä½ å–œæ¬¢ä½¿ç”¨ Pelican-style é£æ ¼æ·»åŠ åšå®¢å…ƒä¿¡æ¯ï¼Œéœ€è¦æ·»åŠ  markdown.extensions.meta æ’ä»¶ã€‚æ­¤å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ markdown.extensions.toc æ’ä»¶è‡ªåŠ¨è§£ææ–‡ç« ç›®å½•ã€‚æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œç¼–è¾‘ markdown æ’ä»¶é…ç½®é€‰é¡¹ï¼š\n MARKDOWN_EXTENSIONS = [\n     'markdown.extensions.meta',\n     'markdown.extensions.fenced_code',\n     'markdown.extensions.codehilite',\n     'markdown.extensions.extra',\n     'markdown.extensions.toc',  # è‡ªåŠ¨è§£ææ–‡ç« ç›®å½•\n ]"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#æ•°å­¦å…¬å¼æ”¯æŒ",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#æ•°å­¦å…¬å¼æ”¯æŒ",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "æ•°å­¦å…¬å¼æ”¯æŒ",
    "text": "æ•°å­¦å…¬å¼æ”¯æŒ\nNikola é»˜è®¤ä½¿ç”¨ MathJax æ˜¾ç¤ºæ•°å­¦å…¬å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ Katexã€‚ç¼–è¾‘ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ USE_KATEX=Trueã€‚Nikola é»˜è®¤ä½¿ç”¨ \\(...\\) æ¸²æŸ“è¡Œå†…å…¬å¼ï¼Œä½¿ç”¨ \\[...\\] å’Œ $$...$$ æ¸²æŸ“è¡Œé—´å…¬å¼ã€‚å¦‚æœä½ ä¹ æƒ¯ä½¿ç”¨ $...$ æ¸²æŸ“è¡Œå†…å…¬å¼ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæœç´¢ KATEX_AUTO_RENDER ï¼Œå¦‚ä¸‹ç¼–è¾‘ï¼š\nKATEX_AUTO_RENDER = \"\"\"\ndelimiters: [\n    {left: \"$$\", right: \"$$\", display: true},\n    {left: \"\\\\\\\\[\", right: \"\\\\\\\\]\", display: true},\n    {left: \"\\\\\\\\begin{equation*}\", right: \"\\\\\\\\end{equation*}\", display: true},\n    {left: \"$\", right: \"$\", display: false},\n    {left: \"\\\\\\\\(\", right: \"\\\\\\\\)\", display: false}\n]\n\"\"\""
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#æ›´æ¢ä¸»é¢˜",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#æ›´æ¢ä¸»é¢˜",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "æ›´æ¢ä¸»é¢˜",
    "text": "æ›´æ¢ä¸»é¢˜\né¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸‹è½½ä¸»é¢˜ã€‚åˆ©ç”¨ nikola theme -i bootstrap4 å‘½ä»¤ä¸‹è½½ä¸»é¢˜ã€‚ç„¶åæˆ‘ä»¬ç¼–è¾‘ç«™ç‚¹é…ç½®æ–‡ä»¶ conf.pyï¼Œæœç´¢ THEMEï¼Œå°†ä¸»é¢˜ä¿®æ”¹ä¸º bootstrap4ã€‚"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#å¯¼èˆªæ é…ç½®",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#å¯¼èˆªæ é…ç½®",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "å¯¼èˆªæ é…ç½®",
    "text": "å¯¼èˆªæ é…ç½®\næˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹ THEME_CONFIG æ¥ä¿®æ”¹å¯¼èˆªæ é…è‰²ã€‚bootstrap4 å¯¼èˆªæ é»˜è®¤æ˜¯æš—åº•ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰èƒŒæ™¯é¢œè‰²ï¼Œé…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š\n THEME_CONFIG = {\n      DEFAULT_LANG: {\n          # Use a light navbar with dark text. Defaults to False.                                   \n          'navbar_light': False,\n          # Use a custom navbar color. If unset, 'navbar_light' sets text +\n          # background color. If set, navbar_light controls only background\n          # color. Supported values: bg-dark, bg-light, bg-primary, bg-secondary,\n          # bg-success, bg-danger, bg-warning, bg-info, bg-white, bg-transparent.\n          'navbar_custom_bg': '',\n      }\n }\nå¯¼èˆªæ é»˜è®¤æœ‰åšå®¢å½’æ¡£ã€åˆ†ç±»å’Œ RSS è®¢é˜…æ ç›®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹ NAVIGATION_LINKS æ¥è‡ªå®šä¹‰å¯¼èˆªæ ç›®ã€‚å…¶é»˜è®¤é…ç½®å¦‚ä¸‹ï¼š\nNAVIGATION_LINKS = {\n    DEFAULT_LANG: (\n        (\"/archive.html\", \"Archive\"),\n        (\"/categories/\", \"Tags\"),\n        (\"/rss.xml\", \"RSS feed\"),\n    ),\n}\nè¿™é‡Œ / ä»£è¡¨ç«™ç‚¹èµ„æºæ ¹ç›®å½•ï¼Œå³ output ç›®å½•ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‡å®šèµ„æºç›®å½•ï¼Œè‡ªå®šä¹‰å¯¼èˆªæ ã€‚æ¯”å¦‚åœ¨ categories/ ç›®å½•ä¸‹ï¼ŒNikola ç”Ÿæˆäº† cat_nikolaã€cat_python ç­‰ç±»åˆ«ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šè¿™ä¸¤ä¸ªç›®å½•ï¼Œæ–°å»ºä¸€ä¸ªå¤šçº§ TECH å¯¼èˆªæ ç›®ã€‚\nNAVIGATION_LINKS = {\n    DEFAULT_LANG: (\n        (\"/archive.html\", \"Archive\"),\n        (\"/categories/\", \"Tags\"),\n        (\"/rss.xml\", \"RSS feed\"),\n        (\n          (\n            (\"/categories/cat_nikola/\", \"Nikola\"),\n            (\"/categories/cat_python/\", \"Python\")\n          ),\n          \"TECH\"\n        ),\n    ),\n}"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#ç½‘é¡µå›¾æ ‡ä¸-logo",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#ç½‘é¡µå›¾æ ‡ä¸-logo",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "ç½‘é¡µå›¾æ ‡ä¸ logo",
    "text": "ç½‘é¡µå›¾æ ‡ä¸ logo\né¦–å…ˆæˆ‘ä»¬è¿›å…¥åšå®¢æ ¹ç›®å½•ä¸­çš„ files ç›®å½•ï¼Œæ–°å»º assets ç›®å½•ï¼Œå†æ–°å»º img ç›®å½•ï¼Œç„¶åå°†ç½‘é¡µå›¾æ ‡ favicon å’Œ logo æ–‡ä»¶æ‹·è´åˆ° img ç›®å½•ä¸­ã€‚nikola build åœ¨ç”Ÿæˆé™æ€æ–‡ä»¶æ—¶ä¼šå°† files æ–‡ä»¶ä¸‹çš„èµ„æºéƒ½å¤åˆ¶åˆ° output ç›®å½•ã€‚\nç„¶åç¼–è¾‘ç«™ç‚¹é…ç½®æ–‡ä»¶ conf.py æœç´¢ FAVICONS å’Œ LOGOï¼Œå¦‚ä¸‹é…ç½®ï¼š\nFAVICONS = (\n    (\"icon\", \"/assets/img/favicon.ico\", \"16x16\"),\n)\n\nLOGO_URL = '/assets/img/logo.jpg'"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#ä»£ç æ˜¾ç¤ºé£æ ¼",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#ä»£ç æ˜¾ç¤ºé£æ ¼",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "ä»£ç æ˜¾ç¤ºé£æ ¼",
    "text": "ä»£ç æ˜¾ç¤ºé£æ ¼\nNikola ä½¿ç”¨ Pygments è¿›è¡Œè¯­æ³•é«˜äº®ï¼Œä½ å¯ä»¥åœ¨ Pygments styles é€‰æ‹©è‡ªå·±å–œæ¬¢çš„é…è‰²é£æ ¼ã€‚æˆ‘æ¯”è¾ƒå–œæ¬¢ zenburnï¼Œç¼–è¾‘ç«™ç‚¹é…ç½®æ–‡ä»¶ conf.py ï¼Œæœç´¢ CODE_COLOR_SCHEME ï¼Œå¦‚ä¸‹é…ç½®ï¼š\nCODE_COLOR_SCHEME = 'zenburn'"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#ç›®å½•ç¾åŒ–",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#ç›®å½•ç¾åŒ–",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "ç›®å½•ç¾åŒ–",
    "text": "ç›®å½•ç¾åŒ–\nå¦‚æœä½ ä½¿ç”¨äº† markdown.extensions.toc æ’ä»¶è§£ææ–‡ç« ç›®å½•ï¼Œä½ ä¼šå‘ç°è¿™ä¸ªç›®å½•æ¯”è¾ƒä¸‘ã€‚Nikola ä½¿ç”¨ post.tmpl æ¨¡æ¿æ–‡ä»¶æ¥ç”Ÿæˆåšå®¢æ–‡ç« é¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹è¿™ä¸ªæ¨¡æ¿æ–‡ä»¶ï¼Œä»è€Œç¾åŒ–ç›®å½•ï¼ˆè¿™éœ€è¦ä½ æ‡‚ä¸€ç‚¹å‰ç«¯å’Œ Mako æ¨¡æ¿å¼•æ“çš„çŸ¥è¯†:)\né¦–å…ˆï¼Œæˆ‘ä»¬å°† post.tmpl æ–‡ä»¶å¤åˆ¶åˆ°åšå®¢æ ¹ç›®å½•ï¼Œå‘½ä»¤è¡Œè¾“å…¥ nikola theme -c post.tmplï¼Œè¯¥å‘½ä»¤ä¼šå°† post.tmpl æ–‡ä»¶å¤åˆ¶ templates ç›®å½•ä¸‹ï¼Œç„¶åæˆ‘ä»¬ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ã€‚å› ä¸ºæˆ‘ä»¬åªæ˜¯å¸Œæœ›ç¾åŒ–åšå®¢æ–‡ç« é¡µé¢çš„ç›®å½•ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨å†…éƒ¨æ ·å¼è¡¨ï¼Œåœ¨ &lt;style&gt; æ ‡ç­¾ä¸­å®šä¹‰æ ·å¼ã€‚æ¯”å¦‚ï¼Œæˆ‘æ˜¯è¿™æ ·ç¾åŒ–çš„ï¼š\n@media screen and (min-width: 1024px) {\n    .e-content {\n        display: grid;\n        grid-template-columns: 3fr 1fr;\n        column-gap: 30px;\n        position: relative;\n    }\n\n    .toc {\n        grid-column: 2 / 3;\n        grid-row: 1 / span 999;\n        align-self: start;\n        position: sticky;\n        top: 20px;\n    }\n        \n    .toc::before {\n        content: \"ON this page\";\n        background-color: #ffe70e;\n        color: #444;\n        font-size: 16px;\n        font-weight: bold;\n        font-style: italic;\n        padding: 5px 5px;\n        margin-left: 20px;\n    }\n}\n\n@media screen and (max-width: 767px) {\n    .e-content {\n        display: grid;\n        grid-template-columns: 1fr;\n    }\n            \n    .toc {\n        grid-column: 1 / 2;\n    }\n            \n    .toc::before {\n        content: \"ON this page\";\n        background-color: #ffe70e;\n        color: #444;\n        font-size: 16px;\n        font-weight: bold;\n        font-style: italic;\n        padding: 5px 5px;\n        margin-left: 20px;\n    }\n\n}"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#å®šåˆ¶æ ·å¼",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#å®šåˆ¶æ ·å¼",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "å®šåˆ¶æ ·å¼",
    "text": "å®šåˆ¶æ ·å¼\nNikola æ”¯æŒå®šåˆ¶æ ·å¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ files/assets/css/ ç›®å½•ä¸‹ï¼Œæ–°å»º custom.css æ–‡ä»¶æ¥å®šåˆ¶å…¨å±€å­—ä½“ï¼Œè¡Œè·ç­‰æ ·å¼ã€‚å¦‚æœä½ è§‰å¾—æˆ‘çš„æ ·å¼ä¸é”™ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å¤åˆ¶æˆ‘çš„:)"
  },
  {
    "objectID": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#ä¸ªæ€§åŒ–é¦–é¡µ",
    "href": "posts/2022-04-29-Blog-with-Nikola-and-WSL2/index.html#ä¸ªæ€§åŒ–é¦–é¡µ",
    "title": "å¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢",
    "section": "ä¸ªæ€§åŒ–é¦–é¡µ",
    "text": "ä¸ªæ€§åŒ–é¦–é¡µ\nNikola é»˜è®¤çš„é¦–é¡µæ˜¯åšå®¢æ–‡ç« åˆ—è¡¨ï¼Œå¹¶ä¸”æ˜¯æ˜¾ç¤ºæ–‡ç« å…¨éƒ¨å†…å®¹ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶ INDEX_TEASERS=Trueï¼Œç„¶ååœ¨æ–‡ç« æºæ–‡ä»¶ä¸­åŠ å…¥ &lt;!--- TEASER_END ---&gt; æ¥é€‰æ‹©æ˜¾ç¤ºéƒ¨åˆ†å†…å®¹ã€‚\né¦–é¡µé»˜è®¤æ˜¾ç¤º 10 ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–è¾‘ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­çš„ INDEX_DISPLAY_POST_COUNT æ¥é€‰æ‹©é¦–é¡µæ˜¾ç¤ºçš„æ–‡ç« æ•°é‡ã€‚\næ­¤å¤–ï¼Œå¦‚æœä½ å¸Œæœ›å®šåˆ¶é¦–é¡µï¼Œæ¯”å¦‚é¦–é¡µæ˜¯ä¸€ä¸ª Greeting é¡µé¢ï¼Œæ˜¾ç¤ºä¸ªäººä¿¡æ¯ç­‰ç­‰ï¼ˆåƒæˆ‘è¿™æ ·:) æˆ‘å¼ºçƒˆå»ºè®®ä¿®æ”¹ index.tmpl æ¨¡æ¿æ–‡ä»¶ã€‚å¦‚æœä½ æ‡‚ä¸€ç‚¹å‰ç«¯ï¼Œå¯ä»¥åœ¨è¿™é‡Œå¤§æ˜¾èº«æ‰‹ã€‚ä½¿ç”¨å‘½ä»¤ nikola theme -c index.tmpl å°†æ¨¡æ¿æ–‡ä»¶å¤åˆ¶åˆ° templates ç›®å½•ä¸‹ï¼Œè¿›è¡Œä¿®æ”¹ã€‚"
  },
  {
    "objectID": "posts/2023-08-03-Pandas-Tips-ä½¿ç”¨mergeå®ç°å…³ç³»å‹åˆå¹¶/index.html",
    "href": "posts/2023-08-03-Pandas-Tips-ä½¿ç”¨mergeå®ç°å…³ç³»å‹åˆå¹¶/index.html",
    "title": "Pandas Tips: ä½¿ç”¨mergeå®ç°å…³ç³»å‹åˆå¹¶",
    "section": "",
    "text": "Pandas ä¸­æä¾›äº† merge å‡½æ•°å®ç°å…³ç³»å‹åˆå¹¶ã€‚\ndf1.merge(df2, how='inner', on=None, left_on=None, right_on=None, \n         left_index=False, right_index=False, sort=False, \n         suffixes=('_x', '_y'), copy=None, indicator=False, validate=None)\nä¸»è¦å‚æ•°å«ä¹‰ï¼š\n\ndf2ï¼šå¾…åˆå¹¶çš„ DataFrame æˆ–è€… Series\nhowï¼šåˆå¹¶æ–¹å¼\n\nleftï¼šå·¦è¿æ¥ï¼Œåˆå¹¶åæ˜¾ç¤º df1 çš„æ‰€æœ‰è¡Œ\nrightï¼šå³è¿æ¥ï¼Œåˆå¹¶åæ˜¾ç¤º df2 çš„æ‰€æœ‰è¡Œ\nouterï¼šå¤–è¿æ¥ï¼Œåˆå¹¶åæ˜¾ç¤º df1ã€df2 çš„æ‰€æœ‰è¡Œ\ninnerï¼šå†…è¿æ¥ï¼Œåˆå¹¶åæ˜¾ç¤º df1ã€df2 çš„å…±æœ‰è¡Œ\ncrossï¼šäº¤å‰è¿æ¥ï¼Œåˆå¹¶åæ˜¾ç¤º df1ã€df2 çš„ç¬›å¡å°”ç§¯\n\nonï¼šåˆ—åæˆ–è€…ç´¢å¼•åï¼Œdf1 å’Œ df2 åˆå¹¶çš„é”®\nleft_onã€right_onï¼šå½“ df1 å’Œ df2 å¾…åˆå¹¶çš„é”®åœ¨è¡¨ä¸­çš„åç§°ä¸ä¸€æ ·æ—¶ï¼Œå¯åˆ†åˆ«æŒ‡å®š\nleft_indexã€right_indexï¼šå¸ƒå°”å˜é‡ï¼Œæ˜¯å¦ä½¿ç”¨ç´¢å¼•è¿›è¡Œåˆå¹¶\nsuffixesï¼šåˆ—è¡¨ç±»å‹ã€‚å¦‚æœä¸¤å¼ è¡¨ä¸­æœ‰ç›¸åŒçš„åˆ—åï¼Œsuffixes ä¸ºåˆå¹¶è¡¨çš„åˆ—åæä¾›äº†åç¼€\n\n\nimport numpy as np\nimport pandas as pd\n\n\n# create some toy data\ndf1 = pd.DataFrame({'Date': pd.date_range('2023-08-01', periods=5),\n                    'Company': ['A', 'B', 'C', 'D', 'E'],\n                    'Close': [20, 23, 21, 22, 20]})\ndf2 = pd.DataFrame({'Date': pd.date_range('2023-08-03', periods=5),\n                    'Firm': ['C', 'D', 'E', 'F', 'G'],\n                    'Volume': [100, 101, 120, 110, 105]})\n\n\ndf1\n\n\n\n\n\n\n\n\nDate\nCompany\nClose\n\n\n\n\n0\n2023-08-01\nA\n20\n\n\n1\n2023-08-02\nB\n23\n\n\n2\n2023-08-03\nC\n21\n\n\n3\n2023-08-04\nD\n22\n\n\n4\n2023-08-05\nE\n20\n\n\n\n\n\n\n\n\ndf2\n\n\n\n\n\n\n\n\nDate\nFirm\nVolume\n\n\n\n\n0\n2023-08-03\nC\n100\n\n\n1\n2023-08-04\nD\n101\n\n\n2\n2023-08-05\nE\n120\n\n\n3\n2023-08-06\nF\n110\n\n\n4\n2023-08-07\nG\n105\n\n\n\n\n\n\n\nmerge é»˜è®¤ä½¿ç”¨å†…è¿æ¥ï¼ˆinnerï¼‰ï¼Œå¦‚æœä¸æŒ‡å®šåˆå¹¶çš„é”®ï¼Œé»˜è®¤ä½¿ç”¨ä¸¤å¼ è¡¨ä¸­å…±åŒçš„åˆ—ä½œåˆå¹¶ï¼Œdf1 å’Œ df2 å…±åŒçš„åˆ—æ˜¯ dateï¼Œåˆå¹¶åæ˜¾ç¤ºå…±æœ‰çš„ dateï¼š\n\ndf1.merge(df2)\n\n\n\n\n\n\n\n\nDate\nCompany\nClose\nFirm\nVolume\n\n\n\n\n0\n2023-08-03\nC\n21\nC\n100\n\n\n1\n2023-08-04\nD\n22\nD\n101\n\n\n2\n2023-08-05\nE\n20\nE\n120\n\n\n\n\n\n\n\nä½¿ç”¨ left_on å’Œ right_on å‚æ•°å¯ä»¥æŒ‡å®šä¸¤å¼ è¡¨åšåˆå¹¶çš„é”®ï¼Œä¸‹é¢æŒ‡å®šä½¿ç”¨ df1 ä¸­çš„ Company å’Œ df2 ä¸­çš„ Firm æ¥åšåˆå¹¶ï¼š\n\ndf1.merge(df2, \n          left_on='Company', \n          right_on='Firm')\n\n\n\n\n\n\n\n\nDate_x\nCompany\nClose\nDate_y\nFirm\nVolume\n\n\n\n\n0\n2023-08-03\nC\n21\n2023-08-03\nC\n100\n\n\n1\n2023-08-04\nD\n22\n2023-08-04\nD\n101\n\n\n2\n2023-08-05\nE\n20\n2023-08-05\nE\n120\n\n\n\n\n\n\n\nç”±äº df1 å’Œ df2 ä¸­éƒ½æœ‰ Date è¿™ä¸€åˆ—ï¼Œä¸ºäº†åŠ ä»¥åŒºåˆ†ï¼ŒPandas è‡ªåŠ¨ç»™ä¸¤å¼ è¡¨ä¸­çš„ Date åŠ äº†åç¼€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ suffixes å‚æ•°æ¥è‡ªå®šä¹‰åç¼€ï¼š\n\ndf1.merge(df2,\n          left_on='Company', \n          right_on='Firm',\n          suffixes=['_1', '_2'])\n\n\n\n\n\n\n\n\nDate_1\nCompany\nClose\nDate_2\nFirm\nVolume\n\n\n\n\n0\n2023-08-03\nC\n21\n2023-08-03\nC\n100\n\n\n1\n2023-08-04\nD\n22\n2023-08-04\nD\n101\n\n\n2\n2023-08-05\nE\n20\n2023-08-05\nE\n120\n\n\n\n\n\n\n\nä½†æ˜¯æ—¢ç„¶ä¸¤å¼ è¡¨é‡Œéƒ½æœ‰ Date è¿™ä¸€åˆ—ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨å¤šé”®åˆå¹¶ï¼š\n\ndf1.merge(df2, \n          left_on=['Date', 'Company'], \n          right_on=['Date','Firm'])\n\n\n\n\n\n\n\n\nDate\nCompany\nClose\nFirm\nVolume\n\n\n\n\n0\n2023-08-03\nC\n21\nC\n100\n\n\n1\n2023-08-04\nD\n22\nD\n101\n\n\n2\n2023-08-05\nE\n20\nE\n120\n\n\n\n\n\n\n\nä½¿ç”¨ how å‚æ•°å¯ä»¥æŒ‡å®šåˆå¹¶çš„æ–¹å¼ï¼Œleft è¡¨ç¤ºå·¦è¿æ¥ï¼Œåˆå¹¶åæ˜¾ç¤º df1 çš„æ‰€æœ‰è¡Œï¼Œdf2 ä¸­æ²¡æœ‰ 2023-08-01 å’Œ 2023-08-02 ä¸¤å¤©ï¼Œåˆ™å¯¹åº”çš„ Firm å’Œ Volume æ˜¾ç¤ºä¸ºç©ºå€¼ã€‚\n\ndf1.merge(df2, how='left')\n\n\n\n\n\n\n\n\nDate\nCompany\nClose\nFirm\nVolume\n\n\n\n\n0\n2023-08-01\nA\n20\nNaN\nNaN\n\n\n1\n2023-08-02\nB\n23\nNaN\nNaN\n\n\n2\n2023-08-03\nC\n21\nC\n100.0\n\n\n3\n2023-08-04\nD\n22\nD\n101.0\n\n\n4\n2023-08-05\nE\n20\nE\n120.0\n\n\n\n\n\n\n\nright è¡¨ç¤ºå³è¿æ¥ï¼Œåˆå¹¶åæ˜¾ç¤º df2 çš„æ‰€æœ‰è¡Œï¼š\n\ndf1.merge(df2, how='right')\n\n\n\n\n\n\n\n\nDate\nCompany\nClose\nFirm\nVolume\n\n\n\n\n0\n2023-08-03\nC\n21.0\nC\n100\n\n\n1\n2023-08-04\nD\n22.0\nD\n101\n\n\n2\n2023-08-05\nE\n20.0\nE\n120\n\n\n3\n2023-08-06\nNaN\nNaN\nF\n110\n\n\n4\n2023-08-07\nNaN\nNaN\nG\n105\n\n\n\n\n\n\n\nouter è¡¨ç¤ºå¤–è¿æ¥ï¼Œåˆå¹¶åæ˜¾ç¤º df1 å’Œ df2 çš„æ‰€æœ‰è¡Œï¼š\n\ndf1.merge(df2, how='outer')\n\n\n\n\n\n\n\n\nDate\nCompany\nClose\nFirm\nVolume\n\n\n\n\n0\n2023-08-01\nA\n20.0\nNaN\nNaN\n\n\n1\n2023-08-02\nB\n23.0\nNaN\nNaN\n\n\n2\n2023-08-03\nC\n21.0\nC\n100.0\n\n\n3\n2023-08-04\nD\n22.0\nD\n101.0\n\n\n4\n2023-08-05\nE\n20.0\nE\n120.0\n\n\n5\n2023-08-06\nNaN\nNaN\nF\n110.0\n\n\n6\n2023-08-07\nNaN\nNaN\nG\n105.0\n\n\n\n\n\n\n\ncross è¡¨ç¤ºäº¤å‰åˆå¹¶ï¼Œåˆå¹¶åæ˜¾ç¤º df1 å’Œ df2 çš„ç¬›å¡å°”ç§¯ï¼š\n\ndf1.merge(df2, how='cross')\n\n\n\n\n\n\n\n\nDate_x\nCompany\nClose\nDate_y\nFirm\nVolume\n\n\n\n\n0\n2023-08-01\nA\n20\n2023-08-03\nC\n100\n\n\n1\n2023-08-01\nA\n20\n2023-08-04\nD\n101\n\n\n2\n2023-08-01\nA\n20\n2023-08-05\nE\n120\n\n\n3\n2023-08-01\nA\n20\n2023-08-06\nF\n110\n\n\n4\n2023-08-01\nA\n20\n2023-08-07\nG\n105\n\n\n5\n2023-08-02\nB\n23\n2023-08-03\nC\n100\n\n\n6\n2023-08-02\nB\n23\n2023-08-04\nD\n101\n\n\n7\n2023-08-02\nB\n23\n2023-08-05\nE\n120\n\n\n8\n2023-08-02\nB\n23\n2023-08-06\nF\n110\n\n\n9\n2023-08-02\nB\n23\n2023-08-07\nG\n105\n\n\n10\n2023-08-03\nC\n21\n2023-08-03\nC\n100\n\n\n11\n2023-08-03\nC\n21\n2023-08-04\nD\n101\n\n\n12\n2023-08-03\nC\n21\n2023-08-05\nE\n120\n\n\n13\n2023-08-03\nC\n21\n2023-08-06\nF\n110\n\n\n14\n2023-08-03\nC\n21\n2023-08-07\nG\n105\n\n\n15\n2023-08-04\nD\n22\n2023-08-03\nC\n100\n\n\n16\n2023-08-04\nD\n22\n2023-08-04\nD\n101\n\n\n17\n2023-08-04\nD\n22\n2023-08-05\nE\n120\n\n\n18\n2023-08-04\nD\n22\n2023-08-06\nF\n110\n\n\n19\n2023-08-04\nD\n22\n2023-08-07\nG\n105\n\n\n20\n2023-08-05\nE\n20\n2023-08-03\nC\n100\n\n\n21\n2023-08-05\nE\n20\n2023-08-04\nD\n101\n\n\n22\n2023-08-05\nE\n20\n2023-08-05\nE\n120\n\n\n23\n2023-08-05\nE\n20\n2023-08-06\nF\n110\n\n\n24\n2023-08-05\nE\n20\n2023-08-07\nG\n105"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "æ¬¢è¿æ¥åˆ°çƒå½¢æ±¤å§†",
    "section": "",
    "text": "æ¬¢è¿æ¥åˆ°çƒå½¢æ±¤å§†ï¼Œè¿™æ˜¯ç”± Tom ç»´æŠ¤çš„ä¸ªäººç½‘ç«™ã€‚"
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "çƒå½¢æ±¤å§†",
    "section": "",
    "text": "Order By\n       Default\n         \n          Title\n        \n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Author\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\n\n\n\n\n\nä¾›åº”é“¾å…±åŒå®¡è®¡çš„æ ·æœ¬å¤„ç†\n\n\n\n\n\n\n\n\n\n\n\n2025-01-04\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nè®¡ç®—20ä¸‡ä¸ªæ ·æœ¬çš„CAR\n\n\n\n\n\n\n\n\n\n\n\n2024-10-02\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nPythonä¸­çš„å¤šè¿›ç¨‹å®ç°\n\n\n\n\n\n\n\n\n\n\n\n2024-09-13\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nPandas Tipsï¼šåˆ‡åˆ†DataFrame\n\n\n\n\n\n\n\n\n\n\n\n2024-09-12\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nPythonä¸­çš„ç”Ÿæˆå™¨è¡¨è¾¾å¼ä¸ç”Ÿæˆå™¨\n\n\n\n\n\n\n\n\n\n\n\n2024-09-11\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nä½¿ç”¨Globæ¨¡å—å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶\n\n\n\n\n\n\n\n\n\n\n\n2024-09-07\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nç†µå€¼æ³•çš„åŸç†åŠPythonå®ç°\n\n\n\n\n\nä»‹ç»ç†µå€¼æ³•èƒŒåçš„åŸç†ï¼Œåˆ©ç”¨ç†µå€¼æ³•æµ‹åº¦ç»¼åˆæŒ‡æ ‡çš„åŸºæœ¬æ­¥éª¤ä»¥åŠç†µå€¼æ³•çš„Pythonå®ç°ã€‚\n\n\n\n\n\n2024-08-14\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nWSL2+OhMyZsh+VSCodeå¼€å‘ç¯å¢ƒæ­å»º\n\n\n\n\n\nè¿™ç¯‡åšå®¢è®°å½•åœ¨ WSL2 ä¸­æ­å»ºå¼€å‘ç¯å¢ƒï¼ŒåŒ…æ‹¬ Gitã€Zsh é…ç½®å’Œ Python ç‰ˆæœ¬ç®¡ç†ã€‚\n\n\n\n\n\n2024-02-05\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nä¸€é”®è®¡ç®—CAR\n\n\n\n\n\nä¸€ä¸ªç´¯è®¡å¼‚å¸¸æ”¶ç›Šç‡çš„è®¡ç®—è„šæœ¬ï¼Œæ”¯æŒä¸‰å› å­æ¨¡å‹å’Œå¸‚åœºæ¨¡å‹ï¼Œè‡ªåŠ¨å¯¼å‡ºæè¿°æ€§ç»Ÿè®¡é‡ï¼Œç»˜åˆ¶ ACCR ã€‚\n\n\n\n\n\n2024-02-05\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nPandaså¤‡å¿˜å½•\n\n\n\n\n\nè®°å½•æ•°æ®åˆ†æä¸­å¸¸ç”¨çš„ Pandas å‡½æ•°å’Œä¸€äº›å®ç”¨æŠ€å·§ã€‚\n\n\n\n\n\n2024-01-16\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nMatplotlibç§‘ç ”ç»˜å›¾æ¡ˆä¾‹é›†åˆ\n\n\n\n\n\nè®°å½•è®ºæ–‡å†™ä½œä¸­å¸¸ç”¨çš„ Matplotlib å¯è§†åŒ–æ¡ˆä¾‹ã€‚\n\n\n\n\n\n2024-01-08\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nå¤šå˜é‡çº¿æ€§ç›¸å…³æ€§å¯è§†åŒ–æ–¹æ³•\n\n\n\n\n\nè®°å½•å¤šå˜é‡çº¿æ€§ç›¸å…³æ€§å¯è§†åŒ–çš„æ–¹æ³•ï¼Œä»¥åŠä¸€ä¸ªå¯ä»¥è¿”å›ç›¸å…³ç³»æ•°å’Œæ˜¾è‘—æ€§æ£€éªŒç»“æœçš„è‡ªå®šä¹‰å‡½æ•°ã€‚\n\n\n\n\n\n2023-12-31\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nç‹¬ç«‹ã€å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³\n\n\n\n\n\nç‹¬ç«‹ã€å‡å€¼ç‹¬ç«‹ä¸çº¿æ€§ä¸ç›¸å…³ä¹‹é—´çš„åŒºåˆ«å’Œè”ç³»ã€‚\n\n\n\n\n\n2023-12-29\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nNumpyä¸­çš„randomæ¨¡å—è¯¦è§£\n\n\n\n\n\nä½¿ç”¨Numpyä¸­çš„randomæ¨¡å—ç”Ÿæˆéšæœºæ•°æœ‰ä½•ä¼˜åŠ¿ï¼ŒGeneratorç±»å¦‚ä½•ä½¿ç”¨ï¼Œä»¥åŠå¸¸ç”¨çš„æ¦‚ç‡åˆ†å¸ƒçš„å®ç°æ–¹æ³•ã€‚\n\n\n\n\n\n2023-12-23\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nQuartoä½¿ç”¨ç¬”è®°\n\n\n\n\n\nè®°å½•ä½¿ç”¨Quartoå»ºç«‹ç½‘ç«™çš„è¿‡ç¨‹ï¼Œä»¥åŠä½¿ç”¨Quartoçš„å°æŠ€å·§ã€‚\n\n\n\n\n\n2023-11-09\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nPygraphvizå®‰è£…è®°å½•\n\n\n\n\n\n\n\n\n\n\n\n2023-11-09\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nå†³ç­–æ ‘ç®—æ³•\n\n\n\n\n\n\n\n\n\n\n\n2023-10-17\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nè¯¦è§£Matplotlibä¸­çš„figureå¯¹è±¡\n\n\n\n\n\n\n\n\n\n\n\n2023-10-14\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nPandas Tips: ä½¿ç”¨mergeå®ç°å…³ç³»å‹åˆå¹¶\n\n\n\n\n\n\n\n\n\n\n\n2023-08-03\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nPandas Tips: ä½¿ç”¨queryå®ç°ä¼˜é›…çš„æŸ¥è¯¢\n\n\n\n\n\n\n\n\n\n\n\n2023-08-01\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nåœ¨Pandasä¸­å¦‚ä½•å®ç°å¤æ‚çš„ç­›é€‰å’ŒæŸ¥è¯¢\n\n\n\n\n\n\n\n\n\n\n\n2023-04-11\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\næ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-çˆ¬å–å·¨æ½®èµ„è®¯å…¬å‘ŠPDFæ–‡ä»¶\n\n\n\n\n\n\n\n\n\n\n\n2023-04-05\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nä¸‰é—¨é—®é¢˜ï¼Œç›´è§‰ç©¶ç«Ÿå»äº†å“ªé‡Œï¼Ÿ\n\n\n\n\n\n\n\n\n\n\n\n2023-03-15\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\næ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-CARè®¡ç®—ä¸æ˜¾è‘—æ€§æ£€éªŒ\n\n\n\n\n\n\n\n\n\n\n\n2023-02-02\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\næ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-æ•°æ®æ¸…æ´—Part2\n\n\n\n\n\n\n\n\n\n\n\n2023-02-01\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\næ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-æ•°æ®æ¸…æ´—Part1\n\n\n\n\n\n\n\n\n\n\n\n2023-01-31\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\næ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-å…¬å‘Šçˆ¬å–\n\n\n\n\n\n\n\n\n\n\n\n2023-01-30\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\næ‰‹æŠŠæ‰‹æ•™ä½ åšäº‹ä»¶ç ”ç©¶-å¯¼è®º\n\n\n\n\n\nè¿™ä¸ªç³»åˆ—åšå®¢ä»¥åŒºå—é“¾æŠ€æœ¯æŠ•èµ„å…¬å‘Šæ•ˆåº”åˆ†æä¸ºä¾‹ï¼Œä»å·¨æ½®èµ„è®¯å…¬å‘Šæ•°æ®é‡‡é›†å¼€å§‹ï¼Œä¸€ç›´åˆ°ç´¯è®¡å¼‚å¸¸æ”¶ç›Šç‡çš„æ˜¾è‘—æ€§æ£€éªŒï¼Œä¿å§†çº§ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Python å®ç°äº‹ä»¶ç ”ç©¶æ³•ã€‚\n\n\n\n\n\n2023-01-28\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nçˆ¬è™«è¸©å‘-ConnectionResetError(100504)\n\n\n\n\n\n\n\n\n\n\n\n2023-01-27\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nåœ¨å¾ªç¯ä¸­ä½¿ç”¨elseè¯­å¥\n\n\n\n\n\n\n\n\n\n\n\n2023-01-15\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nçˆ¬å–æ–°æµªè´¢ç»ESGè¯„çº§æŒ‡æ•°\n\n\n\n\n\n\n\n\n\n\n\n2023-01-13\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nMatplotlibå¸¸ç”¨ç»˜å›¾\n\n\n\n\n\n\n\n\n\n\n\n2022-09-15\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nPlotting with Pandas\n\n\n\n\n\n\n\n\n\n\n\n2022-05-01\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nå¦‚ä½•ä½¿ç”¨ Nikola æ­å»ºä¸ªäººåšå®¢\n\n\n\n\n\n\n\n\n\n\n\n2022-04-29\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nNumpy Notes: Python data analysis\n\n\n\n\n\n\n\n\n\n\n\n2021-09-20\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nMatplotlibç»˜å›¾å·¥ä½œæµ\n\n\n\n\n\n\n\n\n\n\n\n2021-05-22\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nä»0åˆ°1çš„çˆ¬è™«æ•™ç¨‹\n\n\n\n\n\n\n\n\n\n\n\n2021-01-08\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nGolangå­¦ä¹ ç¬”è®°\n\n\n\n\n\n\n\n\n\n\n\n2020-02-03\n\n\nTom\n\n\n\n\n\n\n\n\n\n\n\n\nUbuntu18.04å®‰è£…ä¸é…ç½®\n\n\n\n\n\n\n\n\n\n\n\n2019-04-19\n\n\nTom\n\n\n\n\n\n\nNo matching items"
  }
]